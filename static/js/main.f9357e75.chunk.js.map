{"version":3,"sources":["serviceWorker.ts","utils/Types.ts","db/models.ts","utils/DanfoUtils.ts","data/DataService.ts","db/seedDB.ts","db/DBService.ts","db/AceDB.ts","utils/Cookies.ts","features/users/userSlice.ts","features/notebooks/notebookSlice.ts","app/store.ts","managers/CodeMirrorManager.ts","utils/Meta.ts","managers/NodeTypeManager.ts","managers/NodeExecManager.ts","utils/Colors.ts","components/CustomComponents.tsx","components/InsertCellDropZone.tsx","components/MarkdownCell.tsx","utils/KonvaUtils.ts","components/KonvaComponents.tsx","components/KonvaForm.tsx","managers/NodeConnectionManager.ts","components/Node.tsx","components/GridArray.tsx","components/NodeConnection.tsx","components/NodeCellControls.tsx","components/NodeCellDropZone.tsx","components/NodeCell.tsx","components/ParentCell.tsx","components/Notebook.tsx","components/SourceSidebar.tsx","components/NotebookSidebar.tsx","utils/Regexes.ts","components/PropertiesSidebar.tsx","components/Sidebar.tsx","components/VariableSidebar.tsx","components/Topbar.tsx","assets/nodebooks-logo-low-3.png","pages/MainPage.tsx","pages/UsersPage.tsx","app/OfflineApp.tsx","pages/LoginPage.tsx","app/App.tsx","utils/Descriptions.ts","utils/Errors.ts","utils/MathUtils.ts","nodeTypes/MathNodes.ts","nodeTypes/BaseNodes.ts","nodeTypes/ChartNodes.ts","nodeTypes/DataFrameNodes.binary.ts","nodeTypes/DataFrameNodes.query.ts","nodeTypes/DataFrameNodes.descriptive.ts","nodeTypes/DataFrameNodes.modify.ts","nodeTypes/DataFrameNodes.grouping.ts","nodeTypes/DataFrameNodes.output.ts","nodeTypes/DataFrameNodes.datagen.ts","nodeTypes/DataFrameNodes.ts","nodeTypes/SeriesNodes.descriptive.ts","nodeTypes/SeriesNodes.ts","nodeTypes/ConverterNodes.ts","index.tsx"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","VisibleTypes","InternalTypes","Functions","OR","types","length","join","ARRAY","type","includes","Types","VariableKeys","Object","keys","SourceTypes","isTypeEqual","keyType","valueType","entries","i","entry","UserModel","name","userId","notebooks","this","userObj","forEach","value","push","toObject","obj","model","notebook","notebookModel","NotebookModel","fromObject","notebookId","dateCreated","dateModified","cells","sources","variables","notebookObj","cell","cellModel","CellModel","cellId","source","sourceModel","DataSourceModel","sourceId","variable","variableModel","VariableModel","variableId","nextCell","nodes","connections","cellObj","node","nodeModel","NodeModel","nodeId","connection","connectionModel","NodeConnectionModel","connectionId","fromNodeId","fromSlotId","toNodeId","toSlotId","coords","properties","inputValues","x","y","DanfoUtils","arr","uniqueArr","Set","Array","from","df","columns","groupby","undefined","isNaN","ReferenceError","mapping","values","Error","col","newData","oldValues","valueArr","columnIndex","indexOf","replaceWith","isEmpty","DataFrame","index","dtypes","newDf","copy","apply","map","Number","NaN","toLowerCase","axis","series","mappings","nanByDefault","data","val","sf","$setValues","asType","dtype","rows","_rowIndexes","_columnIndexes","_data","_index","_rows","isArray","temp","startsWith","replace","start","end","rowSplit","split","slice","indexValue","rowsIndexToUse","isBoolean","rowIndex","_columnNames","columnSplit","columnName","newIndex","newColumnNames","newDtypes","rowIndx","rowData","newRowDataWithRequiredCols","j","colIndx","LocalDataSource","DBService","db","jsonObj","Danfo","download","format","buffer","TextEncoder","encode","JSON","stringify","addData","id","_id","_df","CSVSource","csvFile","a","getData","parse","TextDecoder","decode","Promise","resolve","Papa","header","dynamicTyping","complete","results","parsedData","df2","rebuildDataFrame","CSVUrlSource","csvUrl","DataService","_sources","loadToDf","err","titanicSourceId","loadTitanic","url","process","csv","saveToDB","loadTutorialUser","fetch","response","text","jsonStr","user","DBType","AceDB","dbType","readyListeners","Offline","AceBase","WithIndexedDB","removeVoidProperties","Online","localDb","AceBaseClient","cache","host","port","https","dbname","ready","mapToClass","setupSchema","fn","bind","creator","snap","key","ref","serializer","schema","set","root","count","tutorialUser","json","write","str","export","snapshot","remove","get","transaction","query","include","snaps","users","now","Date","notebookRef","exclude","snapshots","exists","String","filter","newCell","lastCellKey","linkedCells","currentKey","currentCell","find","reverse","insertNextToCellId","cellsToLinkedList","cellToMoveIndex","findIndex","cellToMove","prevCell","insertCellToIndex","insertCellTo","insertNextTo","firstCell","cellToRemove","refs","cellSnap","slotId","slotIndex","propertyId","_db","_isRunning","Test","Cookies","date","setTime","getTime","days","document","cookie","toUTCString","parts","pop","shift","initialState","userList","currentUser","createSlice","reducers","addUser","action","payload","removeUser","userIndex","newArr","splice","setUserList","setCurrentUser","removeCurrentUser","updateUserName","actions","createNewUserAsync","dispatch","getState","createNewUser","deleteOfflineUserAsync","setCurrentOfflineUserAsync","getUserDetail","setCookie","updateUserNameAsync","getCurrentUser","userSlice","reducer","notebookDetails","currentNotebook","selectedNode","selectedNodeTypeHelp","isDraggingSource","isDraggingVariable","isDraggingCell","openNotebook","closeNotebook","setNotebookDetails","updateNotebookName","addNotebook","removeNotebook","addDataSource","updateDataSourceName","removeDataSource","sourceIndex","setIsDraggingSource","addVariable","updateVariableName","updateVariableValue","removeVariable","variableIndex","setIsDraggingVariable","addCell","lastCellIndex","updateCellType","cellIndex","removeCell","updateCellValue","insertCell","targetCellId","targetCellIndex","prevCellIndex","insertCellToTop","nextCells","topCellIndex","setIsDraggingCell","addNode","removeNode","nodeIndex","newConns","conn","updateNodeName","updateNodeCoords","selectNode","clearSelectedNode","selectNodeType","nodeType","clearSelectedNodeType","setNodeInputValue","inputVals","setNodeProperty","propertyIndex","addConnection","removeConnection","connectionIndex","removeConnectionWithId","openNotebookAsync","isNotebookOpen","getNotebook","updateNotebookNameAsync","createNewNotebookAsync","createNewNotebook","deleteNotebookAsync","isNotebookInList","createNewDataSourceAsync","getCurrentNotebook","createNewDataSource","sourceObj","updateDataSourceNameAsync","deleteDataSourceAsync","removeData","setIsDraggingSourceAsync","createNewVariableAsync","createNewVariable","variableObj","updateVariableNameAsync","updateVariableValueAsync","deleteVariableAsync","setIsDraggingVariableAsync","createNewCellAsync","createNewCell","updateCellTypeAsync","deleteCellAsync","updateCellValueAsync","updateMarkdownCell","insertCellAsync","insertCellToTopAsync","setIsDraggingCellAsync","createNewNodeAsync","createNewNode","addNodeAsync","cuid","deleteNodeAsync","updateNodeNameAsync","updateNodeCoordsAsync","selectNodeAsync","clearSelectedNodeAsync","selectNodeTypeAsync","clearSelectedNodeTypeAsync","createNewConnectionAsync","createNewNodeConnection","deleteConnectionWithIdAsync","removeNodeConnectionWithId","getNotebookDetails","getNodes","getNodeById","getSelectedNode","getSeparateConnectionsByNodeId","fromConnections","toConnections","notebookSlice","store","configureStore","delayFocusKey","currentNotebookId","subscribe","onStoreUpdate","reset","focus","view","Meta","empty","isPrimitive","constructor","call","defaultValues","description","inputSlots","outputSlots","isDeletable","isHiddenFromList","style","width","height","nodeFunction","input","assignDefaults","defaults","result","isFunction","innerResult","defaultTypeValues","string","number","boolean","NodeTypeManager","collections","collection","nodeGroups","group","addNodeType","coll","addNodeCollection","collId","defaultVals","defaultValue","typeName","customDefaultVal","defaultVal","NodeExecManager","outputs","errors","cellExecs","v","exec","execs","runFunc","nodeIds","runInSequence","all","savedOutput","getType","getInputs","slot","connIndex","nodeInputValIndex","nodeInputValue","output","property","prop","propIndex","nodeProperty","propertyObj","errorFunctionCreator","message","errorHandler","debug","warning","Colors","hex","m","r","g","b","parseInt","opacity","rgb","hexToRGB","rgba","Gray","Red","Orange","Yellow","Green","Teal","Blue","Indigo","Purple","Pink","PrimaryButton","props","uniqueId","className","twMerge","isDisabled","disabled","onClick","icon","tooltip","place","effect","SecondaryButton","CancelButton","OKButton","FileButton","useRef","current","click","accept","display","onChange","event","target","files","file","TextArea","boxShadow","regex","isMatch","border","label","readonly","minRows","onKeyDown","wordWrap","CustomModal","Modal","top","left","transform","renderBackdrop","children","Input","placeholder","textOverflow","Checkbox","checkType","onToggle","Dropdown","control","provided","borderRadius","borderWidth","backgroundColor","borderBottomWidth","fontSize","menu","option","isSelected","isFocused","styles","options","isSearchable","ContextMenuItem","InsertCellDropZone","isHovering","onDrop","preventDefault","setState","dataTransfer","currentCellId","bottom","onDragEnter","onDragOver","onDragLeave","React","Component","MarkdownCell","createRef","savedInput","isEditing","onSubmit","onSaveCell","onEdit","shiftKey","CodeMirrorManager","delayedFocus","minHeight","addRef","extensions","basicSetup","oneDarkHighlightStyle","markdown","update","docChanged","doc","toString","right","onDoubleClick","remarkPlugins","remarkGfm","rehypePlugins","rehypeHighlight","KonvaUtils","cursorType","stage","getStage","container","cursor","KonvaButton","cornerRadius","textOffsetY","textColor","onMouseEnter","cancelBubble","setCursor","onMouseLeave","fill","offsetY","fontStyle","align","verticalAlign","KonvaForm","cancelInput","cancelDropdown","showInput","onHover","onHoverExit","padding","hoverColor","zIndex","isEditable","scale","scaleX","boundingRect","getBoundingClientRect","absolutePosition","createElement","body","appendChild","position","Math","max","min","paddingLeft","color","onchange","ev","inputElement","layer","currentTarget","getLayer","setAttr","draw","bgColor","onTap","parentNode","removeChild","defaultProps","selectedIndex","showDropdown","dropdown","innerText","add","dropdownElement","connectionRefs","layerRef","moveToInitialPos","getConnectionById","fromNode","toNode","connRef","setFromCoords","setToCoords","batchDraw","NodeHandle","startPosition","onDragStart","onDragMove","onDragEnd","onConnect","isSlotTypeEqual","isOtherInputSlotConnected","isGraphCyclic","cancel","parent","startPos","getPosition","endPos","pathData","path","Konva","Path","stroke","strokeWidth","setZIndex","isInput","midpointPos","thisCircle","destroy","pointerPos","getPointerPosition","screenX","floor","screenY","elements","getAllIntersections","otherNodeId","otherSlotId","elem","getAttr","element","otherNode","otherNodeType","nodeSlot","otherNodeSlot","inputSlotTypes","outputSlotType","startNodeId","endNodeId","isConnected","radius","listening","rotation","strokeEnabled","draggable","evt","Slot","labelWidth","typeWidth","offsetX","Node","unsubscribe","isDragging","updateNode","onClickNode","onDragNodeStart","onDragNode","onDragNodeEnd","onUpdateName","onDeleteNode","pos","NodeConnectionManager","moveConnections","newPos","nodeWidth","topBarHeight","nodeHeight","numSlots","selector","enabled","shadowEnabled","shadowColor","shadowBlur","GridArray","currentIndex","containerWidth","setPos","setScale","setContainerWidth","round","WIDTH","GridArrayInner","generateColumns","diff","ceil","cols","indexToCoord","n","useImage","image","Fragment","NodeConnection","fromNodeWidth","fromSlotHeight","toSlotHeight","fromCoords","toCoords","onDeleteConnection","fromNodeType","toNodeType","fromSlotIndex","slotHeight","toSlotIndex","removeRef","NodeConnectionInner","lineSlack","useState","isHovered","setIsHovered","midPoint","visible","AddNodeItem","typeId","onAddNode","AddNodeGroup","isOpen","toggleGroup","prevState","child","marginLeft","marginRight","AddNodeModal","nextPosIndex","onHideModal","addEventListener","prevProps","show","removeEventListener","onHide","stagePos","nextPos","typeIds","getVisibleTypeIds","objCreator","partialId","partialGroup","fullId","ids","partial","typeObj","minWidth","NodeControls","showModal","onRunCell","NodeCellControls","onZoomIn","onZoomOut","onReset","NodeCellDropZoneInner","dataType","NodeCellDropZone","connect","NodeCell","gridArray","outputBox","minScale","maxScale","fitToParent","zoomInView","zoomOutView","resetView","onZoom","runCell","addCellExec","stageObj","newScale","scaleY","oldScale","pointer","mousePosition","deltaY","resetCellOutputs","setters","endsWith","setter","runFunction","outputNodes","sort","aOrderIndex","bOrderIndex","runFunctions","getErrors","onResize","offsetWidth","offsetHeight","tabIndex","onWheel","setLayerRef","ErrorItem","ShowResult","currentStyle","resultType","typedResult","colors","maxWidth","chartType","labels","datasets","dataLabels","rgbaToStr","hexToRGBA","borderColor","plugins","title","scales","ticks","precision","beginAtZero","stacked","line","tension","isSmooth","stack","indexAxis","itemRadius","outlierStyle","indexes","autoHeight","autoHeightMax","row","index2","ParentCell","isHover","isOptions","isDelete","changeCellType","showDeleteModal","hideDeleteModal","deleteCell","stopPropagation","setData","next","Toggle","meta","toggle","Menu","flip","NotebookInner","scrollbarRef","updateNotebook","createNodeCell","createMarkdownCell","direction","selectedNodeType","runCells","maxHeight","replaceAll","isHidden","Notebook","SourceItem","isRename","renameValue","isPreview","preview","outputOrder","onDragSourceStart","showRenameModal","hideRenameModal","renameSource","deleteSource","showPreviewModal","hidePreviewModal","head","shape","value1","value2","SourceSidebar","isAddingSource","sourceName","sourceType","sourceFile","showAddSourceModal","hideAddSourceModal","onChooseCSVFile","onAddSource","NotebookItem","renameNotebook","deleteNotebook","to","NotebookSidebar","isAddingNotebook","notebookName","showAddNotebookModal","hideAddNotebookModal","sortedNotebooks","localeCompare","Regexes","baseLabelRegex","labelRegex","RegExp","labelCommaRegex","labelSliceRegex","baseValueRegex","valueRegex","valueCommaRegex","baseLabelMapRegex","labelMapRegex","baseValueMapRegex","valueMapRegex","baseLabelValueMapRegex","labelValueMapRegex","conditionRegex","baseNumberRegex","numberRegex","numberCommaRegex","numberSliceRegex","baseNumberMapRegex","numberMapRegex","emptyRegex","combine","regexes","processCommaDelimString","baseRegex","trim","processCommaDelimNumber","SidebarTabState","PropertiesSidebarInner","newPropertyValues","inputs","newInputValues","onStringPropertyChange","onNumberPropertyChange","onBooleanPropertyToggle","saveAllProperties","resetAllProperties","saveAllInputs","resetAllInputs","newValue","isInvalid","updateValues","keyVal","inputObj","valIndex","isPropertyDisabled","isInputDisabled","marginTop","onStringInputChange","onNumberInputChange","onBooleanInputToggle","isReadOnly","PropertiesSidebar","VariableItem","isChangeValue","onDragVariableStart","renameVariable","deleteVariable","showChangeValueModal","hideChangeValueModal","onStringValueChange","onNumberValueChange","onBooleanValueToggle","changeValue","varDf","getVariable","VariableSidebar","isAddingVariable","variableName","variableType","showAddVariableModal","hideAddVariableModal","onAddVariable","variableOptions","SidebarInner","currentState","Notebooks","onNotebookTabClick","onSourcesTabClick","onVariablesTabClick","onPropertiesTabClick","getNotebookDetailsByUser","Properties","newState","None","Sources","Variables","Sidebar","Topbar","src","deleteCookie","MainPage","exact","component","NotebookWrapper","useParams","UserItem","renameUser","deleteUser","UsersPageInner","isAddingUser","userName","showAddUserModal","hideAddUserModal","getAllUsers","sortedUsers","UsersPage","OfflineAppInner","isDbLoading","onDBReady","onReady","seedDatabase","getCookie","OfflineApp","App","library","fas","fab","Descriptions","NodeSpecific","PrimitiveOutput","Description","LineChart","IsSmoothProperty","StackedLineChart","BarChart","HorizontalBarChart","StackedBarChart","ViolinPlot","BoxPlot","AddDataFrame","SubtractDataFrame","MultiplyDataFrame","DivideDataFrame","ModDataFrame","PowerDataFrame","AbsoluteDataFrame","RoundDataFrame","RandomLabels","LabelsOutput","LabelsProperty","RandomData","DataOutput","ColumnNamesProperty","MinMaxProperty","IsIntegersProperty","ARange","ARangeOutput","StartProperty","StopProperty","StepProperty","DescribeDataFrame","Histogram","CountOutput","NameProperty","BinsProperty","HeadDataFrame","TailDataFrame","CountDataFrame","CountRowsOutput","CountColumnsOutput","GroupByDataFrame","KeysProperty","GroupCountDataFrame","IsPercentProperty","GroupCumMaxDataFrame","GroupCumMinDataFrame","GroupCumSumDataFrame","GroupCumProdDataFrame","GroupMeanDataFrame","GroupSumDataFrame","GroupMaxDataFrame","GroupMinDataFrame","GroupStdDataFrame","GroupVarDataFrame","MapDataFrame","ColumnProperty","MappingsProperty","ReplaceColumnProperty","RenameColumns","RemoveColumns","FillNaDataFrame","SortDataFrame","SortByColumnProperty","IsAscendingProperty","MergeDataFrames","LeftInput","RightInput","OnColumnsProperty","JoinTypeProperty","AppendDataFrame","Input1Input","Input2Input","DataFrameOutput","RowCountProperty","DataFrameLoc","ColumnsProperty","RowsProperty","ResetIndexProperty","DataFrameiLoc","GetNumericalColumns","CountSeries","SkipNullProperty","CumMaxSeries","CumMinSeries","CumSumSeries","CumProdSeries","MaxSeries","MinSeries","MeanSeries","MedianSeries","ModeSeries","SumSeries","StdSeries","VarSeries","NUniqueSeries","DataFrameToSeries","SeriesToDataFrame","AddNumbers","Addend1Input","Addend2Input","SubtractNumbers","MinuendInput","SubtrahendInput","MultiplyNumbers","MultiplicandInput","MultiplierInput","DivideNumbers","DividendInput","DivisorInput","ModuloNumbers","PowerNumbers","BaseInput","ExponentInput","SqrtNumber","LogNumbers","NumberInput","AbsNumber","InvertNumber","FloorNumber","RoundNumber","CeilingNumber","RandomNumber","MinProperty","MaxProperty","PiConstant","Output","EConstant","EulerConstant","Root2Constant","GoldenRatioConstant","SineNumber","CosineNumber","TangentNumber","ArcSineNumber","ArcCosineNumber","ArcTangentNumber","CosecantNumber","SecantNumber","CotangentNumber","Common","InputValueToOutput","OutputOrderProperty","ResultOutput","DataFrameInput","SeriesInput","Chart","LabelsInput","DataInput","DataWithLabelInput","TitleProperty","LabelsColumnProperty","IgnoreDenseLabelsProperty","DataFrameBinary","IsRowAxisProperty","DataFrameDataGen","SeedInput","ColumnNameProperty","DataFrameDescriptive","DataFrameGrouping","GroupColumnsProperty","TargetColumnsProperty","DataFrameModify","InputNumber","Errors","MissingNodeProperties","MissingNodeInput","inputName","EmptyNodePropertyNoEffect","propertyName","EmptyArray","modifier","ValueNotExists","ValueExists","CannotBeEmpty","NumberCannotBeZero","NumberCannotBeNegative","NumberCannotBeZeroOrNegative","ArrayLengthsNotEqual","arr1","arr2","ColumnValueWrongType","column","DataFrameNullColumnsCannotDescribe","DataFrameNumericalColumnsOnly","DataFrameOnlyOneNonNumericalColumn","dfName","DataFrameMismatchShape","df1Name","df1Shape","df2Name","df2Shape","DataFrameSeriesMismatchShape","dfSize","seriesName","seriesSize","DenseUniqueLabels","DoesNotMatchPattern","MinCannotBeGreaterThanMax","pair","InvalidStartStopStepConfig","stop","step","MathUtils","num","places","addNumbers","addend1","addend2","sum","subtractNumbers","minuend","subtrahend","difference","multiplyNumbers","multiplicand","multiplier","product","divideNumbers","dividend","divisor","quotient","moduloNumbers","modulo","mod","powerNumbers","base","exponent","power","pow","sqrtNumber","radicand","sqrt","logNumbers","absNumber","abs","invertNumber","invert","floorNumber","roundNumber","ceilingNumber","ceiling","randomNumber","random","piConstant","pi","PI","eConstant","e","E","eulerConstant","euler","root2Constant","root2","goldenRatioConstant","goldenRatio","sineNumber","sine","sin","cosineNumber","cosine","cos","tangentNumber","tangent","tan","arcsineNumber","arcsine","asin","arccosineNumber","arccosine","acos","arctangentNumber","arctangent","atan","cosecantNumber","cosecant","secantNumber","secant","cotangentNumber","cotangent","MathNodes","primitiveOutputNode","inputType","csvSourceNode","outputMsg","inputStr","getStringVariableNode","setStringVariableNode","inputVal","setVariable","getNumberVariableNode","setNumberVariableNode","getBooleanVariableNode","setBooleanVariableNode","getDataFrameVariableNode","setDataFrameVariableNode","getSeriesVariableNode","Series","setSeriesVariableNode","BaseNodes","lineChartOutputNode","invalidColumns","getColumnData","stackedLineChartOutputNode","barChartOutputNode","horizontalBarChartOutputNode","stackedBarChartOutputNode","violinPlotOutputNode","labelsColumn","ignoreDenseLabels","dfNoLabel","drop","uniqueLabels","unique","resultData","loc","eq","boxPlotOutputNode","ChartNodes","addDataFrame","input1","input2","isRowAxis","invalidColumns1","invalidColumns2","size","subtractDataFrame","sub","multiplyDataFrame","mul","divideDataFrame","div","modDataFrame","powerDataFrame","absDataFrame","roundDataFrame","numDecimal","BinaryOpsNodes","getConditionMask","cond","comp","gt","ge","lt","le","ne","locNode","columnPattern","rowPattern","resetIndex","reset_index","ilocNode","iloc","getNumericalColumns","validColumns","QueryNodes","describeDataFrame","nullCols","describe","histogram","bins","colName","fraction","headDataFrame","rowCount","tailDataFrame","tail","countDataFrame","countRows","countColumns","DataFrameDescriptiveNodes","mapDataFrame","replaceColumn","mappingsVal","columnType","mappingsObj","mean","newCol","addColumn","inplace","renameColumns","hasError","rename","removeColumns","fillNaDataFrame","fillna","sortDataFrame","sortByColumn","isAscending","sort_values","by","ascending","mergeDataFrame","onColumnsPattern","joinType","onColumns","dfList","invalidValues","on","how","appendDataFrame","ModifyNodes","groupbyDataFrame","columnsArr","keysArr","colIndex","getGroup","groupCountDataFrame","groupColumns","isPercent","groupColumnsArr","countCol","total","groupCumMaxDataFrame","targetColumns","targetColumnsArr","cumMax","groupCumMinDataFrame","cumMin","groupCumSumDataFrame","cumSum","groupCumProdDataFrame","cumProd","groupSumDataFrame","groupMeanDataFrame","groupMaxDataFrame","groupMinDataFrame","groupStdDataFrame","std","groupVarDataFrame","var","GroupingNodes","dataFrameOutput","toDecimal","OutputNodes","randomLabelsColumn","seed","labelPattern","rand","labelNames","randIndex","randomData","columnNamesPattern","minMaxPattern","isIntegers","columnNames","minMax","dataObj","minMaxSplit","baseRandomVal","randomVal","arangeNode","arange","DataFrameNodes","countSeries","skipNull","cumMaxSeries","cumMinSeries","cumSumSeries","cumProdSeries","maxSeries","minSeries","meanSeries","medianSeries","median","modeSeries","mode","sumSeries","stdSeries","varSeries","variance","nuniqueSeries","nunique","nUnique","SeriesNodes","dataFrameToSeries","seriesToDataFrame","ConverterNodes","addNodeCollections","registerables","ViolinController","ReactDOM","render","StrictMode","getElementById","URL","href","origin","headers","contentType","status","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.f9357e75.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(\n            process.env.PUBLIC_URL,\n            window.location.href\n        );\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === \"installed\") {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log(\"Content is cached for offline use.\");\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error(\"Error during service worker registration:\", error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { \"Service-Worker\": \"script\" }\n    })\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get(\"content-type\");\n            if (\n                response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                \"No internet connection found. App is running in offline mode.\"\n            );\n        });\n}\n\nexport function unregister() {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready\n            .then(registration => {\n                registration.unregister();\n            })\n            .catch(error => {\n                console.error(error.message);\n            });\n    }\n}\n","const VisibleTypes = {\n    \"String\": \"string\",\n    \"Number\": \"number\",\n    \"Boolean\": \"boolean\",\n    \"DataFrame\": \"DataFrame\",\n    \"Series\": \"Series\"\n};\n\nconst HiddenTypes = {\n    \"Output\": \"Output\"\n};\n\nconst InternalTypes = {\n    \"NoType\": \"_noType_\"\n};\n\nconst Functions = {\n    OR: (...types: string[]): string => {\n        if (types.length < 1)\n            return InternalTypes.NoType;\n        return types.join(\" | \");\n    },\n    ARRAY: (type: string): string => {\n        if (type.includes(\"|\"))\n            return `(${type})[]`;\n        return `${type}[]`;\n    }\n};\n\nexport const Types = {\n    ...VisibleTypes,\n    ...HiddenTypes,\n    ...Functions\n};\n\nexport type VariableType = keyof typeof VisibleTypes;\nexport const VariableKeys = Object.keys(VisibleTypes);\n\nexport const SourceTypes = {\n    \"CSV\": \"csv\",\n};\n\nexport type SourceType = keyof typeof SourceTypes;\nexport const SourceKeys = Object.keys(SourceTypes);\n\n// This should only be used when the keyType is something like 'Number'\n// but the valueType is something like 'number'\nexport function isTypeEqual(keyType: string, valueType: string): boolean {\n    const entries = Object.entries(Types);\n    for (let i = 0; i < entries.length; i++) {\n        const entry = entries[i];\n        if (entry[0] === keyType && entry[1] === valueType)\n            return true;\n    }\n\n    return false;\n}","import { NodeInputValue, NodeProperty, Primitives, Vector2 } from \"../types\";\n\ninterface IObjectConvertible<TModel, TObject> {\n    toObject(): TObject;\n}\n\nexport type UserObject = {\n    userId: string;\n    name: string;\n    notebooks: NotebookObject[];\n}\n\nexport class UserModel implements IObjectConvertible<UserModel, UserObject> {\n    public userId = \"\";\n    public name: string;\n    public notebooks?: {\n        [key: string]: NotebookModel;\n    }\n\n    constructor(\n        name: string\n    ) {\n        this.name = name;\n    }\n\n    static fromObject(obj: UserObject): UserModel {\n        const model = new UserModel(obj.name);\n        model.userId = obj.userId;\n        \n        const notebooks: {\n            [key: string]: NotebookModel;\n        } = {};\n        obj.notebooks.forEach(notebook => {\n            const notebookModel = NotebookModel.fromObject(notebook);\n            notebooks[notebookModel.notebookId] = notebookModel;\n        });\n\n        model.notebooks = notebooks;\n        return model;\n    }\n\n    toObject(): UserObject {\n        const userObj: UserObject = {\n            userId: this.userId,\n            name: this.name,\n            notebooks: []\n        };\n\n        if (this.notebooks) {\n            const notebooks: NotebookObject[] = [];\n            Object.entries(this.notebooks).forEach(([key, value]) => {\n                notebooks.push(value.toObject());\n            });\n            userObj.notebooks = notebooks;\n        }\n\n\n        return userObj;\n    }\n}\n\nexport type NotebookObject = {\n    notebookId: string;\n    name: string; // sort\n    dateCreated: number; // sort\n    dateModified: number; // sort\n    cells: CellObject[];\n    sources: DataSourceObject[];\n    variables: VariableObject[];\n}\n\nexport class NotebookModel implements IObjectConvertible<NotebookModel, NotebookObject> {\n    public notebookId = \"\";\n    public name: string; // sort\n    public dateCreated: number; // sort\n    public dateModified: number; // sort\n    public cells?: {\n        [key: string]: CellModel;\n    };\n    public sources?: {\n        [key: string]: DataSourceModel;\n    };\n    public variables?: {\n        [key: string]: VariableModel;\n    };\n\n    constructor(\n        name: string,\n        dateCreated: number, \n        dateModified: number\n    ) {\n        this.name = name;\n        this.dateCreated = dateCreated;\n        this.dateModified = dateModified;\n    }\n    \n    static fromObject(obj: NotebookObject): NotebookModel {\n        const model = new NotebookModel(obj.name, obj.dateCreated, obj.dateModified);\n        model.notebookId = obj.notebookId;\n        \n        const cells: {\n            [key: string]: CellModel;\n        } = {};\n        obj.cells.forEach(cell => {\n            const cellModel = CellModel.fromObject(cell);\n            cells[cellModel.cellId] = cellModel;\n        });\n\n        const sources: {\n            [key: string]: DataSourceModel;\n        } = {};\n        obj.sources.forEach(source => {\n            const sourceModel = DataSourceModel.fromObject(source);\n            sources[sourceModel.sourceId] = sourceModel;\n        });\n\n        const variables: {\n            [key: string]: VariableModel;\n        } = {};\n        obj.variables.forEach(variable => {\n            const variableModel = VariableModel.fromObject(variable);\n            variables[variableModel.variableId] = variableModel;\n        });\n\n        model.cells = cells;\n        model.sources = sources;\n        model.variables = variables;\n        return model;\n    }\n    \n    toObject(): NotebookObject {\n        const notebookObj: NotebookObject = {\n            notebookId: this.notebookId,\n            name: this.name,\n            dateCreated: this.dateCreated,\n            dateModified: this.dateModified,\n            cells: [],\n            sources: [],\n            variables: []\n        };\n\n        if (this.cells) {\n            const cells: CellObject[] = [];\n            Object.entries(this.cells).forEach(([key, value]) => {\n                cells.push(value.toObject());\n            });\n            notebookObj.cells = cells;\n        }\n\n        if (this.sources) {\n            const sources: DataSourceObject[] = [];\n            Object.entries(this.sources).forEach(([key, value]) => {\n                sources.push(value.toObject());\n            });\n            notebookObj.sources = sources;\n        }\n\n        if (this.variables) {\n            const variables: VariableObject[] = [];\n            Object.entries(this.variables).forEach(([key, value]) => {\n                variables.push(value.toObject());\n            });\n            notebookObj.variables = variables;\n        }\n\n        return notebookObj;\n    }\n}\n\nexport type DataSourceObject = {\n    sourceId: string;\n    name: string;\n    type: string;\n}\n\n// TODO: Eventually add details like source URL depending on the type of data source\nexport class DataSourceModel implements IObjectConvertible<DataSourceModel, DataSourceObject> {\n    public sourceId = \"\";\n    public name: string;\n    public type: string;\n\n    constructor(name: string, type: string) {\n        this.name = name;\n        this.type = type;\n    }\n    \n    static fromObject(obj: DataSourceObject): DataSourceModel {\n        const model = new DataSourceModel(obj.name, obj.type);\n        model.sourceId = obj.sourceId;\n        return model;\n    }\n    \n    toObject(): DataSourceObject {\n        return {\n            sourceId: this.sourceId,\n            name: this.name,\n            type: this.type\n        };\n    }\n}\n\nexport type VariableObject = {\n    variableId: string;\n    name: string;\n    type: string;\n    value?: string | number | boolean;\n}\n\nexport class VariableModel implements IObjectConvertible<VariableModel, VariableObject> {\n    public variableId = \"\";\n    public name: string;\n    public type: string;\n    public value?: string | number | boolean;\n\n    constructor(name: string, type: string, value?: string | number | boolean) {\n        this.name = name;\n        this.type = type;\n        this.value = value;\n    }\n    \n    static fromObject(obj: VariableObject): VariableModel {\n        const model = new VariableModel(obj.name, obj.type, obj.value);\n        model.variableId = obj.variableId;\n        return model;\n    }\n    \n    toObject(): VariableObject {\n        return {\n            variableId: this.variableId,\n            name: this.name,\n            type: this.type,\n            value: this.value\n        };\n    }\n}\n\nexport type CellObject = {\n    cellId: string;\n    nextCell: string;\n    type: string;\n    value?: string;\n    nodes: NodeObject[];\n    connections: NodeConnectionObject[];\n}\n\nexport class CellModel implements IObjectConvertible<CellModel, CellObject> {\n    public cellId = \"\";\n    public nextCell = \"\";\n    public type: string;\n    public value?: string;\n    public nodes?: {\n        [key: string]: NodeModel;\n    };\n    public connections?: {\n        [key: string]: NodeConnectionModel;\n    };\n\n    constructor(  \n        type: string\n    ) {\n        this.type = type;\n        if (type === \"markdown\")\n            this.value = \"\";\n    }\n    \n    static fromObject(obj: CellObject): CellModel {\n        const model = new CellModel(obj.type);\n        model.cellId = obj.cellId;\n        model.nextCell = obj.nextCell;\n        model.value = obj.value;\n\n        const nodes: {\n            [key: string]: NodeModel;\n        } = {};\n        obj.nodes.forEach(node => {\n            const nodeModel = NodeModel.fromObject(node);\n            nodes[nodeModel.nodeId] = nodeModel;\n        });\n\n        const connections: {\n            [key: string]: NodeConnectionModel;\n        } = {};\n        obj.connections.forEach(connection => {\n            const connectionModel = NodeConnectionModel.fromObject(connection);\n            connections[connectionModel.connectionId] = connectionModel;\n        });\n\n        model.nodes = nodes;\n        model.connections = connections;\n        return model;\n    }\n    \n    toObject(): CellObject {\n        const cellObj: CellObject = {\n            cellId: this.cellId,\n            nextCell: this.nextCell,\n            type: this.type,\n            value: this.value,\n            nodes: [],\n            connections: []\n        };\n\n        if (this.nodes) {\n            const nodes: NodeObject[] = [];\n            Object.entries(this.nodes).forEach(([key, value]) => {\n                nodes.push(value.toObject());\n            });\n            cellObj.nodes = nodes;\n        }\n\n        if (this.connections) {\n            const connections: NodeConnectionObject[] = [];\n            Object.entries(this.connections).forEach(([key, value]) => {\n                connections.push(value.toObject());\n            });\n            cellObj.connections = connections;\n        }\n\n        return cellObj;\n    }\n}\n\nexport type NodeConnectionObject = {\n    connectionId: string;\n    fromNodeId: string;\n    fromSlotId: string;\n    toNodeId: string;\n    toSlotId: string;\n}\n\nexport class NodeConnectionModel implements IObjectConvertible<NodeConnectionModel, NodeConnectionObject> {\n    public connectionId = \"\";\n    public fromNodeId: string;\n    public fromSlotId: string;\n    public toNodeId: string;\n    public toSlotId: string;\n\n    constructor(\n        fromNodeId: string, \n        fromSlotId: string, \n        toNodeId: string, \n        toSlotId: string\n    ) {\n        this.fromNodeId = fromNodeId;\n        this.fromSlotId = fromSlotId;\n        this.toNodeId = toNodeId;\n        this.toSlotId = toSlotId;\n    }\n    \n    static fromObject(obj: NodeConnectionObject): NodeConnectionModel {\n        const model = new NodeConnectionModel(obj.fromNodeId, obj.fromSlotId, obj.toNodeId, obj.toSlotId);\n        model.connectionId = obj.connectionId;\n        return model;\n    }\n    \n    toObject(): NodeConnectionObject {\n        return {\n            connectionId: this.connectionId,\n            fromNodeId: this.fromNodeId,\n            fromSlotId: this.fromSlotId,\n            toNodeId: this.toNodeId,\n            toSlotId: this.toSlotId\n        };\n    }\n}\n\nexport type NodeObject = {\n    nodeId: string;\n    name: string; // update\n    type: string; // used to infer entry and exit slots\n    coords: Vector2; // update\n    properties: NodeProperty[];\n    inputValues: NodeInputValue[];\n}\n\nexport class NodeModel implements IObjectConvertible<NodeModel, NodeObject> {\n    public nodeId = \"\";\n    public name: string; // update\n    public type: string; // used to infer entry and exit slots\n    public coords: Vector2; // update\n    public properties: NodeProperty[] = [];\n    public inputValues: NodeInputValue[] = [];\n\n    constructor(\n        name: string, \n        type: string,\n        coords?: Vector2\n    ) {\n        this.name = name;\n        this.type = type;\n        this.coords = coords ?? { x: 0, y: 0 };\n    }\n\n    static fromObject(obj: NodeObject): NodeModel {\n        const model = new NodeModel(obj.name, obj.type, obj.coords);\n        model.nodeId = obj.nodeId;\n        model.properties = obj.properties;\n        model.inputValues = obj.inputValues;\n        return model;\n    }\n\n    toObject(): NodeObject {\n        return {\n            nodeId: this.nodeId,\n            name: this.name,\n            type: this.type,\n            coords: this.coords,\n            properties: this.properties,\n            inputValues: this.inputValues\n        };\n    }\n}","import Groupby from \"danfojs/dist/danfojs-base/aggregators/groupby\";\nimport DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport Series from \"danfojs/dist/danfojs-base/core/series\";\nimport { ArrayType1D, ArrayType2D } from \"danfojs/dist/danfojs-base/shared/types\";\n\ntype StringMapping = {\n    [id: string]: string;\n};\n\ntype Mapping = {\n    [id: string]: string | number | boolean;\n}\n\nexport default class DanfoUtils {\n    public static unique(arr: ArrayType1D): ArrayType1D {\n        const uniqueArr = new Set(arr);\n        return Array.from(uniqueArr);\n    }\n\n    public static groupby(df: DataFrame, columns: string[]): Groupby {\n        /* eslint-disable @typescript-eslint/ban-ts-comment */\n        // @ts-ignore\n        return df.groupby(columns);\n        /* eslint-enable @typescript-eslint/ban-ts-comment */\n    }\n\n    public static isEmpty(value: any): boolean {\n        return value === undefined || value === null || (isNaN(value) && typeof value !== \"string\") || (value === \"\" && typeof value === \"string\");\n    }\n\n    public static mapColumnsToTypes(columns: string[], types: string[]): StringMapping {\n        if (columns.length <= 0 || types.length <= 0)\n            throw ReferenceError(\"Either columns or types parameter is empty\");\n\n        if (columns.length !== types.length)\n            throw ReferenceError(\"The length of both columns and types must be equal\");\n\n        const mapping: StringMapping = {};\n        for (let i = 0; i < columns.length; i++)\n            mapping[columns[i]] = types[i];\n\n        return mapping;\n    }\n\n    public static fillna(df: DataFrame, columns: string[], values: (string | number | boolean)[]): DataFrame {\n        if (columns.length <= 0 || values.length <= 0)\n            throw Error(\"ParamError: either columns or values parameter is empty\");\n\n        if (values.length !== columns.length)\n            throw Error(\"ParamError: specified column and values must have the same length\");\n\n        columns.forEach(col => {\n            if (!df.columns.includes(col)) {\n                throw Error(`ValueError: Specified column \"${col}\" must be one of ${df.columns}`);\n            }\n        });\n    \n        const newData = [];\n        const oldValues = [...df.values] as (string[] | (string | number | boolean)[] | number[] | boolean[])[];\n\n        for (let i = 0; i < oldValues.length; i++) {\n            const valueArr = oldValues[i];\n\n            for (let i = 0; i < columns.length; i++) {\n                const columnIndex = df.columns.indexOf(columns[i]);\n                const replaceWith = values[i];\n                valueArr[columnIndex] = DanfoUtils.isEmpty(valueArr[columnIndex]) ? replaceWith : valueArr[columnIndex];\n            }\n\n            newData.push(valueArr);\n        }\n    \n        const newDf = new DataFrame(newData, {\n            index: [...df.index],\n            columns: [...df.columns],\n            dtypes: [...df.dtypes],\n            config: { ...df.config }\n        });\n        return newDf;\n    }\n\n    // Types are string, float32, int32, boolean\n    public static rebuildDataFrame(df: DataFrame, types: string[]): DataFrame {\n        let newDf = df.copy();\n        newDf = newDf.apply((col: string[]) => {\n            let i = 0;\n            return col.map(value => {\n                const type = types[i];\n                i++;\n\n                if (type === \"float32\" || type === \"int32\")\n                    return value !== \"\" ? Number(value) : NaN;\n                else if (type === \"boolean\")\n                    return value.toLowerCase() === \"true\" || value === \"1\";\n                else\n                    return value === \"\" ? \"\" : value;\n            }) as ArrayType1D;\n        }, { axis: 1 }) as DataFrame;\n        return newDf;\n    }\n\n    public static map(series: Series, mappings: Mapping, nanByDefault = false): Series {\n        const data = series.values.map(val => {\n            const value = `${val}`;\n            if (value in mappings) {\n                return mappings[value];\n            } else {\n                if (nanByDefault)\n                    return NaN;\n                else\n                    return val as string | number | boolean;\n            }\n        });\n    \n        let sf = series.copy();\n        sf.$setValues(data);\n        sf = sf.asType(sf.dtype as (\"string\" | \"boolean\" | \"undefined\" | \"float32\" | \"int32\")) as Series;\n        return sf;\n    }\n\n    public static loc(df: DataFrame, columns?: string[], rows?: Series): DataFrame {\n        let _rowIndexes;\n        let _columnIndexes;\n\n        const _data = df.values;\n        const _index = df.index;\n\n        const _rows: ArrayType1D | undefined = rows?.values as ArrayType1D;\n\n        if (_rows !== undefined && !Array.isArray(_rows)) {\n            throw new Error(\"rows parameter must be an Array. For example: rows: [1,2] or rows: [\\\"0:10\\\"]\");\n        }\n\n        if (columns !== undefined && !Array.isArray(columns)) {\n            throw new Error(\"columns parameter must be an Array. For example: columns: [\\\"a\\\",\\\"b\\\"] or columns: [\\\"a:c\\\"]\");\n        }\n\n        if (!_rows) {\n            _rowIndexes = _index.map((indexValue) => _index.indexOf(indexValue)); // Return all row index\n        } else if (_rows.length === 1 && typeof _rows[0] === \"string\") {\n\n            if (_rows[0].indexOf(\":\") === -1) { // Input type ==> [\"1\"] or [`\"1\"`]\n                let temp;\n                if (_rows[0].startsWith(\"\\\"\") || _rows[0].startsWith(\"'\") || _rows[0].startsWith(\"`\")) {\n                    temp = _index.indexOf(_rows[0].replace(/['\"`]/g, \"\"));\n                } else if (typeof _rows[0] === \"string\") {\n                    temp = _index.indexOf(_rows[0]);\n                } else {\n                    temp = _index.indexOf(Number(_rows[0]));\n                }\n\n                if (temp === -1) {\n                    throw new Error(`IndexError: Specified index (${_rows[0]}) not found`);\n                }\n\n                _rowIndexes = [temp];\n\n            } else {\n                // Input type ==> [\"1:2\"] or [`\"1\":\"4\"`]\n                const rowSplit = _rows[0].split(\":\");\n\n                if (rowSplit.length != 2) {\n                    throw new Error(\"Invalid row split parameter: If using row split string, it must be of the form; rows: [\\\"start:end\\\"]\");\n                }\n\n                let start;\n                let end;\n\n                if (rowSplit[0] === \"\") {\n                    start = _index.indexOf(_index[0]);\n                } else {\n                    if (rowSplit[0].startsWith(\"\\\"\") || rowSplit[0].startsWith(\"'\") || rowSplit[0].startsWith(\"`\")) {\n                        start = _index.indexOf(rowSplit[0].replace(/['\"`]/g, \"\"));\n                    } else {\n                        start = _index.indexOf(Number(rowSplit[0]));\n                    }\n                }\n\n                if (rowSplit[1] === \"\") {\n                    end = _index.indexOf(_index[_index.length - 1]) + 1;\n                } else {\n                    if (rowSplit[1].startsWith(\"\\\"\") || rowSplit[1].startsWith(\"'\") || rowSplit[1].startsWith(\"`\")) {\n                        end = _index.indexOf(rowSplit[1].replace(/['\"`]/g, \"\"));\n                    } else {\n                        end = _index.indexOf(Number(rowSplit[1]));\n                    }\n\n                }\n\n                if (start === -1) {\n                    throw new Error(\"IndexError: Specified start index not found\");\n                }\n\n                if (end === -1) {\n                    throw new Error(\"IndexError: Specified end index not found\");\n                }\n\n                _rowIndexes = _index.slice(start, (end + 1) >= _index.length ? undefined : end + 1)\n                    .map((indexValue) => _index.indexOf(indexValue));\n            }\n\n        } else {\n            // Input type ==> [\"1\", \"2\"] or [1, 5] or [true, false]\n            const rowsIndexToUse = [];\n            for (let i = 0; i < _rows.length; i++) {\n                const isBoolean = typeof _rows[i] === \"boolean\";\n                if (isBoolean && _rows[i]) {\n                    rowsIndexToUse.push(_index.indexOf(_index[i]));\n                }\n\n                if (!isBoolean) {\n                    const rowIndex = _index.indexOf(_rows[i] as string | number);\n                    if (rowIndex === -1) {\n                        throw new Error(`IndexError: Specified index (${_rows[i]}) not found`);\n                    }\n                    rowsIndexToUse.push(rowIndex);\n                }\n            }\n\n            _rowIndexes = rowsIndexToUse;\n        }\n\n        const _columnNames = df.columns;\n\n        if (!columns) {\n            _columnIndexes = _columnNames.map((columnName) => _columnNames.indexOf(columnName));// Return all column index\n\n        } else if (columns.length == 1) {\n            if (typeof columns[0] !== \"string\") {\n                throw new Error(\"ColumnIndexError: columns parameter must be an array of a string name. For example: columns: [\\\"b\\\"]\");\n            }\n\n            if (columns[0].indexOf(\":\") == -1) { // Input type ==> [\"A\"]\n                _columnIndexes = [_columnNames.indexOf(columns[0])];\n\n            } else { // Input type ==> [\"a:b\"] or [`\"col1\":\"col5\"`]\n                const columnSplit = columns[0].split(\":\");\n\n                if (columnSplit.length != 2) {\n                    throw new Error(\"ColumnIndexError: Invalid row split parameter. If using row split string, it must be of the form; rows: [\\\"start:end\\\"]\");\n                }\n\n                const start = columnSplit[0] == \"\" ? _columnNames.indexOf(_columnNames[0]) : _columnNames.indexOf(columnSplit[0]);\n                const end = columnSplit[1] == \"\" ? _columnNames.indexOf(_columnNames[_columnNames.length - 1]) : _columnNames.indexOf(columnSplit[1]);\n\n                if (start === -1) {\n                    throw new Error(\"ColumnIndexError: Specified start index not found\");\n                }\n\n                if (end === -1) {\n                    throw new Error(\"ColumnIndexError: Specified end index not found\");\n                }\n                _columnIndexes = _columnNames.slice(start, (end + 1) >= _columnNames.length ? undefined : end + 1)\n                    .map((columnName) => _columnNames.indexOf(columnName));\n\n            }\n        } else { // Input type ==> [\"A\", \"B\"] or [\"col1\", \"col2\"]\n            for (let i = 0; i < columns.length; i++) {\n                if (_columnNames.indexOf(columns[i]) === -1) {\n                    throw new Error(`ColumnIndexError: Specified column (${columns[i]}) not found`);\n                }\n            }\n            _columnIndexes = columns.map((columnName) => _columnNames.indexOf(columnName));\n        }\n\n        const newData = [];\n        const newIndex = [];\n        const newColumnNames = [];\n        const newDtypes = [];\n\n        for (let i = 0; i < _rowIndexes.length; i++) {\n            const rowIndx = _rowIndexes[i];\n            const rowData = _data[rowIndx] as ArrayType1D;\n            const newRowDataWithRequiredCols: ArrayType1D = [];\n\n            for (let j = 0; j < _columnIndexes.length; j++) {\n                const colIndx = _columnIndexes[j];\n                newRowDataWithRequiredCols.push(rowData[colIndx]);\n            }\n            newData.push(newRowDataWithRequiredCols);\n            newIndex.push(_index[rowIndx]);\n        }\n\n        for (let i = 0; i < _columnIndexes.length; i++) {\n            const colIndx = _columnIndexes[i];\n            newColumnNames.push(df.columns[colIndx]);\n            newDtypes.push(df.dtypes[colIndx]);\n\n        }\n\n        const newDf = new DataFrame(\n            newData,\n            {\n                index: newIndex,\n                columns: newColumnNames,\n                dtypes: newDtypes,\n                config: df.config\n            });\n        return newDf;\n    }\n}","import * as Danfo from \"danfojs\";\nimport DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport * as Papa from \"papaparse\";\nimport DBService from \"../db/DBService\";\nimport DanfoUtils from \"../utils/DanfoUtils\";\n\nabstract class DataSource {\n    private _id: string;\n    protected _df?: DataFrame;\n\n    constructor(id: string) {\n        this._id = id;\n    }\n\n    get id(): string {\n        return this._id;\n    }\n\n    get df(): Danfo.DataFrame | undefined {\n        return this._df;\n    }\n\n    public abstract loadToDf(): Promise<boolean>;\n}\n\nabstract class LocalDataSource extends DataSource {\n    public async saveToDB(): Promise<boolean> {\n        if (!this.df)\n            return false;\n        \n        if (!DBService.db)\n            throw new ReferenceError(\"The DBService has not been started yet.\");\n            \n        const jsonObj = Danfo.toJSON(this.df, { download: false, format: \"row\" });\n        const buffer = new TextEncoder().encode(JSON.stringify(jsonObj));\n        await DBService.db.addData(this.id, buffer);\n        return true;\n    }\n}\n\nexport class CSVSource extends LocalDataSource {\n    private csvFile: File | undefined;\n\n    constructor(id: string, csvFile?: File) {\n        super(id);\n        this.csvFile = csvFile;\n    }\n\n    async loadToDf(): Promise<boolean> {\n        if (!DBService.db)\n            throw new ReferenceError(\"The DBService has not been started yet.\");\n\n        const data = await DBService.db.getData(this.id);\n        if (data) {\n            const jsonObj = JSON.parse(new TextDecoder().decode(data));\n            const df = new Danfo.DataFrame(jsonObj);\n            this._df = df;\n            return true;\n        }\n\n        // Data isn't saved in db yet, check pathToCsv and save to db\n        if (!this.csvFile)\n            return false;\n\n        const csvFile: File = this.csvFile;\n        const parsedData = await new Promise(resolve => {\n            Papa.parse(csvFile, {\n                header: true,\n                dynamicTyping: false,\n                complete: results => {\n                    resolve(results.data);\n                }\n            });\n        });\n\n        const df = new Danfo.DataFrame(parsedData);\n        const df2 = DanfoUtils.rebuildDataFrame(df, df.dtypes);\n        this._df = df2;\n        return true;\n    }\n}\n\nexport class CSVUrlSource extends LocalDataSource {\n    private csvUrl: string | undefined;\n\n    constructor(id: string, csvUrl?: string) {\n        super(id);\n        this.csvUrl = csvUrl;\n    }\n\n    async loadToDf(): Promise<boolean> {\n        if (!DBService.db)\n            throw new ReferenceError(\"The DBService has not been started yet.\");\n\n        const data = await DBService.db.getData(this.id);\n        if (data) {\n            const jsonObj = JSON.parse(new TextDecoder().decode(data));\n            const df = new Danfo.DataFrame(jsonObj);\n            this._df = df;\n            return true;\n        }\n\n        // Data isn't saved in db yet, check pathToCsv and save to db\n        if (!this.csvUrl)\n            return false;\n\n        const csvUrl = this.csvUrl;\n        const parsedData = await new Promise(resolve => {\n            Papa.parse(csvUrl, {\n                download: true,\n                header: true,\n                dynamicTyping: false,\n                complete: results => {\n                    resolve(results.data);\n                }\n            });\n        });\n\n        const df = new Danfo.DataFrame(parsedData);\n        const df2 = DanfoUtils.rebuildDataFrame(df, df.dtypes);\n        this._df = df2;\n        return true;\n    }\n}\n\nclass DataService {\n    private _sources: {\n        [id: string]: DataSource\n    } = {};\n\n    addSource(source: DataSource) {\n        this._sources[source.id] = source;\n    }\n\n    getSource(sourceId: string): DataSource | null {\n        try {\n            const source = this._sources[sourceId];\n            if (!source)\n                throw new ReferenceError(\"Source not found\");\n            if (!source.df && !source.loadToDf())\n                throw new ReferenceError(\"Source not initialized\");\n    \n            return source;\n        } catch (err) {\n            console.error(err);\n            return null;\n        }\n    }\n\n    getAllSources(): DataSource[] {\n        return Object.values(this._sources);\n    }\n\n    async loadAllSources(userId: string, notebookId: string): Promise<void> {\n        return;\n        /*\n        try {\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n            \n            this.clearSources();\n\n            const ids = await DBService.db.getDataIds(userId, notebookId);\n            ids.forEach(async id => {\n                const csv = new CSVSource(id);\n                const result = await csv.loadToDf();\n                if (result)\n                    this._sources[id] = csv;\n            });\n        } catch (err) {\n            console.error(err);\n        }\n        /**/\n    }\n\n    clearSources(): void {\n        this._sources = {};\n    }\n}\n\nexport default new DataService();","import { CSVUrlSource } from \"../data/DataService\";\nimport { UserModel } from \"./models\";\n\nconst titanicSourceId = \"ky7ukwew00003f61vd3yuohz\";\n\nexport async function loadTitanic() {\n    const url = `${process.env.PUBLIC_URL}/titanic.csv`;\n    const csv = new CSVUrlSource(titanicSourceId, url);\n    const loadResult = await csv.loadToDf();\n    const saveResult = loadResult ? await csv.saveToDB() : false;\n}\n\nexport async function loadTutorialUser(): Promise<UserModel> {\n    const response = await fetch(`${process.env.PUBLIC_URL}/exported-db.json`);\n    const jsonStr = await response.text(); \n    const user = JSON.parse(jsonStr) as UserModel;\n    return user;\n}","import { Primitives, Vector2 } from \"../types\";\nimport AceDB from \"./AceDB\";\nimport { CellModel, DataSourceModel, NodeConnectionModel, NodeModel, NotebookModel, UserModel, VariableModel } from \"./models\";\n\nexport enum DBType {\n    Test,\n    Offline,\n    Online\n}\n\nexport interface DBInterface {\n    // Users\n    createNewUser(name: string): Promise<UserModel>;\n    removeUser(userId: string): Promise<void>;\n    updateUserName(userId: string, name: string): Promise<void>;\n    getAllUsers(): Promise<UserModel[]>;\n    getUserDetail(userId: string): Promise<UserModel>;\n\n    // Notebooks\n    createNewNotebook(userId: string, name: string): Promise<NotebookModel>;\n    addNotebook(userId: string, notebook: NotebookModel): Promise<void>;\n    removeNotebook(userId: string, notebookId: string): Promise<void>;\n    updateNotebookName(userId: string, notebookId: string, name: string): Promise<void>;\n    getNotebook(userId: string, notebookId: string): Promise<NotebookModel>;\n    getNotebooksByUser(userId: string): Promise<NotebookModel[]>;\n    getNotebookDetailsByUser(userId: string): Promise<NotebookModel[]>;\n\n    // Data Sources\n    createNewDataSource(userId: string, notebookId: string, name: string, type: string): Promise<DataSourceModel>;\n    updateDataSourceName(userId: string, notebookId: string, sourceId: string, name: string): Promise<void>;\n    removeDataSource(userId: string, notebookId: string, sourceId: string): Promise<void>;\n    getDataSource(userId: string, notebookId: string, sourceId: string): Promise<DataSourceModel>;\n    getDataSources(userId: string, notebookId: string): Promise<DataSourceModel[]>;\n\n    // Data\n    addData(sourceId: string, data: Uint8Array): Promise<void>;\n    removeData(sourceId: string): Promise<void>;\n    getData(sourceId: string): Promise<Uint8Array | undefined>;\n    isDataExists(sourceId: string): Promise<boolean>;\n\n    // Variables\n    createNewVariable(userId: string, notebookId: string, name: string, type: string): Promise<VariableModel>;\n    updateVariableName(userId: string, notebookId: string, variableId: string, name: string): Promise<void>;\n    updateVariableValue(userId: string, notebookId: string, variableId: string, value: string | number | boolean): Promise<void>;\n    removeVariable(userId: string, notebookId: string, variableId: string): Promise<void>;\n    getVariable(userId: string, notebookId: string, variableId: string): Promise<VariableModel>;\n    getVariables(userId: string, notebookId: string): Promise<VariableModel[]>;\n\n    // Generic Cell\n    createNewCell(userId: string, notebookId: string, type: \"markdown\" | \"node\"): Promise<CellModel | undefined>;\n    insertCell(userId: string, notebookId: string, cellId: string, insertNextToCellId: string): Promise<void>;\n    insertCellWithIndex(userId: string, notebookId: string, cellId: string, insertNextTo: number): Promise<void>;\n    insertCellToTop(userId: string, notebookId: string, cellId: string): Promise<void>;\n    removeCell(userId: string, notebookId: string, cellId: string): Promise<void>;\n    updateCellType(userId: string, notebookId: string, cellId: string, type: \"markdown\" | \"node\"): Promise<void>;\n    getCellsByNotebook(userId: string, notebookId: string): Promise<CellModel[]>;\n\n    // Markdown Cell\n    updateMarkdownCell(userId: string, notebookId: string, cellId: string, value: string): Promise<void>;\n\n    // Node Cell nodes\n    createNewNode(userId: string, notebookId: string, cellId: string, name: string, type: string, coords?: Vector2): Promise<NodeModel>;\n    addNode(userId: string, notebookId: string, cellId: string, node: NodeModel): Promise<void>;\n    removeNode(userId: string, notebookId: string, cellId: string, nodeId: string): Promise<void>;\n    updateNodeName(userId: string, notebookId: string, cellId: string, nodeId: string, name: string): Promise<void>;\n    updateNodeCoords(userId: string, notebookId: string, cellId: string, nodeId: string, coords: Vector2): Promise<void>;\n    setNodeInputValue(userId: string, notebookId: string, cellId: string, nodeId: string, slotId: string, value: Primitives): Promise<void>;\n    setNodeProperty(userId: string, notebookId: string, cellId: string, nodeId: string, propertyId: string, value: string | number | boolean): Promise<void>;\n\n    // Node Cell connections\n    createNewNodeConnection(userId: string, notebookId: string, cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string): Promise<NodeConnectionModel>;\n    removeNodeConnection(userId: string, notebookId: string, cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string): Promise<void>;\n    removeNodeConnectionWithId(userId: string, notebookId: string, cellId: string, connectionId: string): Promise<void>;\n\n    setupSchema(): Promise<void>;\n    seedDatabase(): Promise<void>;\n    exportDatabase(): Promise<string>;\n    onReady(fn: () => Promise<void>): void;\n}\n\nclass DBService {\n    private _db: DBInterface | undefined;\n    private _isRunning = false;\n\n    public async start(dbType: DBType): Promise<void> {\n        if (this._isRunning)\n            return;\n\n        this._db = new AceDB(dbType);\n        if (dbType === DBType.Test)\n            await this._db.setupSchema();\n\n        this._isRunning = true;\n    }\n\n    public get isRunning() {\n        return this._isRunning;\n    }\n\n    public get db() {\n        return this._db;\n    }\n}\n\nexport default new DBService();","import { AceBase } from \"acebase\";\nimport { AceBaseClient } from \"acebase-client\";\nimport { DataReferencesArray, DataSnapshotsArray, ID } from \"acebase-core\";\nimport { NodeInputValue, NodeProperty, Primitives, Vector2 } from \"../types\";\nimport { isTypeEqual, Types } from \"../utils/Types\";\nimport { DBInterface, DBType } from \"./DBService\";\nimport { UserObject, UserModel, NotebookModel, DataSourceModel, VariableModel, CellModel, NodeModel, NodeConnectionModel } from \"./models\";\nimport { loadTitanic, loadTutorialUser } from \"./seedDB\";\n\nexport default class AceDB implements DBInterface {\n    private db: AceBase;\n    private dbType: DBType;\n    private readyListeners: (() => Promise<void>)[] = [];\n\n    constructor(dbType: DBType, db?: AceBase) {\n        if (db)\n            this.db = db;\n        else {\n            if (dbType === DBType.Offline) {\n                this.db = AceBase.WithIndexedDB(\"node-ml-offline\", { removeVoidProperties: true });\n            } else if (dbType === DBType.Online) {\n                const localDb = AceBase.WithIndexedDB(\"node-ml-online\", { removeVoidProperties: true });\n                this.db = new AceBaseClient({\n                    cache: { db: localDb },\n                    host: \"test\",\n                    port: 443,\n                    https: true,\n                    dbname: \"node-ml\",\n                });\n            } else {\n                this.db = AceBase.WithIndexedDB(\"node-ml-test\", { removeVoidProperties: true });\n            }\n        }\n\n        this.dbType = dbType;\n        this.db.ready(async () => {\n            this.mapToClass();\n            await this.setupSchema();\n\n            this.readyListeners.forEach(async fn => {\n                await fn();\n            });\n        });\n    }\n\n    onReady(fn: () => Promise<void>): void {\n        this.readyListeners.push(fn);\n    }\n\n    mapToClass(): void {\n        this.db.types.bind(\"users\", UserModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const user = new UserModel(\n                    obj.name\n                );\n                user.userId = key;\n                user.notebooks = obj.notebooks;\n                return user;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    name: obj.name,\n                    notebooks: obj.notebooks\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks\", NotebookModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const notebook = new NotebookModel(\n                    obj.name,\n                    obj.dateCreated, \n                    obj.dateModified\n                );\n                notebook.notebookId = key;\n                notebook.cells = obj.cells;\n                notebook.sources = obj.sources;\n                notebook.variables = obj.variables;\n                return notebook;\n            },\n            serializer: (ref, obj) => {\n                return { \n                    name: obj.name, \n                    dateCreated: obj.dateCreated, \n                    dateModified: obj.dateModified,\n                    cells: obj.cells,\n                    sources: obj.sources,\n                    variables: obj.variables\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks/*/sources\", DataSourceModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const source = new DataSourceModel(obj.name, obj.type);\n                source.sourceId = key;\n                return source;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    name: obj.name,\n                    type: obj.type\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks/*/variables\", VariableModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const variable = new VariableModel(obj.name, obj.type, obj.value);\n                variable.variableId = key;\n                return variable;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    name: obj.name,\n                    type: obj.type,\n                    value: obj.value\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks/*/cells\", CellModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const cell = new CellModel(\n                    obj.type\n                );\n                cell.cellId = key;\n                cell.value = obj.value;\n                cell.nodes = obj.nodes;\n                cell.connections = obj.connections;\n                cell.nextCell = obj.nextCell;\n                return cell;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    type: obj.type,\n                    value: obj.value,\n                    nextCell: obj.nextCell,\n                    nodes: obj.nodes,\n                    connections: obj.connections\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks/*/cells/*/nodes\", NodeModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const node = new NodeModel(\n                    obj.name,\n                    obj.type,\n                    obj.coords\n                );\n                node.nodeId = key;\n                node.properties = obj.properties;\n                node.inputValues = obj.inputValues;\n                return node;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    name: obj.name,\n                    type: obj.type,\n                    coords: obj.coords,\n                    properties: obj.properties,\n                    inputValues: obj.inputValues\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks/*/cells/*/connections\", NodeConnectionModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const connection = new NodeConnectionModel(\n                    obj.fromNodeId,\n                    obj.fromSlotId,\n                    obj.toNodeId,\n                    obj.toSlotId\n                );\n                connection.connectionId = key;\n                return connection;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    fromNodeId: obj.fromNodeId,\n                    fromSlotId: obj.fromSlotId,\n                    toNodeId: obj.toNodeId,\n                    toSlotId: obj.toSlotId\n                };\n            }\n        });\n    }\n\n    async setupSchema(): Promise<void> {\n        await this.db.schema.set(\"users/$userId\", {\n            name: \"string\",\n            \"notebooks?\": {\n                \"$notebookId\": {\n                    name: \"string\",\n                    dateCreated: \"number\",\n                    dateModified: \"number\",\n                    \"cells?\": {\n                        \"$cellId\": {\n                            type: \"string\",\n                            nextCell: \"string\",\n                            \"value?\": \"string\",\n                            \"nodes?\": {\n                                \"$nodeId\": {\n                                    name: \"string\",\n                                    type: \"string\",\n                                    coords: \"{ x: number, y: number }\",\n                                    properties: \"{ id: string, value: string | number | boolean }[]\",\n                                    inputValues: \"{ id: string, value: any }[]\"\n                                }\n                            },\n                            \"connections?\": {\n                                \"$connectionId\": {\n                                    fromNodeId: \"string\",\n                                    fromSlotId: \"string\",\n                                    toNodeId: \"string\",\n                                    toSlotId: \"string\"\n                                }\n                            }\n                        }\n                    },\n                    \"sources?\": {\n                        \"$sourceId\": {\n                            name: \"string\",\n                            type: \"string\"\n                        }\n                    },\n                    \"variables?\": {\n                        \"$variableId\": {\n                            name: \"string\",\n                            type: \"string\",\n                            \"value?\": \"string | number | boolean\"\n                        }\n                    }\n                }\n            }\n        });\n    }\n\n    async seedDatabase(): Promise<void> {\n        const childCount = await this.db.root.count();\n        if (childCount > 0)\n            return;\n\n        const tutorialUser = await loadTutorialUser();\n        await this.db.ref(\"users\").push(tutorialUser);\n\n        await loadTitanic();\n    }\n\n    async exportDatabase(): Promise<string> {\n        let json = \"\";\n        const write = (str: string) => {\n            json += str;\n        };\n        await this.db.ref(\"users\").export({ write });\n        return json;\n    }\n\n    async clearDatabase(): Promise<void> {\n        await this.db.root.forEach(async snapshot => {\n            await this.db.ref(snapshot.key as string).remove();\n        });\n    }\n\n    // TODO: The parameters of all operations that change the data should be validated\n\n    /// Users\n\n    async createNewUser(name: string): Promise<UserModel> {\n        const user = new UserModel(name);\n        const ref = await this.db.ref(\"users\").push(user);\n        const snap = await ref.get();\n        return snap.val() as UserModel;\n    }\n\n    async removeUser(userId: string): Promise<void> {\n        await this.db.ref(`users/${userId}`).remove();\n    }\n\n    async updateUserName(userId: string, name: string): Promise<void> {\n        await this.db.ref(`users/${userId}/name`)\n            .transaction(snap => {\n                return name;\n            });\n    }\n\n    // Only for offline use, where there are multiple offline users\n    async getAllUsers(): Promise<UserModel[]> {\n        if (this.dbType === DBType.Online)\n            return [];\n\n        const snaps = await this.db.query(\"users\")\n            .get({ include: [\"*/name\"] }) as DataSnapshotsArray;\n\n        const users: UserModel[] = [];\n        snaps.forEach(snap => users.push(snap.val() as UserModel));\n        return users;\n    }\n\n    async getUserDetail(userId: string): Promise<UserModel> {\n        const snap = await this.db.ref(`users/${userId}`).get({ include: [\"name\"] });\n        return snap.val() as UserModel;\n    }\n\n    /// Notebooks\n    \n    async createNewNotebook(userId: string, name: string): Promise<NotebookModel> {\n        const now = Date.now();\n        const notebook = new NotebookModel(name, now, now);\n        const notebookRef = await this.db.ref(`users/${userId}/notebooks`).push(notebook);\n        // Create a markdown cell to new notebooks by default\n        const cell = new CellModel(\"markdown\");\n        await this.db.ref(`users/${userId}/notebooks/${notebookRef.key}/cells`).push(cell);\n\n        const snapshot = await notebookRef.get();\n        return snapshot.val() as NotebookModel;\n    }\n\n    async addNotebook(userId: string, notebook: NotebookModel): Promise<void> {\n        if (notebook.notebookId !== \"\")\n            await this.db.ref(`users/${userId}/notebooks/${notebook.notebookId}`).set(notebook);\n        else\n            await this.db.ref(`users/${userId}/notebooks`).push(notebook);\n    }\n\n    async removeNotebook(userId: string, notebookId: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}`).remove();\n    }\n\n    async updateNotebookName(userId: string, notebookId: string, name: string): Promise<void> {\n        const now = Date.now();\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/name`)\n            .transaction(snapshot => {\n                return name;\n            });\n\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/dateModified`)\n            .transaction(snapshot => {\n                return now;\n            });\n    }\n\n    async getNotebook(userId: string, notebookId: string): Promise<NotebookModel> {\n        const snap = await this.db.ref(`users/${userId}/notebooks/${notebookId}`).get();\n        return snap.val() as NotebookModel;\n    }\n\n    async getNotebooksByUser(userId: string): Promise<NotebookModel[]> {\n        const notebooks: NotebookModel[] = [];\n        const snaps = await this.db.query(`users/${userId}/notebooks`).get();\n        snaps.forEach(snap => notebooks.push(snap.val() as NotebookModel));\n        return notebooks;\n    }\n\n    async getNotebookDetailsByUser(userId: string): Promise<NotebookModel[]> {\n        const notebooks: NotebookModel[] = [];\n        const snaps = await this.db.query(`users/${userId}/notebooks`).get({ exclude: [\"cells\"], snapshots: true }) as DataSnapshotsArray;\n        snaps.forEach(snap => notebooks.push(snap.val() as NotebookModel));\n        return notebooks;\n    }\n\n    /// Data Sources\n\n    async createNewDataSource(userId: string, notebookId: string, name: string, type: string): Promise<DataSourceModel> {\n        const source = new DataSourceModel(name, type);\n        const ref = await this.db.ref(`users/${userId}/notebooks/${notebookId}/sources`).push(source);\n        const snap = await ref.get();\n        return snap.val() as DataSourceModel;\n    }\n\n    async updateDataSourceName(userId: string, notebookId: string, sourceId: string, name: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/sources/${sourceId}/name`)\n            .transaction(snapshot => {\n                return name;\n            });\n    }\n\n    async removeDataSource(userId: string, notebookId: string, sourceId: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/sources/${sourceId}`).remove();\n    }\n\n    async getDataSource(userId: string, notebookId: string, sourceId: string): Promise<DataSourceModel> {\n        const snap = await this.db.ref(`users/${userId}/notebooks/${notebookId}/sources/${sourceId}`).get();\n        return snap.val() as DataSourceModel;\n    }\n\n    async getDataSources(userId: string, notebookId: string): Promise<DataSourceModel[]> {\n        const sources: DataSourceModel[] = [];\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/sources`).get();\n        snaps.forEach(snap => sources.push(snap.val() as DataSourceModel));\n        return sources;\n    }\n\n    /// Data\n\n    async addData(sourceId: string, data: Uint8Array): Promise<void> {\n        await this.db.ref(`data/${sourceId}`)\n            .set(data);\n    }\n\n    async removeData(sourceId: string): Promise<void> {\n        await this.db.ref(`data/${sourceId}`).remove();\n    }\n\n    async getData(sourceId: string): Promise<Uint8Array | undefined> {\n        const snap = await this.db.ref(`data/${sourceId}`).get();\n        if (snap.exists())\n            return snap.val() as Uint8Array;\n    }\n\n    async isDataExists(sourceId: string): Promise<boolean> {\n        const ref = this.db.ref(`data/${sourceId}`);\n        return await ref.exists();\n    }\n\n    /// Variables\n\n    async createNewVariable(userId: string, notebookId: string, name: string, type: string, value?: string | number | boolean): Promise<VariableModel> {\n        let val = value;\n        if (val == null) {\n            if (isTypeEqual(type, Types.String))\n                val = \"\";\n            else if (isTypeEqual(type, Types.Number))\n                val = 0;\n            else if (isTypeEqual(type, Types.Boolean))\n                val = false;\n            else\n                val = undefined;\n        }\n\n        const variable = new VariableModel(name, type, val);\n        const ref = await this.db.ref(`users/${userId}/notebooks/${notebookId}/variables`).push(variable);\n        const snap = await ref.get();\n        return snap.val() as VariableModel;\n    }\n\n    async updateVariableName(userId: string, notebookId: string, variableId: string, name: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/variables/${variableId}/name`)\n            .transaction(snapshot => {\n                return name;\n            });\n    }\n\n    async updateVariableValue(userId: string, notebookId: string, variableId: string, value: string | number | boolean): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/variables/${variableId}/value`)\n            .transaction(snapshot => {\n                return value;\n            });\n    }\n\n    async removeVariable(userId: string, notebookId: string, variableId: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/variables/${variableId}`).remove();\n    }\n\n    async getVariable(userId: string, notebookId: string, variableId: string): Promise<VariableModel> {\n        const snap = await this.db.ref(`users/${userId}/notebooks/${notebookId}/variables/${variableId}`).get();\n        return snap.val() as VariableModel;\n    }\n\n    async getVariables(userId: string, notebookId: string): Promise<VariableModel[]> {\n        const variables: VariableModel[] = [];\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/variables`).get();\n        snaps.forEach(snap => variables.push(snap.val() as VariableModel));\n        return variables;\n    }\n\n    /// Cells\n\n    async createNewCell(userId: string, notebookId: string, type: \"node\" | \"markdown\"): Promise<CellModel | undefined> {\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`)\n            .filter(\"nextCell\", \"==\", \"\")\n            .get();\n        if (snaps.length > 1)\n            return;\n\n        // Update very last cell in linked list to point to this new cell\n        const cell = new CellModel(type);\n        const ref = await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells`).push(cell);\n        const snap = await ref.get();\n        const newCell = snap.val() as CellModel;\n        // No other cells in the notebook\n        if (snaps.length <= 0)\n            return newCell;\n\n        const lastCellKey = snaps[0].key;\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${lastCellKey}/nextCell`)\n            .transaction(snapshot => {\n                return newCell.cellId;\n            });\n\n        return newCell;\n    }\n\n    cellsToLinkedList(cells: CellModel[]): CellModel[] {\n        // Recreate the linked list as an array\n        const linkedCells: CellModel[] = [];\n        let currentKey: string | undefined = \"\";\n        for(let i = 0; i < cells.length; i++) {\n            const currentCell = cells.find(cell => cell.nextCell === currentKey);\n            if (!currentCell)\n                return []; // Some cells are not linked\n\n            linkedCells.push(currentCell);\n            currentKey = currentCell.cellId;\n        }\n        linkedCells.reverse();\n        return linkedCells;\n    }\n\n    async insertCell(userId: string, notebookId: string, cellId: string, insertNextToCellId: string): Promise<void> {\n        if (cellId === insertNextToCellId)\n            return;\n            \n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`)\n            .get({ snapshots: true }) as DataSnapshotsArray;\n\n        const cells: CellModel[] = [];\n        snaps.forEach(snap => cells.push(snap.val() as CellModel));\n\n        const linkedCells = this.cellsToLinkedList(cells);\n        if (linkedCells.length <= 0)\n            return;\n\n        const cellToMoveIndex = linkedCells.findIndex(cell => cell.cellId === cellId);\n        const cellToMove = linkedCells[cellToMoveIndex];\n        const prevCell = linkedCells[cellToMoveIndex - 1];\n        const insertCellToIndex = linkedCells.findIndex(cell => cell.cellId === insertNextToCellId);\n        const insertCellTo = linkedCells[insertCellToIndex];\n        if (prevCell && prevCell.cellId === insertCellTo.cellId) // Didn't move cell\n            return;\n\n\n        // Change prevCell's nextCell to cellToMove's nextCell\n        if (prevCell)\n            await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${prevCell.cellId}/nextCell`)\n                .transaction(snap => {\n                    return cellToMove.nextCell;\n                });\n\n        // Change cellToMove's nextCell to insertCellTo's nextCell\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellToMove.cellId}/nextCell`)\n            .transaction(snap => {\n                return insertCellTo.nextCell;\n            });\n\n        // Change insertCellTo's nextCell to cellToMove's cellId\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${insertCellTo.cellId}/nextCell`)\n            .transaction(snap => {\n                return cellToMove.cellId;\n            }); \n    }\n\n    // Cell inserted immediately after the cell at the given 'insertNextTo' index\n    async insertCellWithIndex(userId: string, notebookId: string, cellId: string, insertNextTo: number): Promise<void> {\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`)\n            .get({ snapshots: true }) as DataSnapshotsArray;\n\n        const cells: CellModel[] = [];\n        snaps.forEach(snap => cells.push(snap.val() as CellModel));\n\n        const linkedCells = this.cellsToLinkedList(cells);\n        if (linkedCells.length <= 0)\n            return;\n\n        const cellToMoveIndex = linkedCells.findIndex(cell => cell.cellId === cellId);\n        const cellToMove = linkedCells[cellToMoveIndex];\n        const prevCell = linkedCells[cellToMoveIndex - 1];\n        const insertCellTo = linkedCells[insertNextTo];\n        if (prevCell.cellId === insertCellTo.cellId) // Didn't move cell\n            return;\n\n        // Change prevCell's nextCell to cellToMove's nextCell\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${prevCell.cellId}/nextCell`)\n            .transaction(snap => {\n                return cellToMove.nextCell;\n            });\n\n        // Change cellToMove's nextCell to insertCellTo's nextCell\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellToMove.cellId}/nextCell`)\n            .transaction(snap => {\n                return insertCellTo.nextCell;\n            });\n\n        // Change insertCellTo's nextCell to cellToMove's cellId\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${insertCellTo.cellId}/nextCell`)\n            .transaction(snap => {\n                return cellToMove.cellId;\n            }); \n    }\n\n    async insertCellToTop(userId: string, notebookId: string, cellId: string): Promise<void> {\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`)\n            .get({ snapshots: true }) as DataSnapshotsArray;\n\n        const cells: CellModel[] = [];\n        snaps.forEach(snap => cells.push(snap.val() as CellModel));\n\n        const linkedCells = this.cellsToLinkedList(cells);\n        if (linkedCells.length <= 0)\n            return;\n\n        const cellToMoveIndex = linkedCells.findIndex(cell => cell.cellId === cellId);\n        if (cellToMoveIndex <= 0)\n            return;\n\n        const cellToMove = linkedCells[cellToMoveIndex];\n        const prevCell = linkedCells[cellToMoveIndex - 1];\n        const firstCell = linkedCells[0];\n\n        // Change prevCell's nextCell to cellToMove's nextCell\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${prevCell.cellId}/nextCell`)\n            .transaction(snap => {\n                return cellToMove.nextCell;\n            });\n\n        // Change cellToMove's nextCell to firstCell's cellId\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellToMove.cellId}/nextCell`)\n            .transaction(snap => {\n                return firstCell.cellId;\n            });\n    }\n\n    async removeCell(userId: string, notebookId: string, cellId: string): Promise<void> {\n        const snap = await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}`).get();\n        if (!snap.val())\n            return;\n        const cellToRemove = snap.val() as CellModel;\n\n        // Should change next cell reference of previous cell to the next cell of the deleted cell\n        const refs = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`)\n            .filter(\"nextCell\", \"==\", cellToRemove.cellId)\n            .get({snapshots: false}) as DataReferencesArray;\n        if (refs.length != 1)\n            return;\n\n        const lastCellKey = refs[0].key;\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${lastCellKey}/nextCell`)\n            .transaction(snap => {\n                return cellToRemove.nextCell;\n            });\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}`).remove();\n    }\n\n    async updateCellType(userId: string, notebookId: string, cellId: string, type: \"node\" | \"markdown\"): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/type`)\n            .transaction(snap => {\n                return type;\n            });\n    }\n\n    async getCellsByNotebook(userId: string, notebookId: string): Promise<CellModel[]> {\n        const cells: CellModel[] = [];\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`).get();\n        snaps.forEach(snap => cells.push(snap.val() as CellModel));\n        return cells;\n    }\n\n    async updateMarkdownCell(userId: string, notebookId: string, cellId: string, value: string): Promise<void> {\n        const cellSnap = await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}`).get();\n        const cell = cellSnap.val() as CellModel;\n\n        if (cell.type === \"markdown\") {\n            await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/value`).transaction(snap => {\n                return value;\n            });\n        }\n    }\n\n    /// Nodes\n\n    async createNewNode(userId: string, notebookId: string, cellId: string, name: string, type: string, coords?: Vector2): Promise<NodeModel> {\n        const node = new NodeModel(name, type, coords);\n        const ref = await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes`).push(node);\n        const snap = await ref.get();\n        return snap.val() as NodeModel;\n    }\n\n    async addNode(userId: string, notebookId: string, cellId: string, node: NodeModel): Promise<void> {\n        if (node.nodeId !== \"\")\n            await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${node.nodeId}`).set(node);\n        else\n            await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes`).push(node);\n    }\n\n    async removeNode(userId: string, notebookId: string, cellId: string, nodeId: string): Promise<void> {\n        // Delete all the connections to this node as well\n        await this.db.query(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/connections`)\n            .filter(\"fromNodeId\", \"==\", nodeId)\n            .remove();\n\n        await this.db.query(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/connections`)\n            .filter(\"toNodeId\", \"==\", nodeId)\n            .remove();\n\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${nodeId}`).remove();\n    }\n\n    async updateNodeName(userId: string, notebookId: string, cellId: string, nodeId: string, name: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${nodeId}/name`)\n            .transaction(snap => {\n                return name;\n            });\n    }\n\n    async updateNodeCoords(userId: string, notebookId: string, cellId: string, nodeId: string, coords: Vector2): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${nodeId}/coords`)\n            .transaction(snap => {\n                return coords;\n            });\n    }\n\n    async setNodeInputValue(userId: string, notebookId: string, cellId: string, nodeId: string, slotId: string, value: Primitives): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${nodeId}/inputValues`)\n            .transaction(snap => {\n                const values = snap.val() as NodeInputValue[];\n                const slotIndex = values.findIndex(value => value.id === slotId);\n                if (slotIndex < 0)\n                    values.push({ id: slotId, value: value });\n                else\n                    values[slotIndex].value = value;\n\n                return values;\n            });\n    }\n\n    async setNodeProperty(userId: string, notebookId: string, cellId: string, nodeId: string, propertyId: string, value: string | number | boolean): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${nodeId}/properties`)\n            .transaction(snap => {\n                const values = snap.val() as NodeProperty[];\n                const slotIndex = values.findIndex(value => value.id === propertyId);\n                if (slotIndex < 0)\n                    values.push({ id: propertyId, value });\n                else\n                    values[slotIndex].value = value;\n\n                return values;\n            });\n    }\n\n    /// Node Connections\n\n    async createNewNodeConnection(userId: string, notebookId: string, cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string): Promise<NodeConnectionModel> {\n        const connection = new NodeConnectionModel(fromNodeId, fromSlotId, toNodeId, toSlotId);\n        const ref = await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/connections`).push(connection);\n        const snap = await ref.get();\n        return snap.val() as NodeConnectionModel;\n    }\n\n    async removeNodeConnection(userId: string, notebookId: string, cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string): Promise<void> {\n        const refs = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/connections`)\n            .filter(\"fromNodeId\", \"==\", fromNodeId)\n            .filter(\"fromSlotId\", \"==\", fromSlotId)\n            .filter(\"toNodeId\", \"==\", toNodeId)\n            .filter(\"toSlotId\", \"==\", toSlotId)\n            .get({ snapshots: false }) as DataReferencesArray;\n        if (refs.length <= 0)\n            return;\n\n        refs.forEach(async ref => {\n            await ref.remove();\n        });\n    }\n\n    async removeNodeConnectionWithId(userId: string, notebookId: string, cellId: string, connectionId: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/connections/${connectionId}`).remove();\n    }\n}","export default class Cookies {\n    static setCookie(name: string, val: string): void {\n        const date = new Date();\n        const value = val;\n    \n        const days = 1;\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=/`;\n    }\n    \n    static getCookie(name: string): string | undefined {\n        const value = \"; \" + document.cookie;\n        const parts = value.split(\"; \" + name + \"=\");\n        \n        if (parts.length == 2) {\n            return parts.pop()?.split(\";\").shift();\n        }\n    }\n    \n    static deleteCookie(name: string): void {\n        const date = new Date();\n        date.setTime(date.getTime() + (-1 * 24 * 60 * 60 * 1000));\n        document.cookie = `${name}=; expires=${date.toUTCString()}; path=/`;\n    }\n}","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport DBService from \"../../db/DBService\";\nimport { UserObject } from \"../../db/models\";\nimport Cookies from \"../../utils/Cookies\";\n\n// Should contain only the necessary user details, like:\n// - user name\n// - user settings\n// - user id\n// - auth token\n\nexport type UserState = {\n    userList: UserObject[];\n    currentUser: UserObject | undefined;\n};\n\nconst initialState: UserState = {\n    userList: [],\n    currentUser: undefined\n};\n\n// Payload Types\ntype UpdateUserNamePayload = {\n    userId: string;\n    name: string;\n}\n\nexport const slice = createSlice({\n    name: \"users\",\n    initialState: initialState,\n    reducers: {\n        addUser: (state, action: PayloadAction<UserObject>) => {\n            state.userList.push(action.payload);\n        },\n        removeUser: (state, action: PayloadAction<string>) => {\n            const id = action.payload;\n            const userIndex = state.userList.findIndex(user => user.userId === id);\n            if (userIndex < 0)\n                return;\n\n            const newArr = state.userList.slice();\n            newArr.splice(userIndex, 1);\n            state.userList = newArr;\n\n            if (state.currentUser && state.currentUser.userId === id)\n                state.currentUser = undefined;\n        },\n        setUserList: (state, action: PayloadAction<UserObject[]>) => {\n            state.userList = action.payload;\n        },\n        setCurrentUser: (state, action: PayloadAction<UserObject>) => {\n            state.currentUser = action.payload;\n        },\n        removeCurrentUser: (state, action: PayloadAction<undefined>) => {\n            state.currentUser = undefined;\n        },\n        updateUserName: (state, action: PayloadAction<UpdateUserNamePayload>) =>{\n            const payload = action.payload;\n            if (state.currentUser && state.currentUser.userId === payload.userId)\n                state.currentUser.name = payload.name;\n\n            const userIndex = state.userList.findIndex(user => user.userId === payload.userId);\n            if (userIndex < 0)\n                return;\n\n            state.userList[userIndex].name = payload.name;\n        }\n    }\n});\n\n// Actions\nexport const { addUser, removeUser, setUserList, setCurrentUser, removeCurrentUser, updateUserName } = slice.actions;\n\n// Thunks\nexport const fetchOfflineUsersAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const users = await DBService.db.getAllUsers();\n            dispatch(setUserList(users.map(user => user.toObject())));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const createNewUserAsync = (name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const user = await DBService.db.createNewUser(name);\n            dispatch(addUser(user.toObject()));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteOfflineUserAsync = (userId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // TODO: Should check if the update succeeded\n            await DBService.db.removeUser(userId);\n            dispatch(removeUser(userId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setCurrentOfflineUserAsync = (userId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const user = await DBService.db.getUserDetail(userId);\n            Cookies.setCookie(\"user_id\", user.userId);\n            dispatch(setCurrentUser(user.toObject()));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const removeCurrentOfflineUserAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            Cookies.deleteCookie(\"user_id\");\n            dispatch(removeCurrentUser());\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateUserNameAsync = (userId: string, name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const users = await DBService.db.updateUserName(userId, name);\n            dispatch(updateUserName({ userId, name }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n// Selectors\nexport const getCurrentUser = (state: RootState): UserObject | undefined => state.user.currentUser;\nexport const getUserList = (state: RootState): UserObject[] => state.user.userList;\nexport const hasCurrentUser = (state: RootState): boolean => state.user.currentUser !== undefined;\n\nconst userSlice = slice.reducer;\nexport default userSlice;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport DBService from \"../../db/DBService\";\nimport { CellObject, DataSourceObject, NodeConnectionObject, NodeModel, NodeObject, NotebookObject, VariableObject } from \"../../db/models\";\nimport { getCurrentUser } from \"../users/userSlice\";\nimport cuid from \"cuid\";\nimport { SourceType, VariableType } from \"../../utils/Types\";\nimport { Primitives, Vector2 } from \"../../types\";\nimport { WritableDraft } from \"@reduxjs/toolkit/node_modules/immer/dist/internal\";\n\n// Model\nexport type NotebookState = {\n    notebookDetails: NotebookObject[];\n    currentNotebook: NotebookObject | undefined;\n    selectedNode: {\n        cellId: string;\n        nodeId: string;\n    } | undefined;\n    selectedNodeTypeHelp: string | undefined;\n    isDraggingSource: boolean;\n    isDraggingVariable: boolean;\n    isDraggingCell: boolean;\n}\n\nconst initialState: NotebookState = {\n    notebookDetails: [],\n    currentNotebook: undefined,\n    selectedNode: undefined,\n    selectedNodeTypeHelp: undefined,\n    isDraggingSource: false,\n    isDraggingVariable: false,\n    isDraggingCell: false\n};\n\n// Payload Types\n/// Notebooks\ntype UpdateNotebookNamePayload = {\n    notebookId: string;\n    name: string;\n}\n\ntype UpdateDataSourceNamePayload = {\n    sourceId: string;\n    name: string;\n}\n\ntype UpdateVariableNamePayload = {\n    variableId: string;\n    name: string;\n}\n\ntype UpdateVariableValuePayload = {\n    variableId: string;\n    value: string | number | boolean;\n}\n\n/// Cells\ntype UpdateCellTypePayload = {\n    cellId: string;\n    type: \"node\" | \"markdown\";\n}\n\ntype UpdateCellValuePayload = {\n    cellId: string;\n    value: string;\n}\n\ntype InsertCellPayload = {\n    cellId: string;\n    targetCellId: string;\n}\n\n/// Nodes\ntype AddNodePayload = {\n    cellId: string;\n    node: NodeObject;\n}\n\ntype RemoveNodePayload = {\n    cellId: string;\n    nodeId: string;\n}\n\ntype UpdateNodeNamePayload = {\n    cellId: string;\n    nodeId: string;\n    name: string;\n}\n\ntype UpdateNodeCoordsPayload = {\n    cellId: string;\n    nodeId: string;\n    coords: Vector2;\n}\n\ntype SelectNodePayload = {\n    cellId: string;\n    nodeId: string;\n}\n\ntype SetNodeInputValuePayload = {\n    cellId: string;\n    nodeId: string;\n    slotId: string;\n    value: Primitives;\n}\n\ntype SetNodePropertyPayload = {\n    cellId: string;\n    nodeId: string;\n    propertyId: string;\n    value: string | number | boolean;\n}\n\n/// Connections\ntype AddConnectionPayload = {\n    cellId: string;\n    connection: NodeConnectionObject;\n}\n\ntype RemoveConnectionPayload = {\n    cellId: string;\n    fromNodeId: string;\n    fromSlotId: string;\n    toNodeId: string;\n    toSlotId: string;\n}\n\ntype RemoveConnectionWithIdPayload = {\n    cellId: string;\n    connectionId: string;\n}\n\nexport const slice = createSlice({\n    name: \"notebooks\",\n    initialState: initialState,\n    reducers: {\n        // Notebooks\n        openNotebook: (state, action: PayloadAction<NotebookObject>) => {\n            state.currentNotebook = action.payload;\n        },\n        closeNotebook: (state, action: PayloadAction<undefined>) => {\n            state.currentNotebook = undefined;\n        },\n        setNotebookDetails: (state, action: PayloadAction<NotebookObject[]>) => {\n            state.notebookDetails = action.payload;\n        },\n        updateNotebookName: (state, action: PayloadAction<UpdateNotebookNamePayload>) => {\n            const payload = action.payload;\n            const index = state.notebookDetails.findIndex(notebook => notebook.notebookId === payload.notebookId);\n            if (index < 0)\n                return;\n\n            const notebook = state.notebookDetails[index];\n            const now = Date.now();\n            notebook.name = payload.name;\n            notebook.dateModified = now;\n        },\n        addNotebook: (state, action: PayloadAction<NotebookObject>) => {\n            const notebook: NotebookObject = {\n                ...action.payload,\n                cells: []\n            };\n            state.notebookDetails.push(notebook);\n        },\n        removeNotebook: (state, action: PayloadAction<string>) => {\n            const id = action.payload;\n            const index = state.notebookDetails.findIndex(notebook => notebook.notebookId === id);\n            if (index < 0)\n                return;\n\n            const newArr = state.notebookDetails.slice();\n            newArr.splice(index, 1);\n            state.notebookDetails = newArr;\n        },\n\n        // Data Sources\n        addDataSource: (state, action: PayloadAction<DataSourceObject>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.currentNotebook.sources = [...state.currentNotebook.sources, payload];\n        },\n        updateDataSourceName: (state, action: PayloadAction<UpdateDataSourceNamePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const index = state.currentNotebook.sources.findIndex(source => source.sourceId === payload.sourceId);\n            if (index < 0)\n                return;\n\n            state.currentNotebook.sources[index].name = payload.name;\n        },\n        removeDataSource: (state, action: PayloadAction<string>) => {\n            const id = action.payload;\n            if (!state.currentNotebook || state.currentNotebook.sources.length <= 0)\n                return;\n\n            const sourceIndex = state.currentNotebook.sources.findIndex(source => source.sourceId === id);\n            if (sourceIndex < 0)\n                return;\n\n            const newArr = state.currentNotebook.sources.slice();\n            newArr.splice(sourceIndex, 1);\n            state.currentNotebook.sources = newArr;\n        },\n        setIsDraggingSource: (state, action: PayloadAction<boolean>) => {\n            const value = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.isDraggingSource = value;\n        },\n\n        // Variables\n        addVariable: (state, action: PayloadAction<VariableObject>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.currentNotebook.variables = [...state.currentNotebook.variables, payload];\n        },\n        updateVariableName: (state, action: PayloadAction<UpdateVariableNamePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const index = state.currentNotebook.variables.findIndex(variable => variable.variableId === payload.variableId);\n            if (index < 0)\n                return;\n\n            state.currentNotebook.variables[index].name = payload.name;\n        },\n        updateVariableValue: (state, action: PayloadAction<UpdateVariableValuePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const index = state.currentNotebook.variables.findIndex(variable => variable.variableId === payload.variableId);\n            if (index < 0)\n                return;\n\n            state.currentNotebook.variables[index].value = payload.value;\n        },\n        removeVariable: (state, action: PayloadAction<string>) => {\n            const id = action.payload;\n            if (!state.currentNotebook || state.currentNotebook.variables.length <= 0)\n                return;\n\n            const variableIndex = state.currentNotebook.variables.findIndex(variable => variable.variableId === id);\n            if (variableIndex < 0)\n                return;\n\n            const newArr = state.currentNotebook.variables.slice();\n            newArr.splice(variableIndex, 1);\n            state.currentNotebook.variables = newArr;\n        },\n        setIsDraggingVariable: (state, action: PayloadAction<boolean>) => {\n            const value = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.isDraggingVariable = value;\n        },\n\n        // Cells\n        addCell: (state, action: PayloadAction<CellObject>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const lastCellIndex = state.currentNotebook.cells.findIndex(cell => cell.nextCell === \"\");\n            if (state.currentNotebook.cells.length > 0 && lastCellIndex >= 0)\n                state.currentNotebook.cells[lastCellIndex].nextCell = payload.cellId;\n\n            state.currentNotebook.cells = [...state.currentNotebook.cells, payload];\n        },\n        updateCellType: (state, action: PayloadAction<UpdateCellTypePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            state.currentNotebook.cells[cellIndex].type = payload.type;\n        },\n        removeCell: (state, action: PayloadAction<string>) => {\n            const id = action.payload;\n            if (!state.currentNotebook || state.currentNotebook.cells.length <= 0)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === id);\n            if (cellIndex < 0)\n                return;\n\n            const lastCellIndex = state.currentNotebook.cells.findIndex(cell => cell.nextCell === id);\n            if (state.currentNotebook.cells.length > 1 && lastCellIndex >= 0)\n                state.currentNotebook.cells[lastCellIndex].nextCell = state.currentNotebook.cells[cellIndex].nextCell;\n\n            const newArr = state.currentNotebook.cells.slice();\n            newArr.splice(cellIndex, 1);\n            state.currentNotebook.cells = newArr;\n        },\n        updateCellValue: (state, action: PayloadAction<UpdateCellValuePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            state.currentNotebook.cells[cellIndex].value = payload.value;\n        },\n        insertCell: (state, action: PayloadAction<InsertCellPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            if (payload.cellId === payload.targetCellId)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n            \n            const targetCellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.targetCellId);\n            if (targetCellIndex < 0)\n                return;\n\n            const prevCellIndex = state.currentNotebook.cells.findIndex(cell => cell.nextCell === payload.cellId);\n\n            const nextCell = state.currentNotebook.cells[cellIndex].nextCell;\n            const cells = state.currentNotebook.cells.slice();\n            if (cells[targetCellIndex].nextCell === cells[cellIndex].cellId)\n                return;\n\n            cells[cellIndex].nextCell = cells[targetCellIndex].nextCell;\n            cells[targetCellIndex].nextCell = cells[cellIndex].cellId;\n            if (prevCellIndex >= 0)\n                cells[prevCellIndex].nextCell = nextCell;\n\n            state.currentNotebook.cells = cells;\n        },\n        insertCellToTop: (state, action: PayloadAction<string>) => {\n            const cellId = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n            if (cellIndex < 0)\n                return;\n\n            const prevCellIndex = state.currentNotebook.cells.findIndex(cell => cell.nextCell === cellId);\n            if (prevCellIndex < 0)\n                return;\n\n            const nextCells = state.currentNotebook.cells.map(cell => cell.nextCell);\n            let topCellIndex = -1;\n            for (let i = 0; i < state.currentNotebook.cells.length; i++) {\n                const cell = state.currentNotebook.cells[i];\n                if (!nextCells.includes(cell.cellId)) {\n                    topCellIndex = i;\n                    break;\n                }\n            }\n            if (topCellIndex < 0)\n                return;\n\n            if (topCellIndex === cellIndex)\n                return;\n\n            const cells = state.currentNotebook.cells.slice();\n            cells[prevCellIndex].nextCell = cells[cellIndex].nextCell;\n            cells[cellIndex].nextCell = cells[topCellIndex].cellId;\n\n            state.currentNotebook.cells = cells;\n        },\n        setIsDraggingCell: (state, action: PayloadAction<boolean>) => {\n            const value = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.isDraggingCell = value;\n        },\n\n        // Nodes\n        addNode: (state, action: PayloadAction<AddNodePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodes = state.currentNotebook.cells[cellIndex].nodes;\n            state.currentNotebook.cells[cellIndex].nodes = [...nodes, payload.node];\n        },\n        removeNode: (state, action: PayloadAction<RemoveNodePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodeIndex = state.currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === payload.nodeId);\n            if (nodeIndex < 0)\n                return;\n\n            // Delete the connections to this node as well\n            const newConns = state.currentNotebook.cells[cellIndex].connections\n                .filter(conn => conn.fromNodeId !== payload.nodeId && conn.toNodeId !== payload.nodeId);\n            state.currentNotebook.cells[cellIndex].connections = newConns;\n            \n            const newArr = state.currentNotebook.cells[cellIndex].nodes.slice();\n            newArr.splice(nodeIndex, 1);\n            state.currentNotebook.cells[cellIndex].nodes = newArr;\n        },\n        updateNodeName: (state, action: PayloadAction<UpdateNodeNamePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodeIndex = state.currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === payload.nodeId);\n            if (nodeIndex < 0)\n                return;\n            \n            state.currentNotebook.cells[cellIndex].nodes[nodeIndex].name = payload.name;\n        },\n        updateNodeCoords: (state, action: PayloadAction<UpdateNodeCoordsPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodeIndex = state.currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === payload.nodeId);\n            if (nodeIndex < 0)\n                return;\n            \n            state.currentNotebook.cells[cellIndex].nodes[nodeIndex].coords = payload.coords;\n        },\n        selectNode: (state, action: PayloadAction<SelectNodePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.selectedNode = { cellId: payload.cellId, nodeId: payload.nodeId };\n        },\n        clearSelectedNode: (state, action: PayloadAction<undefined>) => {\n            state.selectedNode = undefined;\n        },\n        selectNodeType: (state, action: PayloadAction<string>) => {\n            const nodeType = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.selectedNodeTypeHelp = nodeType;\n        },\n        clearSelectedNodeType: (state, action: PayloadAction<undefined>) => {\n            state.selectedNodeTypeHelp = undefined;\n        },\n        setNodeInputValue: (state, action: PayloadAction<SetNodeInputValuePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodeIndex = state.currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === payload.nodeId);\n            if (nodeIndex < 0)\n                return;\n\n            const slotIndex = state.currentNotebook.cells[cellIndex].nodes[nodeIndex].inputValues.findIndex(val => val.id === payload.slotId);\n            if (slotIndex < 0) {\n                const inputVals = state.currentNotebook.cells[cellIndex].nodes[nodeIndex].inputValues;\n                state.currentNotebook.cells[cellIndex].nodes[nodeIndex].inputValues = [...inputVals, { id: payload.slotId, value: payload.value }];\n            } \n            else\n                state.currentNotebook.cells[cellIndex].nodes[nodeIndex].inputValues[slotIndex].value = payload.value;\n        },\n        setNodeProperty: (state, action: PayloadAction<SetNodePropertyPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodeIndex = state.currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === payload.nodeId);\n            if (nodeIndex < 0)\n                return;\n\n            const propertyIndex = state.currentNotebook.cells[cellIndex].nodes[nodeIndex].properties.findIndex(val => val.id === payload.propertyId);\n            if (propertyIndex < 0) {\n                const properties = state.currentNotebook.cells[cellIndex].nodes[nodeIndex].properties;\n                state.currentNotebook.cells[cellIndex].nodes[nodeIndex].properties = [...properties, { id: payload.propertyId, value: payload.value }];\n            } \n            else\n                state.currentNotebook.cells[cellIndex].nodes[nodeIndex].properties[propertyIndex].value = payload.value;\n        },\n\n        // Connections\n        addConnection: (state, action: PayloadAction<AddConnectionPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const connections = state.currentNotebook.cells[cellIndex].connections;\n            state.currentNotebook.cells[cellIndex].connections = [...connections, payload.connection];\n        },\n        removeConnection: (state, action: PayloadAction<RemoveConnectionPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const connections = state.currentNotebook.cells[cellIndex].connections\n                .filter(connection => connection.fromNodeId === payload.fromNodeId &&\n                                      connection.fromSlotId === payload.fromSlotId &&\n                                      connection.toNodeId === payload.toNodeId &&\n                                      connection.toSlotId === payload.toSlotId);\n            if (connections.length <= 0)\n                return;\n\n            const newArr = state.currentNotebook.cells[cellIndex].connections.slice();\n            connections.forEach(connection => {\n                const connectionIndex = newArr.findIndex(conn => conn.connectionId === connection.connectionId);\n                if (connectionIndex < 0)\n                    return;\n\n                newArr.splice(connectionIndex, 1);\n            });\n\n            state.currentNotebook.cells[cellIndex].connections = newArr;\n        },\n        removeConnectionWithId: (state, action: PayloadAction<RemoveConnectionWithIdPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const connectionIndex = state.currentNotebook.cells[cellIndex].connections.findIndex(connection => connection.connectionId === payload.connectionId);\n            if (connectionIndex < 0)\n                return;\n\n            const newArr = state.currentNotebook.cells[cellIndex].connections.slice();\n            newArr.splice(connectionIndex, 1);\n            state.currentNotebook.cells[cellIndex].connections = newArr;\n        }\n    }\n});\n\n// Notebook Actions\nexport const { openNotebook, closeNotebook, setNotebookDetails, updateNotebookName, addNotebook, removeNotebook } = slice.actions;\n// Data Source Actions\nexport const { addDataSource, updateDataSourceName, removeDataSource, setIsDraggingSource } = slice.actions;\n// Variable Actions\nexport const { addVariable, updateVariableName, updateVariableValue, removeVariable, setIsDraggingVariable } = slice.actions;\n// Cell Actions\nexport const { addCell, updateCellType, removeCell, updateCellValue, insertCell, insertCellToTop, setIsDraggingCell } = slice.actions;\n// Node Actions\nexport const { addNode, removeNode, updateNodeName, updateNodeCoords, selectNode, clearSelectedNode, selectNodeType, clearSelectedNodeType, setNodeInputValue, setNodeProperty } = slice.actions;\n// Connection Actions\nexport const { addConnection, removeConnection, removeConnectionWithId } = slice.actions;\n\n// Thunks\n/// Notebooks\nexport const fetchNotebookDetailsAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const notebooks = await DBService.db.getNotebookDetailsByUser(user.userId);\n            dispatch(setNotebookDetails(notebooks.map(notebook => notebook.toObject())));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const openNotebookAsync = (notebookId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            // Don't open a currently opened notebook\n            if (isNotebookOpen(getState(), notebookId))\n                return;\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const notebook = await DBService.db.getNotebook(user.userId, notebookId);\n            dispatch(openNotebook(notebook.toObject()));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const closeNotebookAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            dispatch(closeNotebook());\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateNotebookNameAsync = (notebookId: string, name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateNotebookName(user.userId, notebookId, name);\n            dispatch(updateNotebookName({ notebookId, name }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const createNewNotebookAsync = (name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const notebook = await DBService.db.createNewNotebook(user.userId, name);\n            dispatch(addNotebook(notebook.toObject()));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteNotebookAsync = (notebookId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            if (!isNotebookInList(getState(), notebookId))\n                return;\n            \n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeNotebook(user.userId, notebookId);\n            dispatch(removeNotebook(notebookId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n/// Data Sources\n\nexport const createNewDataSourceAsync = (name: string, type: SourceType) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<DataSourceObject | undefined> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const source = await DBService.db.createNewDataSource(user.userId, notebook.notebookId, name, type);\n            if (!source)\n                throw new ReferenceError(\"An error has occured when creating a data source.\");\n\n            const sourceObj = source.toObject();\n            dispatch(addDataSource(sourceObj));\n            return sourceObj;\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateDataSourceNameAsync = (sourceId: string, name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateDataSourceName(user.userId, notebook.notebookId, sourceId, name);\n            dispatch(updateDataSourceName({ sourceId, name }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteDataSourceAsync = (sourceId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeData(sourceId);\n            await DBService.db.removeDataSource(user.userId, notebook.notebookId, sourceId);\n            dispatch(removeDataSource(sourceId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setIsDraggingSourceAsync = (value: boolean) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(setIsDraggingSource(value));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n/// Variables\n\nexport const createNewVariableAsync = (name: string, type: VariableType) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<VariableObject | undefined> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const variable = await DBService.db.createNewVariable(user.userId, notebook.notebookId, name, type);\n            if (!variable)\n                throw new ReferenceError(\"An error has occured when creating a variable.\");\n\n            const variableObj = variable.toObject();\n            dispatch(addVariable(variableObj));\n            return variableObj;\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateVariableNameAsync = (variableId: string, name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateVariableName(user.userId, notebook.notebookId, variableId, name);\n            dispatch(updateVariableName({ variableId, name }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateVariableValueAsync = (variableId: string, value: string | number | boolean) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateVariableValue(user.userId, notebook.notebookId, variableId, value);\n            dispatch(updateVariableValue({ variableId, value }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteVariableAsync = (variableId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeVariable(user.userId, notebook.notebookId, variableId);\n            dispatch(removeVariable(variableId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setIsDraggingVariableAsync = (value: boolean) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(setIsDraggingVariable(value));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n/// Cells\n\nexport const createNewCellAsync = (type: \"markdown\" | \"node\") => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<CellObject | undefined> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const cell = await DBService.db.createNewCell(user.userId, notebook.notebookId, type);\n            if (!cell)\n                throw new ReferenceError(\"An error has occured when creating a cell.\");\n\n            const cellObj = cell.toObject();\n            dispatch(addCell(cellObj));\n            return cellObj;\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateCellTypeAsync = (cellId: string, type: \"node\" | \"markdown\") => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateCellType(user.userId, notebook.notebookId, cellId, type);\n            dispatch(updateCellType({ cellId, type }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteCellAsync = (cellId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeCell(user.userId, notebook.notebookId, cellId);\n            dispatch(removeCell(cellId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateCellValueAsync = (cellId: string, value: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateMarkdownCell(user.userId, notebook.notebookId, cellId, value);\n\n            dispatch(updateCellValue({ cellId, value }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const insertCellAsync = (cellId: string, targetCellId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.insertCell(user.userId, notebook.notebookId, cellId, targetCellId);\n            dispatch(insertCell({ cellId, targetCellId }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const insertCellToTopAsync = (cellId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.insertCellToTop(user.userId, notebook.notebookId, cellId);\n            dispatch(insertCellToTop(cellId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setIsDraggingCellAsync = (value: boolean) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(setIsDraggingCell(value));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n/// Nodes\nexport const createNewNodeAsync = (cellId: string, name: string, type: string, coords: Vector2 = { x: 0, y: 0 }) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const node = await DBService.db.createNewNode(user.userId, notebook.notebookId, cellId, name, type, coords);\n            dispatch(addNode({ cellId, node: node.toObject() }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const addNodeAsync = (cellId: string, node: NodeObject) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            if (node.nodeId === \"\")\n                node.nodeId = cuid();\n            await DBService.db.addNode(user.userId, notebook.notebookId, cellId, NodeModel.fromObject(node));\n            dispatch(addNode({ cellId, node }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteNodeAsync = (cellId: string, nodeId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeNode(user.userId, notebook.notebookId, cellId, nodeId);\n            dispatch(removeNode({ cellId, nodeId }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateNodeNameAsync = (cellId: string, nodeId: string, name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateNodeName(user.userId, notebook.notebookId, cellId, nodeId, name);\n            dispatch(updateNodeName({ cellId, nodeId, name }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateNodeCoordsAsync = (cellId: string, nodeId: string, coords: Vector2) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateNodeCoords(user.userId, notebook.notebookId, cellId, nodeId, coords);\n            dispatch(updateNodeCoords({ cellId, nodeId, coords }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const selectNodeAsync = (cellId: string, nodeId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(selectNode({ cellId, nodeId }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const clearSelectedNodeAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(clearSelectedNode());\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const selectNodeTypeAsync = (nodeType: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(selectNodeType(nodeType));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const clearSelectedNodeTypeAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(clearSelectedNodeType());\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setNodeInputValueAsync = (cellId: string, nodeId: string, slotId: string, value: Primitives) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.setNodeInputValue(user.userId, notebook.notebookId, cellId, nodeId, slotId, value);\n            dispatch(setNodeInputValue({ cellId, nodeId, slotId, value }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setNodePropertyAsync = (cellId: string, nodeId: string, propertyId: string, value: string | number | boolean) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.setNodeProperty(user.userId, notebook.notebookId, cellId, nodeId, propertyId, value);\n            dispatch(setNodeProperty({ cellId, nodeId, propertyId, value }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n/// Connections\nexport const createNewConnectionAsync = (cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const connection = await DBService.db.createNewNodeConnection(user.userId, notebook.notebookId, cellId, fromNodeId, fromSlotId, toNodeId, toSlotId);\n            dispatch(addConnection({ cellId, connection: connection.toObject() }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteConnectionAsync = (cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeNodeConnection(user.userId, notebook.notebookId, cellId, fromNodeId, fromSlotId, toNodeId, toSlotId);\n            dispatch(removeConnection({ cellId, fromNodeId, fromSlotId, toNodeId, toSlotId }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteConnectionWithIdAsync = (cellId: string, connectionId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeNodeConnectionWithId(user.userId, notebook.notebookId, cellId, connectionId);\n            dispatch(removeConnectionWithId({ cellId, connectionId }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n// Selectors\n/// Notebooks\nexport const getNotebookDetails = (state: RootState): NotebookObject[] => state.notebook.notebookDetails;\nexport const getCurrentNotebook = (state: RootState): NotebookObject | undefined => state.notebook.currentNotebook;\nexport const isNotebookOpen = (state: RootState, notebookId: string): boolean => {\n    const currentNotebook = getCurrentNotebook(state);\n    return currentNotebook?.notebookId === notebookId;\n};\nexport const isNotebookInList = (state: RootState, notebookId: string): boolean => {\n    const notebookDetails = getNotebookDetails(state);\n    const notebookIndex = notebookDetails.findIndex(notebook => notebook.notebookId === notebookId);\n    return notebookIndex > -1;\n};\n\n/// Data Sources\nexport const getDataSources = (state: RootState): DataSourceObject[] => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return [];\n\n    return currentNotebook.sources;\n};\n\nexport const getIsDraggingSource = (state: RootState): boolean => state.notebook.isDraggingSource;\n\n/// Variables\nexport const getVariables = (state: RootState): VariableObject[] => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return [];\n\n    return currentNotebook.variables;\n};\n\nexport const getIsDraggingVariable = (state: RootState): boolean => state.notebook.isDraggingVariable;\n\n/// Cells\nexport const getCells = (state: RootState): CellObject[] => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return [];\n\n    return currentNotebook.cells;\n};\n\n/// Nodes\nexport const getNodes = (state: RootState, cellId: string): NodeObject[] => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return [];\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return [];\n\n    return currentNotebook.cells[cellIndex].nodes;\n};\n\nexport const getNodeById = (state: RootState, cellId: string, nodeId: string): NodeObject | undefined => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return;\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return;\n\n    const nodeIndex = currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === nodeId);\n    if (nodeIndex < 0)\n        return;\n\n    return currentNotebook.cells[cellIndex].nodes[nodeIndex];\n};\n\nexport const getSelectedNode = (state: RootState): { cellId: string; nodeId: string; } | undefined => state.notebook.selectedNode;\n\n/// Connections\nexport const getConnections = (state: RootState, cellId: string): NodeConnectionObject[] => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return [];\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return [];\n\n    return currentNotebook.cells[cellIndex].connections;\n};\n\nexport const getConnection = (state: RootState, cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string): NodeConnectionObject | undefined => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return;\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return;\n\n    const connectionIndex = currentNotebook.cells[cellIndex].connections\n        .findIndex(connection => connection.fromNodeId === fromNodeId &&\n                                 connection.fromSlotId === fromSlotId &&\n                                 connection.toNodeId === toNodeId &&\n                                 connection.toSlotId === toSlotId);\n    if (connectionIndex < 0)\n        return;\n\n    return currentNotebook.cells[cellIndex].connections[connectionIndex];\n};\n\nexport const getConnectionById = (state: RootState, cellId: string, connectionId: string): NodeConnectionObject | undefined => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return;\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return;\n\n    const connectionIndex = currentNotebook.cells[cellIndex].connections.findIndex(connection => connection.connectionId === connectionId);\n    if (connectionIndex < 0)\n        return;\n\n    return currentNotebook.cells[cellIndex].connections[connectionIndex];\n};\n\nexport const getSeparateConnectionsByNodeId = (state: RootState, cellId: string, nodeId: string): {\n    fromConnections: NodeConnectionObject[];\n    toConnections: NodeConnectionObject[];\n} => {\n    const fromConnections: NodeConnectionObject[] = [];\n    const toConnections: NodeConnectionObject[] = [];\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return { fromConnections: [], toConnections: [] };\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return { fromConnections: [], toConnections: [] };\n\n    const connections = currentNotebook.cells[cellIndex].connections;\n    connections.forEach(conn => {\n        if (conn.fromNodeId === nodeId)\n            fromConnections.push(conn);\n        else if (conn.toNodeId === nodeId)\n            toConnections.push(conn);\n    });\n\n    return { fromConnections, toConnections };\n};\n\nconst notebookSlice = slice.reducer;\nexport default notebookSlice;","import { configureStore } from \"@reduxjs/toolkit\";\nimport notebookSlice from \"../features/notebooks/notebookSlice\";\nimport userSlice from \"../features/users/userSlice\";\nconst store = configureStore({\n    reducer: {\n        notebook: notebookSlice,\n        user: userSlice\n    }\n});\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;","import { ReactCodeMirrorRef } from \"@uiw/react-codemirror\";\nimport store from \"../app/store\";\n\nclass CodeMirrorManager {\n    private refs: {\n        [key: string]: ReactCodeMirrorRef\n    } = {};\n    private delayFocusKey = \"\";\n    private currentNotebookId = \"\";\n\n    constructor() {\n        store.subscribe(this.onStoreUpdate);\n    }\n\n    onStoreUpdate(): void {\n        const currentNotebook = store.getState().notebook.currentNotebook;\n        if (!currentNotebook || !this)\n            return;\n\n        if (this.currentNotebookId !== currentNotebook.notebookId)\n            this.reset();\n    }\n\n    addRef(key: string, ref: ReactCodeMirrorRef): void {\n        this.refs[key] = ref;\n        if (key === this.delayFocusKey)\n            this.focus(key);\n    }\n\n    focus(key: string): void {\n        if (this.refs[key])\n            this.refs[key].view?.focus();\n    }\n\n    delayedFocus(key: string): void {\n        this.delayFocusKey = key;\n    }\n\n    reset(): void {\n        this.refs = {};\n        this.delayFocusKey = \"\";\n    }\n}\n\nexport default new CodeMirrorManager();","export default class Meta {\n    static isEmpty(obj: any): boolean {\n        let empty = true;\n        for (const i in obj) {\n            empty = false;\n            break;\n        }\n        return !Meta.isPrimitive(obj) && empty;\n    }\n\n    static isPrimitive(obj: any): boolean {\n        return obj !== Object(obj);\n    }\n\n    static isFunction(obj: any): boolean {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    }\n}","import cuid from \"cuid\";\nimport { DefinedNodeType, NodeCollection, NodeType, PrimitiveTree } from \"../types\";\nimport Meta from \"../utils/Meta\";\n\nconst defaultValues: DefinedNodeType = {\n    id: cuid(),\n    name: cuid(),\n    description: \"\",\n    inputSlots: [],\n    outputSlots: [],\n    properties: [],\n    isDeletable: true,\n    isHiddenFromList: false,\n    style: {\n        width: 200,\n        height: -1\n    },\n    nodeFunction: async input => { return {}; }\n};\n\nfunction assignDefaults(type: Record<string, unknown>, defaults: Record<string, unknown>): Record<string, unknown> {\n    const result = {...defaults};\n    for (const key of Object.keys(type)) {\n        if (result[key] == null || type[key] == null)\n            continue;\n\n        if (!Meta.isPrimitive(type[key]) && !Meta.isFunction(type[key])) {\n            if (Array.isArray(type[key])) {\n                result[key] = type[key];\n                continue;\n            }\n\n            const innerResult = assignDefaults(type[key] as Record<string, unknown>, result[key] as Record<string, unknown>);\n            if (innerResult == undefined)\n                continue;\n\n            result[key] = innerResult;\n            continue;\n        }\n\n        result[key] = type[key];\n    }\n\n    return result;\n}\n\nconst defaultTypeValues: {\n    [id: string]: string | number | boolean | string[] | number[] | boolean[]\n} = {\n    string: \"\",\n    number: 0,\n    boolean: false,\n    \"string[]\": [] as string[],\n    \"number[]\": [] as number[],\n    \"boolean[]\": [] as boolean[]\n};\n\nclass NodeTypeManager {\n    private collections: {\n        [id: string]: NodeCollection\n    } = {};\n    private types: {\n        [id: string]: DefinedNodeType\n    } = {};\n\n    addNodeCollection(collection: NodeCollection): void {\n        collection.nodeGroups.forEach(group => {\n            group.types.forEach(type => this.addNodeType(group.name === \"\" ? collection.id : `${collection.id}:${group.name}`, type, collection.defaultValues));\n        });\n        this.collections[collection.id] = collection;\n    }\n\n    addNodeCollections(...collections: NodeCollection[]): void {\n        collections.forEach(coll => {\n            this.addNodeCollection(coll);\n        });\n    }\n\n    private addNodeType(collId: string, type: NodeType, defaultVals?: PrimitiveTree): void {\n        //console.log(`Adding '${type.id}' type...`);\n        const result = assignDefaults(type, defaultValues) as DefinedNodeType;\n        if (!result)\n            return;\n        result.id = `${collId}:${result.id}`;\n\n        // Initialize input slots default value if null\n        for (let i = 0; i < result.inputSlots.length; i++) {\n            if (result.inputSlots[i].defaultValue != null)\n                continue;\n\n            const typeName = result.inputSlots[i].type;\n            const customDefaultVal = defaultVals != null ? defaultVals[typeName] : undefined;\n            const defaultVal = defaultTypeValues[typeName];\n            if (customDefaultVal == null && defaultVal == null)\n                continue;\n\n            result.inputSlots[i].defaultValue = customDefaultVal ?? defaultVal;\n        }\n\n        // Initialize properties default value if null\n        for (let i = 0; i < result.properties.length; i++) {\n            if (result.properties[i].defaultValue != null)\n                continue;\n\n            const typeName = result.properties[i].type;\n            const customDefaultVal = defaultVals != null ? defaultVals[typeName] : undefined;\n            const defaultVal = defaultTypeValues[typeName];\n            if (customDefaultVal == null && defaultVal == null)\n                continue;\n\n            result.properties[i].defaultValue = (customDefaultVal ?? defaultVal) as string | number | boolean;\n        }\n\n        this.types[result.id] = result;\n    }\n\n    getType(id: string): DefinedNodeType | undefined {\n        if (id === \"\")\n            return;\n\n        const type = this.types[id];\n        if (!type)\n            return;\n        \n        return type;\n    }\n\n    getVisibleTypeIds(): string[] {\n        return Object.values(this.types).filter(type => !type.isHiddenFromList).map(type => type.id);\n    }\n}\n\nexport default new NodeTypeManager();","import Series from \"danfojs/dist/danfojs-base/core/series\";\nimport store from \"../app/store\";\nimport { getCurrentNotebook, getNodeById, getSeparateConnectionsByNodeId } from \"../features/notebooks/notebookSlice\";\nimport { PrimitiveTree, Primitives, NodeError, Slot, Property, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport NodeTypeManager from \"./NodeTypeManager\";\n\nclass NodeExecManager {\n    private outputs: {\n        [cellId: string]: {\n            [nodeId: string]: PrimitiveTree\n        }\n    } = {};\n    private variables: {\n        [variableId: string]: Primitives | Series\n    } = {};\n    private errors: {\n        [cellId: string]: NodeError[]\n    } = {};\n    private cellExecs: {\n        [cellId: string]: () => Promise<void>;\n    } = {};\n\n    private currentNotebookId = \"\";\n\n    constructor() {\n        this.onStoreUpdate = this.onStoreUpdate.bind(this);\n        store.subscribe(this.onStoreUpdate);\n    }\n\n    onStoreUpdate(): void {\n        const currentNotebook = store.getState().notebook.currentNotebook;\n        if (!currentNotebook)\n            return;\n\n        if (this.currentNotebookId !== currentNotebook.notebookId) {\n            this.reset();\n            this.currentNotebookId = currentNotebook.notebookId;\n        }\n    }\n\n    reset() {\n        this.outputs = {};\n        this.variables = {};\n        this.errors = {};\n    }\n\n    resetCellOutputs(cellId: string) {\n        this.outputs[cellId] = {};\n        this.errors[cellId] = [];\n    }\n    \n    getVariable(variableId: string): Primitives | Series | undefined {\n        let variable: Primitives | Series | undefined = this.variables[variableId];\n        if (variable == null) {\n            const notebook = getCurrentNotebook(store.getState());\n            if (!notebook)\n                return variable;\n            \n            const variableIndex = notebook.variables.findIndex(v => v.variableId === variableId);\n            if (variableIndex < 0)\n                return variable;\n\n            const variableObj = notebook.variables[variableIndex];\n            variable = variableObj.value;\n        }\n\n        return variable;\n    }\n\n    setVariable(variableId: string, value: Primitives | Series): void {\n        this.variables[variableId] = value;\n    }\n\n    getErrors(cellId: string): NodeError[] {\n        if (!this.errors[cellId])\n            this.errors[cellId] = [];\n\n        return this.errors[cellId];\n    }\n\n    addCellExec(cellId: string, exec: () => Promise<void>): void {\n        this.cellExecs[cellId] = exec;\n    }\n\n    async runCells(notebookId: string) {\n        const execs: (() => Promise<void>)[] = [];\n        const notebook = getCurrentNotebook(store.getState());\n        if (!notebook || notebook?.notebookId !== notebookId)\n            return;\n\n        notebook.cells.forEach(cell => {\n            if (this.cellExecs[cell.cellId])\n                execs.push(this.cellExecs[cell.cellId]);\n        });\n\n        this.variables = {};\n\n        for (let i = 0; i < execs.length; i++) {\n            const exec = execs[i];\n            await exec();\n        }\n    }\n\n    async runFunction(cellId: string, nodeId: string): Promise<PrimitiveTree> {\n        // Reset the saved outputs and errors\n        return await this.runFunc(cellId, nodeId);\n    }\n\n    async runFunctions(cellId: string, nodeIds: string[], runInSequence = false): Promise<PrimitiveTree[]> {\n        // Reset the saved outputs and errors\n        let results: PrimitiveTree[] = [];\n        if (runInSequence) {\n            for (const nodeId of nodeIds) {\n                const result = await this.runFunc(cellId, nodeId);\n                results.push(result);\n            }\n        } else {\n            const actions = nodeIds.map(nodeId => this.runFunc(cellId, nodeId));\n            results = await Promise.all(actions);\n        }\n\n        return results;\n    }\n    \n    private async runFunc(cellId: string, nodeId: string): Promise<PrimitiveTree> {\n        // Use cached output if found\n        const savedOutput = this.outputs[cellId][nodeId];\n        if (savedOutput != null)\n            return savedOutput;\n\n        const node = getNodeById(store.getState(), cellId, nodeId);\n        if (!node)\n            return {};\n\n        const type = NodeTypeManager.getType(node.type);\n        if (!type)\n            return {};\n\n        const connections = getSeparateConnectionsByNodeId(store.getState(), cellId, nodeId);\n\n        type Result = {\n            slotId: string;\n            result: Primitives | Series\n        }\n\n        const connectionIndex = (slotId: string) => {\n            return connections.toConnections.findIndex(conn => conn.toNodeId === nodeId && conn.toSlotId === slotId);\n        };\n\n        const getInputs = async (slot: Slot): Promise<Result | undefined> => {\n            const connIndex = connectionIndex(slot.id);\n            if (connIndex < 0) {\n                // Get default value instead\n                let nodeInputValue;\n                const nodeInputValIndex = node.inputValues.findIndex(val => val.id === slot.id);\n                if (nodeInputValIndex >= 0)\n                    nodeInputValue = node.inputValues[nodeInputValIndex].value;\n                else\n                    nodeInputValue = slot.defaultValue;\n\n                if (nodeInputValue == null)\n                    return { slotId: slot.id, result: {} };\n\n                return { slotId: slot.id, result: nodeInputValue };\n            }\n\n            const connection = connections.toConnections[connIndex];\n            const output = await this.runFunc(cellId, connection.fromNodeId);\n\n            return { slotId: slot.id, result: output[connection.fromSlotId]};\n        };\n\n        const actions = type.inputSlots.map(getInputs);\n        const results = await Promise.all(actions);\n\n        const input: PrimitiveTree = {};\n        for (let i = 0; i < results.length; i++) {\n            const result = results[i];\n            if (!result)\n                return {};\n\n            // If no result but is still connected\n            if (!result.result && connectionIndex(result.slotId) >= 0)\n                return {};\n\n            input[result.slotId] = result.result;\n        }\n\n        const properties: Property[] = [];\n        if (type) {\n            type.properties.forEach(property => {\n                let prop: Property = property;\n                if (node) {\n                    const propIndex = node.properties.findIndex(prop => prop.id === property.id);\n                    if (propIndex >= 0) {\n                        const nodeProperty = node.properties[propIndex];\n                        prop = { id: property.id, type: property.type, defaultValue: nodeProperty.value };\n                    }\n                }\n\n                if (prop.defaultValue != null)\n                    properties.push(prop);\n            });\n        }\n        const propertyObj: PrimitiveObject = {};\n        properties.forEach(property => {\n            if (property.defaultValue != null)\n                propertyObj[property.id] = property.defaultValue;\n        });\n\n        const errorFunctionCreator = (type: \"debug\" | \"info\" | \"warning\" | \"error\") => {\n            return (message: string) => {\n                this.errors[cellId].push({\n                    type,\n                    message: `'${node.name}' Node: ${message}`\n                });\n            };\n        };\n\n        const errorHandler: NodeErrorHandler = {\n            debug: errorFunctionCreator(\"debug\"),\n            log: errorFunctionCreator(\"info\"),\n            warning: errorFunctionCreator(\"warning\"),\n            error: errorFunctionCreator(\"error\")\n        };\n\n        try {\n            const output = await type.nodeFunction(input, propertyObj === {} ? undefined : propertyObj, errorHandler);\n            // Store function outputs in a lookup table\n            this.outputs[cellId][nodeId] = output;\n\n            return output;\n        } catch(err) {\n            console.error(err);\n            return {};\n        }\n    }\n}\n\nexport default new NodeExecManager();","export type RGB = {\n    r: number;\n    g: number;\n    b: number;\n}\n\nexport type RGBA = RGB & {\n    a: number;\n}\n\nexport default class Colors {\n    static Gray = {\n        100: \"#f7fafc\",\n        200: \"#edf2f7\",\n        300: \"#e2e8f0\",\n        400: \"#cbd5e0\",\n        500: \"#a0aec0\",\n        600: \"#718096\",\n        700: \"#4a5568\",\n        800: \"#2d3748\",\n        900: \"#1a202c\",\n    };\n    static Red = {\n        100: \"#fff5f5\",\n        200: \"#fed7d7\",\n        300: \"#feb2b2\",\n        400: \"#fc8181\",\n        500: \"#f56565\",\n        600: \"#e53e3e\",\n        700: \"#c53030\",\n        800: \"#9b2c2c\",\n        900: \"#742a2a\",\n    };\n    static Orange = {\n        100: \"#fffaf0\",\n        200: \"#feebc8\",\n        300: \"#fbd38d\",\n        400: \"#f6ad55\",\n        500: \"#ed8936\",\n        600: \"#dd6b20\",\n        700: \"#c05621\",\n        800: \"#9c4221\",\n        900: \"#7b341e\",\n    };\n    static Yellow = {\n        100: \"#fffff0\",\n        200: \"#fefcbf\",\n        300: \"#faf089\",\n        400: \"#f6e05e\",\n        500: \"#ecc94b\",\n        600: \"#d69e2e\",\n        700: \"#b7791f\",\n        800: \"#975a16\",\n        900: \"#744210\",\n    };\n    static Green = {\n        100: \"#f0fff4\",\n        200: \"#c6f6d5\",\n        300: \"#9ae6b4\",\n        400: \"#68d391\",\n        500: \"#48bb78\",\n        600: \"#38a169\",\n        700: \"#2f855a\",\n        800: \"#276749\",\n        900: \"#22543d\",\n    };\n    static Teal = {\n        100: \"#e6fffa\",\n        200: \"#b2f5ea\",\n        300: \"#81e6d9\",\n        400: \"#4fd1c5\",\n        500: \"#38b2ac\",\n        600: \"#319795\",\n        700: \"#2c7a7b\",\n        800: \"#285e61\",\n        900: \"#234e52\",\n    };\n    static Blue = {\n        100: \"#ebf8ff\",\n        200: \"#bee3f8\",\n        300: \"#90cdf4\",\n        400: \"#63b3ed\",\n        500: \"#4299e1\",\n        600: \"#3182ce\",\n        700: \"#2b6cb0\",\n        800: \"#2c5282\",\n        900: \"#2a4365\",\n    };\n    static Indigo = {\n        100: \"#ebf4ff\",\n        200: \"#c3dafe\",\n        300: \"#a3bffa\",\n        400: \"#7f9cf5\",\n        500: \"#667eea\",\n        600: \"#5a67d8\",\n        700: \"#4c51bf\",\n        800: \"#434190\",\n        900: \"#3c366b\",\n    };\n    static Purple = {\n        100: \"#faf5ff\",\n        200: \"#e9d8fd\",\n        300: \"#d6bcfa\",\n        400: \"#b794f4\",\n        500: \"#9f7aea\",\n        600: \"#805ad5\",\n        700: \"#6b46c1\",\n        800: \"#553c9a\",\n        900: \"#44337a\",\n    };\n    static Pink = {\n        100: \"#fff5f7\",\n        200: \"#fed7e2\",\n        300: \"#fbb6ce\",\n        400: \"#f687b3\",\n        500: \"#ed64a6\",\n        600: \"#d53f8c\",\n        700: \"#b83280\",\n        800: \"#97266d\",\n        900: \"#702459\",\n    };\n\n    static hexToRGB(hex: string): RGB | undefined {\n        // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n        const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n        hex = hex.replace(shorthandRegex, function(m, r, g, b) {\n            return r + r + g + g + b + b;\n        });\n\n        const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        return result ? {\n            r: parseInt(result[1], 16),\n            g: parseInt(result[2], 16),\n            b: parseInt(result[3], 16)\n        } : undefined;\n    }\n\n    static hexToRGBA(hex: string, opacity: number): RGBA | undefined {\n        const rgb = Colors.hexToRGB(hex);\n        return rgb ? {\n            ...rgb,\n            a: opacity\n        } : undefined;\n    }\n\n    static rgbToStr(rgb?: RGB): string {\n        if (!rgb)\n            return \"rgb(0, 0, 0)\";\n        return `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;\n    }\n\n    static rgbaToStr(rgba?: RGBA): string {\n        if (!rgba)\n            return \"rgba(0, 0, 0, 1)\";\n        return `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;\n    }\n}","import { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport cuid from \"cuid\";\nimport React, { useRef } from \"react\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport ReactTooltip from \"react-tooltip\";\nimport Modal, { ModalHandle, ModalProps, RenderModalBackdropProps } from \"react-overlays/Modal\";\nimport { twMerge } from \"tailwind-merge\";\nimport Select, { ActionMeta, GroupBase, SingleValue, StylesConfig } from \"react-select\";\nimport Colors from \"../utils/Colors\";\nimport { DropdownItem } from \"../types\";\n\ntype ButtonProps = {\n    className?: string;\n    icon?: IconProp;\n    text?: string;\n    tooltip?: string;\n    isDisabled?: boolean;\n    onClick?: React.MouseEventHandler<HTMLButtonElement>;\n}\n\nexport function PrimaryButton(props: ButtonProps): JSX.Element {\n    const uniqueId = cuid();\n    return (\n        <>\n            <button data-tip data-for={uniqueId} className={twMerge(`transition duration-200 ease-in-out p-2 flex items-center select-none ${props.isDisabled ? \"bg-blue-800 text-blue-600 cursor-default\" : \"bg-blue-500 text-blue-100 hover:bg-blue-400 hover:text-blue-100\"}`, props.className)}\n                disabled={props.isDisabled}\n                onClick={props.onClick}>\n                {props.icon && (\n                    <FontAwesomeIcon icon={props.icon} />\n                )}\n                {props.text && (\n                    <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n                )}\n            \n            </button>\n            {props.tooltip && !props.isDisabled && (\n                <ReactTooltip id={uniqueId} place=\"bottom\" effect=\"float\">\n                    {props.tooltip}\n                </ReactTooltip>\n            )}\n        </>\n    );\n}\n\nexport function SecondaryButton(props: ButtonProps): JSX.Element {\n    const uniqueId = cuid();\n    return (\n        <>\n            <button data-tip data-for={uniqueId} className={twMerge(`transition duration-200 ease-in-out p-2 flex items-center select-none ${props.isDisabled ? \"bg-gray-800 text-gray-600 cursor-default\" : \"bg-gray-700 text-gray-200 hover:bg-gray-600 hover:text-gray-100\"}`, props.className)}\n                disabled={props.isDisabled}\n                onClick={props.onClick}>\n                {props.icon && (\n                    <FontAwesomeIcon icon={props.icon} />\n                )}\n                {props.text && (\n                    <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n                )}\n            \n            </button>\n            {props.tooltip && !props.isDisabled && (\n                <ReactTooltip id={uniqueId} place=\"bottom\" effect=\"float\">\n                    {props.tooltip}\n                </ReactTooltip>\n            )}\n        </>\n    );\n}\n\nexport function CancelButton(props: ButtonProps): JSX.Element {\n    const uniqueId = cuid();\n    return (\n        <>\n            <button data-tip data-for={uniqueId} className={twMerge(`transition duration-200 ease-in-out p-2 flex items-center select-none ${props.isDisabled ? \"bg-red-800 text-red-600 cursor-default\" : \"bg-red-500 text-red-100 hover:bg-red-400 hover:text-red-100\"}`, props.className)}\n                disabled={props.isDisabled}\n                onClick={props.onClick}>\n                {props.icon && (\n                    <FontAwesomeIcon icon={props.icon} />\n                )}\n                {props.text && (\n                    <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n                )}\n            \n            </button>\n            {props.tooltip && !props.isDisabled && (\n                <ReactTooltip id={uniqueId} place=\"bottom\" effect=\"float\">\n                    {props.tooltip}\n                </ReactTooltip>\n            )}\n        </>\n    );\n}\n\nexport function OKButton(props: ButtonProps): JSX.Element {\n    const uniqueId = cuid();\n    return (\n        <>\n            <button data-tip data-for={uniqueId} className={twMerge(`transition duration-200 ease-in-out p-2 flex items-center select-none ${props.isDisabled ? \"bg-green-800 text-green-600 cursor-default\" : \"bg-green-500 text-green-100 hover:bg-green-400 hover:text-green-100\"}`, props.className)}\n                disabled={props.isDisabled}\n                onClick={props.onClick}>\n                {props.icon && (\n                    <FontAwesomeIcon icon={props.icon} />\n                )}\n                {props.text && (\n                    <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n                )}\n            \n            </button>\n            {props.tooltip && !props.isDisabled && (\n                <ReactTooltip id={uniqueId} place=\"bottom\" effect=\"float\">\n                    {props.tooltip}\n                </ReactTooltip>\n            )}\n        </>\n    );\n}\n\ntype FileButtonProps = ButtonProps & {\n    accept?: string;\n    onChange?: (file: File) => Promise<void>;\n};\nexport function FileButton(props: FileButtonProps): JSX.Element {\n    const input = useRef<HTMLInputElement>(null);\n    const uniqueId = cuid();\n    const onClick = () => {\n        if (input.current)\n            input.current.click();\n    };\n\n    return (\n        <>\n            <button data-tip data-for={uniqueId} className={twMerge(\"transition duration-200 ease-in-out p-2 flex items-center bg-orange-500 text-orange-100 hover:bg-orange-400 hover:text-orange-100 select-none\", props.className)}\n                disabled={props.isDisabled}\n                onClick={onClick}>\n                {props.icon && (\n                    <FontAwesomeIcon icon={props.icon} />\n                )}\n                {props.text && (\n                    <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n                )}\n            </button>\n            {!props.isDisabled && (\n                <input ref={input} type=\"file\" accept={props.accept} style={{display: \"none\"}}\n                    onChange={async event => {\n                        if (event.target.files && props.onChange) {\n                            const file = event.target.files[0];\n                            await props.onChange(file);\n                        }\n                    }} />\n            )}\n            {props.tooltip && !props.isDisabled && (\n                <ReactTooltip id={uniqueId} place=\"bottom\" effect=\"float\">\n                    {props.tooltip}\n                </ReactTooltip>\n            )}\n        </>\n    );\n}\n\ntype TextAreaProps = {\n    className?: string;\n    value?: string;\n    label?: string;\n    readonly?: boolean;\n    regex?: RegExp;\n    onChange?(event: React.ChangeEvent<HTMLTextAreaElement>): void;\n    onKeyDown?(event: React.KeyboardEvent<HTMLTextAreaElement>): void;\n}\n\nexport function TextArea(props: TextAreaProps): JSX.Element {\n    let style: React.CSSProperties = {\n        boxShadow: \"inset 0 -1px 1px 0 rgb(0 0 0 / 15%)\"\n    };\n    if (props.value != null && props.regex) {\n        const match = props.value.match(props.regex);\n        const isMatch = match != null && match.length > 0;\n        style = {\n            ...style,\n            border: `2px solid ${isMatch ? Colors.Green[500] : Colors.Red[500]}`\n        };\n    }\n\n    return (\n        <div className=\"flex flex-col\">\n            {props.label && (\n                <label className=\"text-xs text-gray-600 mb-2\">{props.label}</label>\n            )}\n            {!props.readonly && (\n                <TextareaAutosize minRows={2}\n                    value={props.value} \n                    onChange={props.onChange}\n                    onKeyDown={props.onKeyDown}\n                    className={twMerge(\"w-full p-2 text-sm bg-gray-200 shadow-inner\", props.className)} />\n            ) ||\n            props.readonly && (\n                <div className={twMerge(\"p-2 text-sm bg-gray-500 text-gray-900 overflow-hidden w-full\", props.className)}\n                    style={{wordWrap: \"break-word\"}}>\n                    {props.value}\n                </div>\n            )}\n        </div>\n    );\n}\n\ntype CustomModalProps = ModalProps & React.RefAttributes<ModalHandle>;\n\nexport function CustomModal(props: CustomModalProps): JSX.Element {\n    const renderBackdrop = (props: RenderModalBackdropProps) => {\n        return (<div className=\"fixed top-0 right-0 bottom-0 left-0 bg-gray-900 opacity-50\" {...props}></div>);\n    };\n    return (\n        <Modal className=\"fixed flex justify-center items-center w-full h-full\" \n            style={{top: \"50%\", left: \"50%\", transform: \"translateX(-50%) translateY(-50%)\"}} \n            renderBackdrop={renderBackdrop} \n            {...props}>\n            {props.children}\n        </Modal>\n    );\n}\n\ntype InputProps = {\n    value?: string;\n    label?: string;\n    icon?: IconProp;\n    type?: string;\n    regex?: RegExp;\n    placeholder?: string;\n    readonly?: boolean;\n    className?: string;\n    onChange?: React.ChangeEventHandler<HTMLInputElement>;\n}\n\nexport function Input(props: InputProps): JSX.Element {\n    let style: React.CSSProperties = {\n        boxShadow: \"inset 0 -1px 1px 0 rgb(0 0 0 / 15%)\"\n    };\n    if (props.value != null && props.regex) {\n        const match = props.value.match(props.regex);\n        const isMatch = match != null && match.length > 0;\n        style = {\n            ...style,\n            border: `2px solid ${isMatch ? Colors.Green[500] : Colors.Red[500]}`\n        };\n    }\n\n    return (\n        <div className=\"flex flex-col overflow-hidden\">\n            {props.label && (\n                <label className=\"text-xs text-gray-600\">{props.label}</label>\n            )}\n            <div className=\"flex flex-row items-center\"\n                style={{boxShadow: \"inset 0 -1px 1px 0 rgb(0 0 0 / 15%)\"}}>\n                {props.icon && (\n                    <div className=\"px-2\">\n                        <FontAwesomeIcon icon={props.icon}\n                            className=\"text-sm text-gray-600\" />\n                    </div>\n                )}\n                {!props.readonly && (\n                    <input className={twMerge(\"p-2 text-sm bg-gray-100 text-gray-800 w-full\", props.className)}\n                        style={style} \n                        type={props.type} \n                        placeholder={props.placeholder}\n                        value={props.value}\n                        onChange={props.onChange} />\n                ) ||\n                props.readonly && (\n                    <div className={twMerge(\"p-2 text-sm bg-gray-500 text-gray-900 overflow-hidden w-full\", props.className)}\n                        style={{textOverflow: \"ellipsis\"}}>\n                        {props.value}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\ntype CheckboxProps = {\n    value: boolean;\n    label?: string;\n    checkType?: IconProp;\n    className?: string;\n    onToggle?: () => Promise<void>;\n};\n\nexport function Checkbox(props: CheckboxProps): JSX.Element {\n    const icon = props.checkType ?? \"check\";\n    return (\n        <div className=\"flex flex-row items-center\">\n            {props.label && (\n                <label className=\"text-xs text-gray-600 mr-4\">{props.label}</label>\n            )}\n            <div className={twMerge(\"flex items-center justify-center w-4 h-4 shadow-inner bg-gray-100 cursor-pointer\", props.className)}\n                onClick={async () => {\n                    if (props.onToggle)\n                        await props.onToggle();\n                }}>\n                {props.value && (\n                    <FontAwesomeIcon className=\"text-xs\" icon={icon} />\n                )}\n            </div>\n        </div>\n    );\n}\n\ntype DropdownProps = {\n    options: DropdownItem[];\n    label?: string;\n    onChange?: ((newValue: SingleValue<DropdownItem>, actionMeta: ActionMeta<DropdownItem>) => void);\n};\n\nexport function Dropdown(props: DropdownProps): JSX.Element {\n    const style: StylesConfig<DropdownItem, false, GroupBase<DropdownItem>> = {\n        control: (provided) => ({\n            ...provided,\n            borderRadius: 0,\n            borderWidth: 0,\n            backgroundColor: \"#f7fafc\",\n            borderBottomWidth: 1,\n            fontSize: \"0.875rem\"\n        }),\n        menu: (provided) => ({\n            ...provided,\n            borderRadius: 0\n        }),\n        option: (provided, state) => ({\n            ...provided,\n            backgroundColor: state.isSelected ? \"#4299e1\" : (state.isFocused ? \"#bee3f8\" : \"#f7fafc\")\n        })\n    };\n    return (\n        <div className=\"flex flex-col\">\n            {props.label && (\n                <label className=\"text-xs text-gray-600\">{props.label}</label>\n            )}\n            <Select styles={style}\n                options={props.options}\n                isSearchable={false}\n                onChange={props.onChange} />\n        </div>\n    );\n}\n\ntype ContextMenuItemProps = {\n    className?: string;\n    text?: string;\n    icon?: IconProp;\n}\n\nexport function ContextMenuItem(props: ContextMenuItemProps): JSX.Element {\n    return (\n        <div className={twMerge(\"transition duration-200 ease-in-out px-2 py-1 text-sm bg-gray-100 text-gray-700 hover:bg-gray-800 hover:text-gray-200 cursor-pointer select-none\", props.className)}>\n            {props.icon && (\n                <FontAwesomeIcon icon={props.icon} />\n            )}\n            {props.text && (\n                <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n            )}\n        </div>\n    );\n}","import React from \"react\";\nimport store from \"../app/store\";\nimport { insertCellAsync, insertCellToTopAsync } from \"../features/notebooks/notebookSlice\";\n\ntype InsertCellDropZoneProps = {\n    cellId: string;\n}\n\ntype InsertCellDropZoneState = {\n    isHovering: boolean;\n}\n\nexport default class InsertCellDropZone extends React.Component<InsertCellDropZoneProps, InsertCellDropZoneState> {\n    constructor(props: InsertCellDropZoneProps) {\n        super(props);\n\n        this.state = {\n            isHovering: false\n        };\n\n        this.onDrop = this.onDrop.bind(this);\n    }\n\n    async onDrop(event: React.DragEvent<HTMLDivElement>): Promise<void> {\n        const { cellId } = this.props;\n        event.preventDefault();\n        this.setState({isHovering: false});\n        const data = JSON.parse(event.dataTransfer.getData(\"text/plain\"));\n        const currentCellId = data[\"cellId\"];\n\n        // cellid is empty only when this dropzone is at the top\n        await store.dispatch(cellId === \"\" ? insertCellToTopAsync(currentCellId) : \n            insertCellAsync(currentCellId, cellId));\n    }\n\n    render(): JSX.Element {\n        const { isHovering } = this.state;\n        return (\n            <div className={`absolute w-full h-4 z-50 ${isHovering ? \"bg-yellow-500 opacity-50\" : \"\"}`}\n                style={{bottom: \"-0.5rem\"}}\n                onDragEnter={event => {\n                    event.preventDefault();\n                    this.setState({isHovering: true});\n                }}\n                onDragOver={event => {\n                    event.preventDefault();\n                }}\n                onDragLeave={event => {\n                    event.preventDefault();\n                    this.setState({isHovering: false});\n                }}\n                onDrop={this.onDrop}></div>\n        );\n    }\n}","import React from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport rehypeHighlight from \"rehype-highlight\";\nimport remarkGfm from \"remark-gfm\";\nimport { markdown } from \"@codemirror/lang-markdown\";\nimport CodeMirror, { ReactCodeMirrorRef } from \"@uiw/react-codemirror\";\nimport { basicSetup } from \"@codemirror/basic-setup\";\nimport { oneDarkHighlightStyle } from \"@codemirror/theme-one-dark\";\nimport { CellObject } from \"../db/models\";\nimport store from \"../app/store\";\nimport { clearSelectedNodeAsync, createNewCellAsync, updateCellValueAsync } from \"../features/notebooks/notebookSlice\";\nimport CodeMirrorManager from \"../managers/CodeMirrorManager\";\nimport { OKButton } from \"./CustomComponents\";\n\ntype MarkdownCellProps = {\n    cell: CellObject;\n}\n\ntype MarkdownCellState = {\n    input: string;\n    savedInput: string;\n    isEditing: boolean;\n}\n\nexport default class MarkdownCell extends React.Component<MarkdownCellProps, MarkdownCellState> {\n    private ref: React.RefObject<ReactCodeMirrorRef>;\n    constructor(props: MarkdownCellProps) {\n        super(props);\n        this.ref = React.createRef<ReactCodeMirrorRef>();\n\n        this.state = {\n            input: \"\",\n            savedInput: props.cell.value ?? \"\",\n            isEditing: props.cell.value === undefined || props.cell.value === \"\"\n        };\n\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onSaveCell = this.onSaveCell.bind(this);\n        this.onEdit = this.onEdit.bind(this);\n    }\n\n    componentDidMount(): void {\n        //CodeMirrorManager.addRef(this.props.cell.cellId, this.ref);\n    }\n\n    onChange(event: React.ChangeEvent<HTMLTextAreaElement>): void {\n        this.setState({input: event.target.value});\n    }\n\n    async onSubmit(event: React.KeyboardEvent<HTMLDivElement>): Promise<void> {\n        if (event.key === \"Enter\" && event.shiftKey) {\n            event.preventDefault();\n            await this.onSaveCell(true);\n        }\n    }\n\n    async onSaveCell(createNewCell = false): Promise<void> {\n        const { cell } = this.props;\n        const { input } = this.state;\n\n        await store.dispatch(updateCellValueAsync(cell.cellId, input));\n        if (createNewCell) {\n            if (cell.nextCell === \"\") {\n                const newCell = await store.dispatch(createNewCellAsync(\"markdown\"));\n                if (newCell)\n                    CodeMirrorManager.delayedFocus(newCell.cellId);\n            } else {\n                CodeMirrorManager.focus(cell.nextCell);\n            }\n        }\n        this.setState({savedInput: input, isEditing: false});\n    }\n\n    onEdit(event: React.MouseEvent<HTMLDivElement, MouseEvent>): void {\n        event.preventDefault();\n        this.setState({isEditing: true});\n    }\n\n    render(): JSX.Element {\n        const { cell } = this.props;\n        const { savedInput, isEditing } = this.state;\n        return (\n            <div className=\"relative flex w-full\" style={{minHeight: \"4rem\"}}>\n                {isEditing && (\n                    <>\n                        <CodeMirror\n                            ref={ref => {\n                                if (ref)\n                                    CodeMirrorManager.addRef(cell.cellId, ref);\n                            }}\n                            value={savedInput}\n                            extensions={[basicSetup, oneDarkHighlightStyle, markdown()]}\n                            className=\"w-full overflow-auto shadow-inner\"\n                            height=\"100%\"\n                            minHeight=\"4rem\"\n                            onClick={async () => await store.dispatch(clearSelectedNodeAsync())}\n                            onUpdate={update => {\n                                if (update.docChanged)\n                                    this.setState({input: update.state.doc.toString()});\n                            }}\n                            onKeyDown={this.onSubmit} />\n                        <div className=\"absolute flex flex-row-reverse\"\n                            style={{top: \"0.5rem\", right: \"0.5rem\"}}>\n                            <OKButton icon=\"save\" text=\"Save\"\n                                className=\"absolute text-xs px-2 py-1\"\n                                onClick={async () => await this.onSaveCell()} />\n                        </div>\n                    </>\n                    \n                ) ||\n                !isEditing && (\n                    <div className=\"p-2 w-full markdown-body\"\n                        style={{backgroundColor: \"#ffffff\"}}\n                        onDoubleClick={this.onEdit}>\n                        <ReactMarkdown remarkPlugins={[remarkGfm]} rehypePlugins={[rehypeHighlight]}>\n                            {savedInput}\n                        </ReactMarkdown>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}","import { KonvaEventObject } from \"konva/lib/Node\";\n\nexport default class KonvaUtils {\n    public static setCursor(event: KonvaEventObject<Event>, cursorType: string): void {\n        const stage = event.target.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n\n        stage.container().style.cursor = cursorType;\n    }\n}","import { KonvaEventObject } from \"konva/lib/Node\";\nimport React from \"react\";\nimport { Label, Tag, Text } from \"react-konva\";\nimport Colors from \"../utils/Colors\";\nimport KonvaUtils from \"../utils/KonvaUtils\";\n\ntype KonvaButtonProps = {\n    x?: number;\n    y?: number;\n    width?: number;\n    height?: number;\n    cornerRadius?: number;\n    backgroundColor?: string;\n    text?: string;\n    textOffsetY?: number;\n    textColor?: string;\n    fontSize?: number;\n    onClick?: (evt: KonvaEventObject<MouseEvent>) => void;\n}\n\nexport function KonvaButton(props: KonvaButtonProps): JSX.Element {\n    const { x = 0, y = 0, width = 10, height = 10, cornerRadius = 0, backgroundColor = Colors.Blue[500], text = \"\", textOffsetY = 0, textColor = Colors.Blue[100], fontSize = 14, onClick = () => { return; } } = props;\n\n    return (\n        <Label x={x}\n            y={y}\n            onMouseEnter={event => {\n                event.cancelBubble = true;\n                KonvaUtils.setCursor(event, \"pointer\");\n            }}\n            onMouseLeave={event => {\n                event.cancelBubble = true;\n                KonvaUtils.setCursor(event, \"default\");\n            }}\n            onClick={onClick}>\n            <Tag fill={backgroundColor}\n                cornerRadius={cornerRadius} />\n            <Text offsetY={textOffsetY}\n                width={width}\n                height={height}\n                fontSize={fontSize}\n                fontStyle=\"bold\"\n                align=\"center\"\n                verticalAlign=\"middle\"\n                fill={textColor}\n                text={text} />\n        </Label>\n    );\n}","import React from \"react\";\nimport { Group, Label, Rect, Tag, Text } from \"react-konva\";\nimport { KonvaEventObject } from \"konva/lib/Node\";\nimport KonvaUtils from \"../utils/KonvaUtils\";\nimport Konva from \"konva\";\nimport Colors from \"../utils/Colors\";\n\nexport class KonvaForm {\n    public static cancel(): void {\n        Input.cancelInput();\n        Dropdown.cancelDropdown();\n    }\n}\n\ntype InputProps = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    fontSize: number;\n    fontStyle: string;\n    padding: number;\n    textColor: string;\n    bgColor: string;\n    hoverColor: string;\n    borderRadius: number;\n    zIndex: number;\n    value: string;\n    type: string;\n    isEditable: boolean;\n    onChange: (value: string) => Promise<boolean>;\n}\n\ntype InputState = {\n    value: string;\n}\n\nexport class Input extends React.Component<InputProps, InputState> {\n    private static inputElement: HTMLInputElement;\n    \n    static defaultProps: InputProps = {\n        x: 0,\n        y: 0,\n        width: 100,\n        height: 20,\n        fontSize: 12,\n        fontStyle: \"normal\",\n        padding: 0,\n        textColor: \"#000000\",\n        bgColor: \"#ffffff\",\n        hoverColor: \"#cccccc\",\n        borderRadius: 0,\n        zIndex: 0,\n        value: \"\",\n        type: \"text\",\n        isEditable: true,\n        onChange: async () => { return false; }\n    }\n\n    constructor(props: InputProps) {\n        super(props);\n\n        this.state = {\n            value: \"\"\n        };\n\n        this.showInput = this.showInput.bind(this);\n        this.onHover = this.onHover.bind(this);\n        this.onHoverExit = this.onHoverExit.bind(this);\n    }\n\n    showInput(event: KonvaEventObject<Event>): void {\n        Input.cancelInput();\n\n        const { width, height, fontSize, padding, textColor, hoverColor, borderRadius, zIndex, type, isEditable, onChange } = this.props;\n        const value = this.state.value === \"\" ? this.props.value : this.state.value;\n\n        if (!isEditable)\n            return;\n\n        const stage = event.target.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n        const scale = stage.scaleX();\n        const container = stage.container();\n        const boundingRect = container.getBoundingClientRect();\n\n        const top = event.target.absolutePosition().y + boundingRect.top;\n        const left = event.target.absolutePosition().x + boundingRect.left;\n\n        const input = document.createElement(\"input\");\n        document.body.appendChild(input);\n\n        input.value = value;\n        input.type = type;\n        input.style.position = \"absolute\";\n        input.style.top = `${top}px`;\n        input.style.left = `${left + Math.max(0, boundingRect.left - left)}px`;\n        input.style.width = `${Math.min(width * scale, \n            boundingRect.right - left,\n            (width * scale) - (boundingRect.left - left))}px`;\n        input.style.height = `${height * scale}px`;\n        input.style.paddingLeft = `${padding * scale}px`;\n        input.style.fontSize = `${fontSize * scale}px`;\n        input.style.color = textColor;\n        input.style.backgroundColor = hoverColor;\n        input.style.borderRadius = `${borderRadius * scale}px`;\n        input.style.verticalAlign = \"center\";\n        input.style.zIndex = `${zIndex}`;\n        input.focus();\n        input.onchange = async (ev: Event) => {\n            const target = ev.target as HTMLInputElement;\n\n            if (!target) {\n                console.error(\"Cannot cast target to 'HTMLInputElement'.\");\n                Input.cancelInput();\n                return;\n            }\n\n            if (!target.value) {\n                console.error(\"No value typed in while editing the text.\");\n                Input.cancelInput();\n                return;\n            }\n\n            const result = await onChange(target.value);\n            if (!result) {\n                console.error(\"Input value requirements not met.\");\n                Input.cancelInput();\n                return;\n            }\n\n            this.setState({value: target.value});\n            Input.cancelInput();\n        };\n\n        Input.inputElement = input;\n    }\n\n    public static cancelInput(): void {\n        const input = Input.inputElement;\n        if (!input)\n            return;\n        \n        input.onchange = null;\n        input.parentNode?.removeChild(input);\n    }\n\n    onHover(event: KonvaEventObject<MouseEvent>): void {\n        if (!this.props.isEditable)\n            return;\n\n        KonvaUtils.setCursor(event, \"text\");\n\n        const layer = event.currentTarget.getLayer();\n        if (!layer) {\n            console.error(\"The Konva layer could not be found.\");\n            return;\n        }\n\n        const label = event.currentTarget as Konva.Label;\n        if (!label || !label.children)\n            return;\n\n        const textBG = label.children[0];\n        textBG.setAttr(\"fill\", this.props.hoverColor);\n        layer.draw();\n    }\n\n    onHoverExit(event: KonvaEventObject<Event>): void {\n        if (!this.props.isEditable)\n            return;\n            \n        KonvaUtils.setCursor(event, \"default\");\n\n        const layer = event.currentTarget.getLayer();\n        if (!layer) {\n            console.error(\"The Konva layer could not be found.\");\n            return;\n        }\n\n        const label = event.currentTarget as Konva.Label;\n        if (!label || !label.children)\n            return;\n\n        const textBG = label.children[0];\n        textBG.setAttr(\"fill\", this.props.bgColor);\n        layer.draw();\n    }\n\n    render(): JSX.Element {\n        const { x, y, width, height, fontSize, fontStyle, padding, textColor, bgColor, borderRadius } = this.props;\n        const value = this.state.value === \"\" ? this.props.value : this.state.value;\n\n        return (\n            <Label name=\"top-bar-label\"\n                x={x}\n                y={y}\n                onMouseEnter={this.onHover}\n                onMouseLeave={this.onHoverExit} \n                onClick={event => {\n                    event.cancelBubble = true;\n                    this.showInput(event);\n                }}\n                onTap={event => {\n                    event.cancelBubble = true;\n                    this.showInput(event);\n                }}>\n                <Tag fill={bgColor}\n                    cornerRadius={borderRadius} />\n                <Text name=\"top-bar-text\"\n                    width={width}\n                    height={height}\n                    fontStyle={fontStyle}\n                    fontSize={fontSize}\n                    verticalAlign=\"middle\"\n                    padding={padding}\n                    fill={textColor}\n                    text={value} />\n            </Label>\n        );\n    }\n}\n\ntype DropdownProps = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    fontSize: number;\n    fontStyle: string;\n    padding: number;\n    textColor: string;\n    bgColor: string;\n    hoverColor: string;\n    borderRadius: number;\n    zIndex: number;\n    values: string[];\n    value: string;\n    onChange: (value: string) => Promise<boolean>;\n}\n\ntype DropdownState = {\n    selectedIndex: number;\n}\n\nexport class Dropdown extends React.Component<DropdownProps, DropdownState> {\n    private static dropdownElement: HTMLSelectElement;\n    \n    static defaultProps: DropdownProps = {\n        x: 0,\n        y: 0,\n        width: 100,\n        height: 20,\n        fontSize: 12,\n        fontStyle: \"normal\",\n        padding: 0,\n        textColor: \"#000000\",\n        bgColor: \"#ffffff\",\n        hoverColor: \"#cccccc\",\n        borderRadius: 0,\n        zIndex: 0,\n        values: [],\n        value: \"\",\n        onChange: async () => { return false; }\n    }\n\n    constructor(props: DropdownProps) {\n        super(props);\n\n        this.state = {\n            selectedIndex: 0\n        };\n\n        this.showDropdown = this.showDropdown.bind(this);\n        this.onHover = this.onHover.bind(this);\n        this.onHoverExit = this.onHoverExit.bind(this);\n    }\n\n    componentDidUpdate(): void {\n        const { value, values } = this.props;\n        const { selectedIndex } = this.state;\n\n        if (value != null && values.includes(value) && selectedIndex !== values.indexOf(value))\n            this.setState({selectedIndex: values.indexOf(value)});\n    }\n\n    showDropdown(event: KonvaEventObject<Event>): void {\n        Dropdown.cancelDropdown();\n\n        const { width, height, padding, fontSize, textColor, hoverColor, borderRadius, zIndex, values, onChange } = this.props;\n\n        const stage = event.target.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n        const scale = stage.scaleX();\n        const container = stage.container();\n        const boundingRect = container.getBoundingClientRect();\n\n        const top = event.target.absolutePosition().y + boundingRect.top;\n        const left = event.target.absolutePosition().x + boundingRect.left;\n\n        const dropdown = document.createElement(\"select\");\n        document.body.appendChild(dropdown);\n\n        // Add classes here\n        //dropdown.classList.add(\"block\", \"appearance-none\", \"w-full\", \"bg-white\", \"border\", \"border-gray-400\", \"hover:border-gray-500\", \"px-4\", \"py-2\", \"pr-8\", \"rounded\", \"shadow\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\");\n        values.forEach(value => {\n            const option = document.createElement(\"option\");\n            option.value = value;\n            option.innerText = value;\n            dropdown.add(option);\n        });\n\n        dropdown.selectedIndex = this.state.selectedIndex;\n        dropdown.style.position = \"absolute\";\n        dropdown.style.top = `${top}px`;\n        dropdown.style.left = `${left + Math.max(0, boundingRect.left - left)}px`;\n        dropdown.style.width = `${Math.min(width * scale, \n            boundingRect.right - left,\n            (width * scale) - (boundingRect.left - left))}px`;\n        dropdown.style.height = `${height * scale}px`;\n        dropdown.style.paddingLeft = `${padding * scale}px`;\n        dropdown.style.fontSize = `${fontSize * scale}px`;\n        dropdown.style.color = textColor;\n        dropdown.style.backgroundColor = hoverColor;\n        dropdown.style.borderRadius = `${borderRadius * scale}px`;\n        dropdown.style.zIndex = `${zIndex}`;\n        dropdown.focus();\n        dropdown.onchange = async (ev: Event) => {\n            const target = ev.target as HTMLSelectElement;\n\n            if (!target) {\n                console.error(\"Cannot cast target to 'HTMLSelectElement'.\");\n                Dropdown.cancelDropdown();\n                return;\n            }\n\n            if (!target.value) {\n                console.error(\"No value selected.\");\n                Dropdown.cancelDropdown();\n                return;\n            }\n\n            const result = await onChange(target.value);\n            if (!result) {\n                console.error(\"Input value requirements not met.\");\n                Dropdown.cancelDropdown();\n                return;\n            }\n\n            this.setState({selectedIndex: target.selectedIndex});\n            Dropdown.cancelDropdown();\n        };\n\n        Dropdown.dropdownElement = dropdown;\n    }\n\n    public static cancelDropdown(): void {\n        const dropdown = Dropdown.dropdownElement;\n        if (!dropdown)\n            return;\n        \n        dropdown.onchange = null;\n        dropdown.parentNode?.removeChild(dropdown);\n    }\n\n    onHover(event: KonvaEventObject<Event>): void {\n        KonvaUtils.setCursor(event, \"pointer\");\n\n        const layer = event.currentTarget.getLayer();\n        if (!layer) {\n            console.error(\"The Konva layer could not be found.\");\n            return;\n        }\n\n        const label = event.currentTarget as Konva.Label;\n        if (!label || !label.children)\n            return;\n\n        const textBG = label.children[0];\n        textBG.setAttr(\"fill\", this.props.hoverColor);\n        layer.draw();\n    }\n\n    onHoverExit(event: KonvaEventObject<Event>): void {\n        KonvaUtils.setCursor(event, \"default\");\n\n        const layer = event.currentTarget.getLayer();\n        if (!layer) {\n            console.error(\"The Konva layer could not be found.\");\n            return;\n        }\n\n        const label = event.currentTarget as Konva.Label;\n        if (!label || !label.children)\n            return;\n\n        const textBG = label.children[0];\n        textBG.setAttr(\"fill\", this.props.bgColor);\n        layer.draw();\n    }\n\n    render(): JSX.Element {\n        const { x, y, width, height, fontSize, fontStyle, padding, textColor, bgColor, borderRadius, values, value } = this.props;\n\n        return(\n            <Label name=\"top-bar-label\"\n                x={x}\n                y={y}\n                onMouseEnter={this.onHover}\n                onMouseLeave={this.onHoverExit} \n                onClick={event => {\n                    event.cancelBubble = true;\n                    this.showDropdown(event);\n                }}\n                onTap={event => {\n                    event.cancelBubble = true;\n                    this.showDropdown(event);\n                }}>\n                <Tag fill={bgColor}\n                    cornerRadius={borderRadius} />\n                <Text name=\"top-bar-text\"\n                    width={width}\n                    height={height}\n                    fontStyle={fontStyle}\n                    fontSize={fontSize}\n                    verticalAlign=\"middle\"\n                    padding={padding}\n                    fill={textColor}\n                    text={value != null && values.includes(value) ? value : values[this.state.selectedIndex]} />\n            </Label>\n        );\n    }\n}\n\ntype ToggleProps = {\n    value: boolean;\n    x?: number;\n    y?: number;\n    width?: number;\n    height?: number;\n    handleOffset?: number;\n    bgTrueColor?: string;\n    bgFalseColor?: string;\n    handleTrueColor?: string;\n    handleFalseColor?: string;\n    onToggle?: (newValue: boolean) => Promise<void>;\n}\n\ntype ToggleState = {\n\n}\n\nexport class Toggle extends React.Component<ToggleProps, ToggleState> {\n    constructor(props: ToggleProps) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    render(): JSX.Element {\n        const { value, x = 0, y = 0, width = 75, height = 25, handleOffset = 10, bgTrueColor = Colors.Green[500], bgFalseColor = Colors.Red[500], handleTrueColor = Colors.Green[800], handleFalseColor = Colors.Red[800], onToggle } = this.props;\n\n        return (\n            <Group x={x}\n                y={y}\n                onMouseEnter={event => {\n                    KonvaUtils.setCursor(event, \"pointer\");\n                }}\n                onMouseLeave={event => {\n                    KonvaUtils.setCursor(event, \"default\");\n                }}\n                onClick={async (event) => {\n                    event.cancelBubble = true;\n                    if (onToggle) {\n                        await onToggle(!value);\n                    }\n                }}>\n                <Rect name=\"background\"\n                    x={0}\n                    y={0}\n                    width={width}\n                    height={height}\n                    fill={value ? bgTrueColor : bgFalseColor} />\n                <Rect name=\"handle\"\n                    x={value ? width - height : -(handleOffset / 2)}\n                    y={-(handleOffset / 2)}\n                    width={height + handleOffset}\n                    height={height + handleOffset}\n                    fill={value ? handleTrueColor : handleFalseColor} />\n            </Group>\n        );\n    }\n}","import { Layer } from \"konva/lib/Layer\";\nimport store from \"../app/store\";\nimport NodeConnection from \"../components/NodeConnection\";\nimport { NodeConnectionObject } from \"../db/models\";\nimport { getConnectionById, getNodeById } from \"../features/notebooks/notebookSlice\";\nimport { Vector2 } from \"../types\";\n\nclass NodeConnectionManager {\n    private connectionRefs: {\n        [cellId: string]: {\n            [connectionId: string]: NodeConnection | undefined\n        }\n    } = {};\n    private layerRef: Layer | undefined;\n    private currentNotebookId = \"\";\n\n    constructor() {\n        this.onStoreUpdate = this.onStoreUpdate.bind(this);\n        store.subscribe(this.onStoreUpdate);\n    }\n\n    onStoreUpdate(): void {\n        const currentNotebook = store.getState().notebook.currentNotebook;\n        if (!currentNotebook)\n            return;\n\n        if (this.currentNotebookId !== currentNotebook.notebookId) {\n            this.reset();\n            this.currentNotebookId = currentNotebook.notebookId;\n        }\n    }\n\n    setLayerRef(ref: Layer) {\n        this.layerRef = ref;\n    }\n\n    addRef(cellId: string, connectionId: string, ref: NodeConnection) {\n        if (!this.connectionRefs[cellId])\n            this.connectionRefs[cellId] = {};\n\n        if (this.connectionRefs[cellId][connectionId])\n            return;\n\n        this.connectionRefs[cellId][connectionId] = ref;\n        this.moveToInitialPos(cellId, connectionId);\n    }\n\n    removeRef(cellId: string, connectionId: string) {\n        this.connectionRefs[cellId][connectionId] = undefined;\n    }\n\n    private moveToInitialPos(cellId: string, connectionId: string) {\n        const connection = getConnectionById(store.getState(), cellId, connectionId);\n        if (!connection)\n            return;\n\n        const fromNode = getNodeById(store.getState(), cellId, connection.fromNodeId);\n        const toNode = getNodeById(store.getState(), cellId, connection.toNodeId);\n        if (!fromNode || !toNode)\n            return;\n\n        const connRef = this.connectionRefs[cellId][connectionId];\n        if (!connRef)\n            return;\n\n        connRef.setFromCoords(fromNode.coords);\n        connRef.setToCoords(toNode.coords);\n    }\n\n    moveConnections(cellId: string, fromConnections: NodeConnectionObject[], toConnections: NodeConnectionObject[], coords: Vector2) {\n        if (!this.layerRef)\n            return;\n\n        fromConnections.forEach(conn => {\n            const connRef = this.connectionRefs[cellId][conn.connectionId];\n            if (!connRef || !this)\n                return;\n\n            connRef.setFromCoords(coords);\n        });\n\n        toConnections.forEach(conn => {\n            const connRef = this.connectionRefs[cellId][conn.connectionId];\n            if (!connRef || !this)\n                return;\n\n            connRef.setToCoords(coords);\n        });\n\n        this.layerRef.getStage().batchDraw();\n    }\n\n    reset(): void {\n        this.connectionRefs = {};\n    }\n}\n\nexport default new NodeConnectionManager();","import Konva from \"konva\";\nimport { KonvaEventObject } from \"konva/lib/Node\";\nimport { Vector2d } from \"konva/lib/types\";\nimport React from \"react\";\nimport { Circle, Group, Rect, Text } from \"react-konva\";\nimport { Portal } from \"react-konva-utils\";\nimport { Unsubscribe } from \"redux\";\nimport store from \"../app/store\";\nimport { NodeConnectionObject, NodeObject } from \"../db/models\";\nimport { clearSelectedNodeAsync, createNewConnectionAsync, deleteConnectionWithIdAsync, deleteNodeAsync, getNodeById, getSelectedNode, getSeparateConnectionsByNodeId, selectNodeAsync, updateNodeCoordsAsync, updateNodeNameAsync } from \"../features/notebooks/notebookSlice\";\nimport NodeTypeManager from \"../managers/NodeTypeManager\";\nimport Colors from \"../utils/Colors\";\nimport KonvaUtils from \"../utils/KonvaUtils\";\nimport { KonvaButton } from \"./KonvaComponents\";\nimport { Input, KonvaForm } from \"./KonvaForm\";\nimport { PrimitiveTree, Slot as SlotObject } from \"../types\";\nimport NodeConnectionManager from \"../managers/NodeConnectionManager\";\n\ntype NodeHandleProps = {\n    cellId: string;\n    nodeId: string;\n    slotId: string;\n    x: number;\n    y: number;\n    fill: string;\n    stroke: string;\n    isInput: boolean;\n    isConnected: boolean;\n}\n\ntype NodeHandleState = {\n    startPosition: Vector2d;\n}\n\nclass NodeHandle extends React.Component<NodeHandleProps, NodeHandleState> {\n    private static path: Konva.Path | null = null;\n\n    constructor(props: NodeHandleProps) {\n        super(props);\n\n        this.state = {\n            startPosition: { x: 0, y: 0 }\n        };\n\n        this.onDragStart = this.onDragStart.bind(this);\n        this.onDragMove = this.onDragMove.bind(this);\n        this.onDragEnd = this.onDragEnd.bind(this);\n        this.onConnect = this.onConnect.bind(this);\n\n        this.isSlotTypeEqual = this.isSlotTypeEqual.bind(this);\n        this.isOtherInputSlotConnected = this.isOtherInputSlotConnected.bind(this);\n        this.isGraphCyclic = this.isGraphCyclic.bind(this);\n    }\n\n    onDragStart(event: KonvaEventObject<DragEvent>) {\n        KonvaForm.cancel();\n        \n        const target = event.target;\n        const parent = target.parent;\n        if (!parent) {\n            console.error(\"This Konva node should be under a container node.\");\n            return;\n        }\n\n        const startPos = target.getPosition();\n        const endPos = startPos;\n        const pathData = `M${startPos.x} ${startPos.y} L${endPos.x} ${endPos.y}`;\n        const path = new Konva.Path({\n            data: pathData,\n            stroke: Colors.Gray[900],\n            strokeWidth: 3\n        });\n        parent.add(path);\n        path.setZIndex(0);\n        NodeHandle.path = path;\n        this.setState({startPosition: startPos});\n    }\n\n    onDragMove(event: KonvaEventObject<DragEvent>) {\n        const { isInput } = this.props;\n        const { startPosition } = this.state;\n\n        const layer: Konva.Layer | null = event.target.getLayer();\n        if (!layer) {\n            console.error(\"The Konva layer could not be found.\");\n            return;\n        }\n        \n        const thisCircle = event.target;\n        const position = thisCircle.getPosition();\n        let startPos, endPos;\n\n        if (isInput) {\n            // The isInput specifies if its either the input handle or the output\n            // handle that's being dragged.\n            // Gotta flip the start and end positions so the path forms an S shape\n            // instead of a mirrored S shape when dragged.\n            startPos = position;\n            endPos = startPosition;\n        } else {\n            startPos = startPosition;\n            endPos = position;\n        }\n\n        const midpointPos: Vector2d = {\n            x: ((endPos.x - startPos.x) / 2) + (startPos.x),\n            y: ((endPos.y - startPos.y) / 2) + (startPos.y)\n        };\n        const pathData = `M${startPos.x} ${startPos.y} Q${startPos.x + 30} ${startPos.y} ${midpointPos.x} ${midpointPos.y} Q${endPos.x - 30} ${endPos.y} ${endPos.x} ${endPos.y}`;\n        const path = NodeHandle.path;\n        if (!path) {\n            console.error(\"The Konva path could not be found.\");\n            return;\n        }\n\n        path.data(pathData);\n    }\n\n    async onDragEnd(event: KonvaEventObject<DragEvent>) {\n        const { isInput, nodeId } = this.props;\n        const { startPosition } = this.state;\n\n        const thisCircle = event.target;\n        thisCircle.position(startPosition);\n\n        const path = NodeHandle.path;\n        if (path != null) {\n            path.destroy();\n            NodeHandle.path = null;\n        }\n\n        const stage = thisCircle.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n\n        stage.draw();\n\n        const pointerPos = stage.getPointerPosition();\n        if (!pointerPos) {\n            console.error(\"The Konva pointer position could not be found.\");\n            return;\n        }\n\n        const screenX = Math.floor(pointerPos.x);\n        const screenY = Math.floor(pointerPos.y);\n\n        const elements = stage.getAllIntersections({x: screenX, y: screenY}) as Konva.Shape[];\n        \n        if (!elements || elements.length <= 0)\n            return;\n\n        let element: Konva.Shape | undefined;\n        let otherNodeId = \"\";\n        let otherSlotId = \"\";\n\n        let i;\n        for (i = 0; i < elements.length; i++) {\n            const elem = elements[i];\n            const type = elem.getAttr(\"data-type\");\n            if (!type || (isInput ? type !== \"output\" : type !== \"input\"))\n                continue;\n\n            otherNodeId = elem.getAttr(\"data-node-id\");\n            otherSlotId = elem.getAttr(\"data-slot-id\");\n            // NOTE: These ids can be 0 and !id will return true\n            // TODO: Make ids to be unique uuids\n            if (otherNodeId == null || otherSlotId == null) {\n                console.error(\"No attributes 'data-item-id' or 'data-slot-id' could be found from the element.\");\n                continue;\n            }\n\n            if (nodeId === otherNodeId)\n                continue;\n\n            element = elem;\n            break;\n        }\n\n        if (!element)\n            return;\n\n        await this.onConnect(otherNodeId, otherSlotId);\n    }\n\n    async onConnect(otherNodeId: string, otherSlotId: string): Promise<void> {\n        const { cellId, nodeId, slotId, isInput } = this.props;\n        if (nodeId === otherNodeId)\n            return;\n        if (!this.isSlotTypeEqual(cellId, isInput, nodeId, slotId, otherNodeId, otherSlotId))\n            return;\n        if (this.isGraphCyclic(cellId, isInput ? nodeId : otherNodeId, isInput ? otherNodeId : nodeId))\n            return;\n        if (this.isOtherInputSlotConnected(cellId, isInput, nodeId, slotId, otherNodeId, otherSlotId)) {\n            const connections = getSeparateConnectionsByNodeId(store.getState(), cellId, isInput ? nodeId : otherNodeId);\n            const toConnections = connections.toConnections;\n            const connection = toConnections.find(conn => conn.toNodeId === (isInput ? nodeId : otherNodeId) && conn.toSlotId === (isInput ? slotId : otherSlotId));\n            if (connection)\n                await store.dispatch(deleteConnectionWithIdAsync(cellId, connection.connectionId));\n        }\n\n        if (isInput)\n            await store.dispatch(createNewConnectionAsync(cellId, otherNodeId, otherSlotId, nodeId, slotId));\n        else\n            await store.dispatch(createNewConnectionAsync(cellId, nodeId, slotId, otherNodeId, otherSlotId));\n    }\n\n    // Check if both node slots have the same types\n    isSlotTypeEqual(cellId: string, isInput: boolean, nodeId: string, slotId: string, otherNodeId: string, otherSlotId: string): boolean {\n        const node = getNodeById(store.getState(), cellId, nodeId);\n        const otherNode = getNodeById(store.getState(), cellId, otherNodeId);\n        if (!node || !otherNode)\n            return false;\n\n        const nodeType = NodeTypeManager.getType(node.type);\n        const otherNodeType = NodeTypeManager.getType(otherNode.type);\n        if (!nodeType || !otherNodeType)\n            return false;\n\n        const nodeSlots = isInput ? nodeType.inputSlots : nodeType.outputSlots;\n        const nodeSlot = nodeSlots.find(slot => slot.id === slotId);\n        if (!nodeSlot)\n            return false;\n\n        const otherNodeSlots = isInput ? otherNodeType.outputSlots : otherNodeType.inputSlots;\n        const otherNodeSlot = otherNodeSlots.find(slot => slot.id === otherSlotId);\n        if (!otherNodeSlot)\n            return false;\n\n        const inputSlotTypes = isInput ? nodeSlot.type.replace(/[ ]/g, \"\").split(\"|\") : otherNodeSlot.type.replace(/[ ]/g, \"\").split(\"|\");\n        const outputSlotType = isInput ? otherNodeSlot.type : nodeSlot.type;\n\n        return inputSlotTypes.includes(outputSlotType);\n    }\n\n    // Output slot can connect to multiple input slots,\n    // but input slot can only connect to one output slot\n    isOtherInputSlotConnected(cellId: string, isInput: boolean, nodeId: string, slotId: string, otherNodeId: string, otherSlotId: string): boolean {\n        const connections = getSeparateConnectionsByNodeId(store.getState(), cellId, isInput ? nodeId : otherNodeId);\n        const toConnections = connections.toConnections;\n        const index = toConnections.findIndex(conn => conn.toNodeId === (isInput ? nodeId : otherNodeId) && conn.toSlotId === (isInput ? slotId : otherSlotId));\n        if (index < 0)\n            return false;\n\n        return true;\n    }\n\n    isGraphCyclic(cellId: string, startNodeId: string, endNodeId: string): boolean {\n        const connections = getSeparateConnectionsByNodeId(store.getState(), cellId, endNodeId).toConnections;\n\n        for (let i = 0; i < connections.length; i++) {\n            const conn = connections[i];\n            if (conn.fromNodeId === startNodeId)\n                return true;\n\n            if (this.isGraphCyclic(cellId, startNodeId, conn.fromNodeId))\n                return true;\n        }\n\n        return false;\n    }\n\n    render(): JSX.Element {\n        const { nodeId, slotId, x, y, fill, stroke, isInput, isConnected } = this.props;\n\n        return (\n            <>\n                {!isConnected && (\n                    <Circle x={x}\n                        y={y}\n                        radius={4}\n                        fill={fill}\n                        stroke={stroke}\n                        strokeWidth={1}\n                        listening={false} />\n                ) ||\n                isConnected && (\n                    <Rect x={x}\n                        y={y - 5}\n                        width={7}\n                        height={7}\n                        rotation={45}\n                        fill={stroke}\n                        strokeEnabled={false} />\n                )}\n\n                <Circle data-type={`${isInput ? \"input\" : \"output\"}`}\n                    data-node-id={nodeId}\n                    data-slot-id={slotId}\n                    x={x}\n                    y={y}\n                    radius={15}\n                    fill=\"transparent\"\n                    draggable\n                    onDragStart={event => {\n                        event.cancelBubble = true;\n                        this.onDragStart(event);\n                    }}\n                    onDragMove={event => {\n                        event.cancelBubble = true;\n                        this.onDragMove(event);\n                    }}\n                    onDragEnd={async event => {\n                        event.cancelBubble = true;\n                        await this.onDragEnd(event);\n                    }}\n                    onMouseEnter={evt => {\n                        KonvaUtils.setCursor(evt, \"pointer\");\n                    }}\n                    onMouseLeave={evt => {\n                        KonvaUtils.setCursor(evt, \"default\");\n                    }} />\n            </>\n        );\n    }\n}\n\ntype SlotProps = {\n    cellId: string;\n    nodeId: string;\n    slot: SlotObject;\n    x?: number;\n    y?: number;\n    height?: number;\n    isInput?: boolean;\n    isConnected?: boolean;\n}\n\ntype SlotState = {\n    labelWidth: number;\n    typeWidth: number;\n}\n\nclass Slot extends React.Component<SlotProps, SlotState> {\n    private label: React.RefObject<Konva.Text>;\n    private type: React.RefObject<Konva.Text>;\n\n    constructor(props: SlotProps) {\n        super(props);\n\n        this.label = React.createRef();\n        this.type = React.createRef();\n\n        this.state = {\n            labelWidth: 100,\n            typeWidth: 100\n        };\n    }\n\n    componentDidMount() {\n        const labelWidth = this.label.current?.width();\n        const typeWidth = this.type.current?.width();\n        if (!labelWidth || !typeWidth) {\n            console.error(\"The referenced Konva label or type text could not be found.\");\n            return;\n        }\n\n        this.setState({labelWidth, typeWidth});\n    }\n\n    render(): JSX.Element {\n        const { cellId, nodeId, slot, x = 0, y = 0, height = 40, isInput = true, isConnected = false } = this.props;\n        const { labelWidth, typeWidth } = this.state;\n        return (\n            <Group x={x}\n                y={y}>\n                <Text ref={this.label}\n                    x={isInput ? 16 : 0 }\n                    y={0}\n                    offsetX={isInput ? 0 : 16 + labelWidth}\n                    height={height / 2}\n                    text={slot.id}\n                    fontSize={12}\n                    fontStyle=\"bold\"\n                    align={isInput ? \"left\" : \"right\"}\n                    verticalAlign=\"bottom\" />\n                <Text ref={this.type}\n                    x={isInput ? 16 : 0 }\n                    y={20}\n                    offsetX={isInput ? 0 : 16 + typeWidth}\n                    height={height / 2}\n                    text={slot.type}\n                    fontSize={10}\n                    align={isInput ? \"left\" : \"right\"}\n                    verticalAlign=\"top\" />\n                <NodeHandle cellId={cellId}\n                    nodeId={nodeId}\n                    slotId={slot.id}\n                    x={0}\n                    y={height / 2}\n                    fill={Colors.Blue[200]}\n                    stroke={Colors.Blue[600]}\n                    isInput={isInput}\n                    isConnected={isConnected} />\n            </Group>\n        );\n    }\n}\n\ntype NodeProps = {\n    cellId: string;\n    node: NodeObject;\n}\n\ntype NodeState = {\n    connections: {\n        fromConnections: NodeConnectionObject[];\n        toConnections: NodeConnectionObject[];\n    };\n    isDragging: boolean;\n    isSelected: boolean;\n}\n\nexport default class Node extends React.Component<NodeProps, NodeState> {\n    private unsubscribe: Unsubscribe = () => { return; };\n\n    constructor(props: NodeProps) {\n        super(props);\n\n        this.state = {\n            connections: { fromConnections: [], toConnections: [] },\n            isDragging: false,\n            isSelected: false\n        };\n\n        this.updateNode = this.updateNode.bind(this);\n\n        this.onClickNode = this.onClickNode.bind(this);\n        this.onDragNodeStart = this.onDragNodeStart.bind(this);\n        this.onDragNode = this.onDragNode.bind(this);\n        this.onDragNodeEnd = this.onDragNodeEnd.bind(this);\n\n        this.onUpdateName = this.onUpdateName.bind(this);\n        this.onDeleteNode = this.onDeleteNode.bind(this);\n    }\n\n    componentDidMount(): void {\n        this.unsubscribe = store.subscribe(this.updateNode);\n        this.updateNode();\n    }\n\n    componentWillUnmount(): void {\n        this.unsubscribe();\n    }\n\n    updateNode(): void {\n        const { cellId, node } = this.props;\n        const state = store.getState();\n        const connections = getSeparateConnectionsByNodeId(state, cellId, node.nodeId);\n        const selectedNode = getSelectedNode(state);\n        this.setState({connections, isSelected: (!!selectedNode && selectedNode.cellId === cellId && selectedNode.nodeId === node.nodeId)});\n    }\n\n    async onClickNode(event: KonvaEventObject<MouseEvent>): Promise<void> {\n        event.cancelBubble = true;\n        KonvaForm.cancel();\n        \n        const { cellId, node } = this.props;\n        const selectedNode = getSelectedNode(store.getState());\n        if (!selectedNode || !(selectedNode.cellId === cellId && selectedNode.nodeId === node.nodeId)) {\n            // Node should be selected, make it glow!\n            await store.dispatch(selectNodeAsync(cellId, node.nodeId));\n            this.setState({isSelected: true});\n        } else {\n            // Node already selected, unselect it\n            await store.dispatch(clearSelectedNodeAsync());\n            this.setState({isSelected: false});\n        }\n    }\n\n    onDragNodeStart(event: KonvaEventObject<DragEvent>): void {\n        KonvaUtils.setCursor(event, \"move\");\n        KonvaForm.cancel();\n        this.setState({isDragging: true});\n    }\n\n    onDragNode(event: KonvaEventObject<DragEvent>): void {\n        const { cellId } = this.props;\n        const { connections } = this.state;\n        const pos = event.target.position();\n        NodeConnectionManager.moveConnections(cellId, connections.fromConnections, connections.toConnections, pos);\n    }\n\n    async onDragNodeEnd(event: KonvaEventObject<DragEvent>): Promise<void> {\n        KonvaUtils.setCursor(event, \"default\");\n        const { cellId, node } = this.props;\n\n        const newPos = event.target.position();\n        await store.dispatch(updateNodeCoordsAsync(cellId, node.nodeId, { x: newPos.x, y: newPos.y }));\n        this.setState({isDragging: false});\n    }\n\n    async onUpdateName(name: string): Promise<boolean> {\n        const { cellId, node } = this.props;\n\n        const regex = /^\\w+[a-zA-Z0-9 \\-.,]*$/;\n        if (!name.match(regex))\n            return false;\n\n        await store.dispatch(updateNodeNameAsync(cellId, node.nodeId, name));\n        return true;\n    }\n\n    async onDeleteNode(): Promise<void> {\n        const { cellId, node } = this.props;\n        const selectedNode = getSelectedNode(store.getState());\n        if (selectedNode && selectedNode.cellId === cellId && selectedNode.nodeId === node.nodeId) {\n            store.dispatch(clearSelectedNodeAsync()).then(() => {\n                return store.dispatch(deleteNodeAsync(cellId, node.nodeId));\n            });\n        } else {\n            await store.dispatch(deleteNodeAsync(cellId, node.nodeId));\n        }\n    }\n\n    render(): JSX.Element {\n        const { cellId, node } = this.props;\n        const { connections, isDragging, isSelected } = this.state;\n        const nodeType = NodeTypeManager.getType(node.type);\n\n        const nodeWidth = nodeType?.style?.width ?? 200;\n        const topBarHeight = 20;\n\n        const inputSlots = nodeType?.inputSlots ?? [];\n        const outputSlots = nodeType?.outputSlots ?? [];\n        const inputValues: PrimitiveTree = {};\n        node.inputValues.forEach(val => {\n            inputValues[val.id] = val.value;\n        });\n\n        let nodeHeight = nodeType?.style?.height;\n        if (!nodeHeight || nodeHeight <= -1) {\n            // Calculate node height based on the number of slots\n            const numSlots = Math.max(inputSlots.length, outputSlots.length);\n            nodeHeight = topBarHeight + numSlots * 40;\n        }\n\n        return (\n            <Portal selector=\".movingNodes\" enabled={isDragging}>\n                <Group x={node.coords.x}\n                    y={node.coords.y}\n                    onClick={this.onClickNode}\n                    onDragStart={this.onDragNodeStart}\n                    onDragMove={this.onDragNode}\n                    onDragEnd={this.onDragNodeEnd}\n                    draggable>\n                    <Rect name=\"background\"\n                        x={0}\n                        y={0}\n                        shadowEnabled={isSelected}\n                        shadowColor={Colors.Orange[500]}\n                        shadowBlur={10}\n                        width={nodeWidth}\n                        height={nodeHeight}\n                        fill={Colors.Gray[400]} />\n                    {/* Top bar */}\n                    <Rect name=\"top-bar\"\n                        width={nodeWidth}\n                        height={topBarHeight}\n                        fill={Colors.Gray[800]} />\n                    <Input width={nodeType?.isDeletable ? nodeWidth - topBarHeight : nodeWidth}\n                        height={topBarHeight}\n                        textColor={Colors.Gray[100]}\n                        bgColor={Colors.Gray[800]}\n                        hoverColor={Colors.Gray[700]}\n                        padding={8}\n                        value={node.name}\n                        onChange={this.onUpdateName} />\n                    {nodeType && nodeType.isDeletable && (\n                        <KonvaButton x={nodeWidth - topBarHeight + 3}\n                            y={3}\n                            width={topBarHeight - 6}\n                            height={topBarHeight - 6}\n                            cornerRadius={topBarHeight}\n                            backgroundColor={Colors.Red[500]}\n                            text=\"&#215;\"\n                            textOffsetY={-1}\n                            fontSize={14}\n                            textColor={Colors.Gray[900]}\n                            onClick={async (event) => {\n                                event.cancelBubble = true;\n                                await this.onDeleteNode();\n                            }} />\n                    )}\n                    {/* Input Slots */}\n                    {inputSlots.map((slot, index) => {\n                        const isConnected = connections.toConnections.findIndex(conn => conn.toSlotId === slot.id) >= 0;\n                        return (\n                            <Slot key={`${node.nodeId}-${slot.id}`}\n                                cellId={cellId}\n                                nodeId={node.nodeId}\n                                slot={slot}\n                                x={0}\n                                y={topBarHeight + 40 * index}\n                                isInput={true}\n                                isConnected={isConnected} />\n                        );\n                    })}\n                    {outputSlots.map((slot, index) => {\n                        const isConnected = connections.fromConnections.findIndex(conn => conn.fromSlotId === slot.id) >= 0;\n                        return (\n                            <Slot key={`${node.nodeId}-${slot.id}`}\n                                cellId={cellId}\n                                nodeId={node.nodeId}\n                                slot={slot}\n                                x={nodeWidth}\n                                y={topBarHeight + 40 * index}\n                                isInput={false}\n                                isConnected={isConnected} />\n                        );\n                    })}\n                </Group>\n            </Portal>\n        );\n    }\n}","import { Vector2d } from \"konva/lib/types\";\nimport React from \"react\";\nimport { Group, Image } from \"react-konva\";\nimport useImage from \"use-image\";\n\ntype GridArrayProps = {\n\n}\n\ntype GridArrayState = {\n    currentIndex: Vector2d;\n    scale: number;\n    containerWidth: number;\n}\n\nexport default class GridArray extends React.Component<GridArrayProps, GridArrayState> {\n    constructor(props: GridArrayProps) {\n        super(props);\n\n        this.state = {\n            currentIndex: { x: 0, y: 0 },\n            scale: 1,\n            containerWidth: 0\n        };\n\n        this.setPos = this.setPos.bind(this);\n        this.setScale = this.setScale.bind(this);\n        this.setContainerWidth = this.setContainerWidth.bind(this);\n    }\n\n    setPos(x: number, y: number): void {\n        const { currentIndex, scale } = this.state;\n\n        const newIndex: Vector2d = {\n            x: Math.round(x / WIDTH / scale),\n            y: Math.round(y / WIDTH / scale)\n        };\n\n        if (currentIndex.x !== newIndex.x || currentIndex.y !== newIndex.y)\n            this.setState({currentIndex: newIndex});\n    }\n\n    setScale(scale: number): void {\n        this.setState({scale});\n    }\n\n    setContainerWidth(containerWidth: number): void {\n        this.setState({containerWidth});\n    }\n\n    render(): JSX.Element {\n        const { currentIndex, scale, containerWidth } = this.state;\n\n        return (\n            <GridArrayInner currentIndex={currentIndex} scale={scale} containerWidth={containerWidth} />\n        );\n    }\n}\n\ntype GridArrayInnerProps = {\n    currentIndex: Vector2d;\n    scale: number;\n    containerWidth: number;\n}\n\nconst WIDTH = 1000;\n\nconst generateColumns = (scale: number, containerWidth: number): number[] => {\n    const diff = scale * WIDTH * 2 - containerWidth;\n    let count = 0;\n    if (diff < 0)\n        count = Math.ceil(-diff / 250);\n\n    const cols: number[] = [];\n    for (let i = -2; i > -2 - count; i--) {\n        cols.push(i);\n    }\n\n    return cols;\n};\n\nconst indexToCoord = (index: number, n: number) => {\n    return -(index + n) * WIDTH;\n};\n\nfunction GridArrayInner(props: GridArrayInnerProps) {\n    const [image] = useImage(`${process.env.PUBLIC_URL}/grid.png`);\n    return (\n        <Group>\n            <Image key={\"-1-1\"} opacity={0.2} x={indexToCoord(props.currentIndex.x, -1)} y={indexToCoord(props.currentIndex.y, -1)} width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"0-1\"}  opacity={0.2} x={indexToCoord(props.currentIndex.x, 0)}  y={indexToCoord(props.currentIndex.y, -1)} width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"1-1\"}  opacity={0.2} x={indexToCoord(props.currentIndex.x, 1)}  y={indexToCoord(props.currentIndex.y, -1)} width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"-10\"}  opacity={0.2} x={indexToCoord(props.currentIndex.x, -1)} y={indexToCoord(props.currentIndex.y, 0)}  width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"00\"}   opacity={0.2} x={indexToCoord(props.currentIndex.x, 0)}  y={indexToCoord(props.currentIndex.y, 0)}  width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"10\"}   opacity={0.2} x={indexToCoord(props.currentIndex.x, 1)}  y={indexToCoord(props.currentIndex.y, 0)}  width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"-11\"}  opacity={0.2} x={indexToCoord(props.currentIndex.x, -1)} y={indexToCoord(props.currentIndex.y, 1)}  width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"01\"}   opacity={0.2} x={indexToCoord(props.currentIndex.x, 0)}  y={indexToCoord(props.currentIndex.y, 1)}  width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"11\"}   opacity={0.2} x={indexToCoord(props.currentIndex.x, 1)}  y={indexToCoord(props.currentIndex.y, 1)}  width={WIDTH} height={WIDTH} image={image} />\n            <>\n                {generateColumns(props.scale, props.containerWidth).map((value, index) => (\n                    <React.Fragment key={`${value}-group`}>\n                        <Image key={`${value}-1`} opacity={0.2} x={indexToCoord(props.currentIndex.x, value)} y={indexToCoord(props.currentIndex.y, -1)} width={WIDTH} height={WIDTH} image={image} />\n                        <Image key={`${value}0`}  opacity={0.2} x={indexToCoord(props.currentIndex.x, value)} y={indexToCoord(props.currentIndex.y, 0)}  width={WIDTH} height={WIDTH} image={image} />\n                        <Image key={`${value}1`}  opacity={0.2} x={indexToCoord(props.currentIndex.x, value)} y={indexToCoord(props.currentIndex.y, 1)}  width={WIDTH} height={WIDTH} image={image} />\n                    </React.Fragment>\n                ))}\n            </>\n        </Group>\n    );\n}","import Konva from \"konva\";\nimport { Vector2d } from \"konva/lib/types\";\nimport React, { useRef, useState } from \"react\";\nimport { Path, Rect, Text } from \"react-konva\";\nimport store from \"../app/store\";\nimport { NodeConnectionObject } from \"../db/models\";\nimport { deleteConnectionWithIdAsync, getNodeById } from \"../features/notebooks/notebookSlice\";\nimport NodeConnectionManager from \"../managers/NodeConnectionManager\";\nimport NodeTypeManager from \"../managers/NodeTypeManager\";\nimport Colors from \"../utils/Colors\";\nimport KonvaUtils from \"../utils/KonvaUtils\";\n\ntype NodeConnectionProps = {\n    cellId: string;\n    connection: NodeConnectionObject;\n}\n\ntype NodeConnectionState = {\n    fromNodeWidth: number;\n    fromSlotHeight: number;\n    toSlotHeight: number;\n    fromCoords: Vector2d;\n    toCoords: Vector2d;\n}\n\nexport default class NodeConnection extends React.Component<NodeConnectionProps, NodeConnectionState> {\n    constructor(props: NodeConnectionProps) {\n        super(props);\n\n        this.state = {\n            fromNodeWidth: 200,\n            fromSlotHeight: 40,\n            toSlotHeight: 40,\n            fromCoords: { x: 0, y: 0 },\n            toCoords: { x: 0, y: 0 }\n        };\n\n        this.setFromCoords = this.setFromCoords.bind(this);\n        this.setToCoords = this.setToCoords.bind(this);\n\n        this.onDeleteConnection = this.onDeleteConnection.bind(this);\n    }\n\n    componentDidMount(): void {\n        const { cellId, connection } = this.props;\n        const fromNode = getNodeById(store.getState(), cellId, connection.fromNodeId);\n        const toNode = getNodeById(store.getState(), cellId, connection.toNodeId);\n        const fromNodeType = NodeTypeManager.getType(fromNode?.type ?? \"\");\n        const toNodeType = NodeTypeManager.getType(toNode?.type ?? \"\");\n        const topBarHeight = 20;\n        const slotHeight = 40;\n\n        const fromNodeWidth = fromNodeType?.style?.width ?? 200;\n        let fromSlotIndex = fromNodeType?.outputSlots?.findIndex(slot => slot.id === connection.fromSlotId);\n        if (!fromSlotIndex || fromSlotIndex < 0)\n            fromSlotIndex = 0;\n        const fromSlotHeight = topBarHeight + slotHeight * (fromSlotIndex + 1) - (slotHeight / 2);\n\n        let toSlotIndex = toNodeType?.inputSlots?.findIndex(slot => slot.id === connection.toSlotId);\n        if (!toSlotIndex || toSlotIndex < 0)\n            toSlotIndex = 0;\n        const toSlotHeight = topBarHeight + slotHeight * (toSlotIndex + 1) - (slotHeight / 2);\n        this.setState({ fromNodeWidth, fromSlotHeight, toSlotHeight });\n    }\n\n    setFromCoords(fromCoords: Vector2d): void {\n        this.setState({fromCoords});\n    }\n\n    setToCoords(toCoords: Vector2d): void {\n        this.setState({toCoords});\n    }\n\n    async onDeleteConnection(): Promise<void> {\n        const { cellId, connection } = this.props;\n        NodeConnectionManager.removeRef(cellId, connection.connectionId);\n        await store.dispatch(deleteConnectionWithIdAsync(cellId, connection.connectionId));\n    }\n\n    render(): JSX.Element {\n        const { fromNodeWidth, fromSlotHeight, toSlotHeight, fromCoords, toCoords } = this.state;\n\n        return (\n            <NodeConnectionInner strokeWidth={3}\n                lineSlack={30}\n                fromNodeWidth={fromNodeWidth}\n                fromSlotHeight={fromSlotHeight}\n                toSlotHeight={toSlotHeight}\n                fromCoords={fromCoords} \n                toCoords={toCoords}\n                onClick={this.onDeleteConnection} />\n        );\n    }\n}\n\ntype NodeConnectionInnerProps = {\n    strokeWidth: number;\n    lineSlack: number;\n    fromNodeWidth: number;\n    fromSlotHeight: number;\n    toSlotHeight: number;\n    fromCoords: Vector2d;\n    toCoords: Vector2d;\n    onClick: () => Promise<void>;\n}\n\nfunction NodeConnectionInner(props: NodeConnectionInnerProps) {\n    const { strokeWidth, lineSlack, fromNodeWidth, fromSlotHeight, toSlotHeight, fromCoords, toCoords, onClick } = props;\n    const [isHovered, setIsHovered] = useState<boolean>(false);\n    const path = useRef<Konva.Path>(null);\n\n    //console.log(`Length: ${path.current?.getLength()}, Dash: ${path.current?.dash()}, Dash Offset: ${path.current?.dashOffset()}`);\n\n    const midPoint: Vector2d = {\n        x: ((toCoords.x - fromCoords.x - fromNodeWidth) / 2) + (fromCoords.x + fromNodeWidth),\n        y: ((toCoords.y + toSlotHeight - fromCoords.y - fromSlotHeight) / 2) + (fromCoords.y + fromSlotHeight)\n    };\n\n    const pathData = `M${fromCoords.x + fromNodeWidth} ${fromCoords.y + fromSlotHeight} ` +\n                     `Q${fromCoords.x + fromNodeWidth + lineSlack} ${fromCoords.y + fromSlotHeight} ` + \n                         `${midPoint.x} ${midPoint.y} ` +\n                     `Q${toCoords.x - lineSlack} ${toCoords.y + toSlotHeight} ` + \n                         `${toCoords.x} ${toCoords.y + toSlotHeight}`;\n\n    return (\n        <>\n            <Path ref={path}\n                data={pathData} \n                stroke={Colors.Gray[900]}\n                strokeWidth={strokeWidth}\n                listening={false} />\n            <Path data={pathData}\n                stroke=\"transparent\"\n                strokeWidth={50}\n                onMouseEnter={event => {\n                    KonvaUtils.setCursor(event, \"pointer\");\n                    setIsHovered(true);\n                }}\n                onMouseLeave={event => {\n                    KonvaUtils.setCursor(event, \"default\");\n                    setIsHovered(false);\n                }}\n                onClick={async (event) => {\n                    KonvaUtils.setCursor(event, \"default\");\n                    await onClick();\n                }} />\n            <Rect visible={isHovered}\n                x={midPoint.x - 10}\n                y={midPoint.y - 6}\n                width={20}\n                height={12}\n                fill={Colors.Gray[900]}\n                listening={false} />\n            <Text visible={isHovered}\n                x={midPoint.x - 10}\n                y={midPoint.y - 6}\n                width={20}\n                height={12}\n                text=\"&#215;\"\n                fontSize={14}\n                offsetY={-1}\n                align=\"center\"\n                verticalAlign=\"middle\"\n                fill={Colors.Gray[100]}\n                listening={false} />\n        </>\n    );\n}","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Vector2d } from \"konva/lib/types\";\nimport React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport store from \"../app/store\";\nimport { createNewNodeAsync, selectNodeTypeAsync } from \"../features/notebooks/notebookSlice\";\nimport NodeTypeManager from \"../managers/NodeTypeManager\";\nimport { DefinedNodeType } from \"../types\";\nimport { OKButton, PrimaryButton, SecondaryButton } from \"./CustomComponents\";\n\ntype AddNodeItemProps = {\n    typeId: string;\n    onAddNode: (nodeType: DefinedNodeType) => Promise<void>;\n}\n\ntype AddNodeItemState = {\n\n}\n\nclass AddNodeItem extends React.Component<AddNodeItemProps, AddNodeItemState> {\n    constructor(props: AddNodeItemProps) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    render(): JSX.Element | null {\n        const { typeId, onAddNode } = this.props;\n        const nodeType = NodeTypeManager.getType(typeId);\n        if (!nodeType)\n            return null;\n        return (\n            <div className=\"px-4 py-2 text-gray-800 hover:bg-gray-200\">\n                <div className=\"flex flex-row items-center justify-between\">\n                    <div className=\"flex flex-col mr-4\">\n                        <span className=\"font-bold text-sm\">{nodeType.name}</span>\n                        {nodeType.description && (\n                            <span className=\"text-xs text-gray-600\">{nodeType.description}</span>\n                        )}\n                    </div>\n                    <div className=\"flex flex-row\">\n                        <OKButton icon=\"plus\" \n                            text=\"Create\"\n                            className=\"px-2 py-1 mr-1 text-xs\"\n                            onClick={async () => await onAddNode(nodeType)} />\n                        <PrimaryButton icon=\"question\"\n                            className=\"px-2 py-1 text-xs\"\n                            onClick={async () => await store.dispatch(selectNodeTypeAsync(typeId))} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\ntype NodeGroup = {\n    [id: string]: NodeGroup | string;\n}\n\ntype AddNodeGroupProps = {\n    group: NodeGroup;\n    onAddNode: (nodeType: DefinedNodeType) => Promise<void>;\n}\n\ntype AddNodeGroupState = {\n    isOpen: {\n        [id: string]: boolean\n    };\n}\n\nexport default class AddNodeGroup extends React.Component<AddNodeGroupProps, AddNodeGroupState> {\n    constructor(props: AddNodeGroupProps) {\n        super(props);\n\n        this.state = {\n            isOpen: {}\n        };\n\n        this.toggleGroup = this.toggleGroup.bind(this);\n    }\n\n    toggleGroup(id: string): void {\n        this.setState(prevState => ({isOpen: {...prevState.isOpen, [id]: !prevState.isOpen[id]}}));\n    }\n\n    render(): JSX.Element {\n        const { group, onAddNode } = this.props;\n        const { isOpen } = this.state;\n        const children = Object.entries(group);\n        return (\n            <>\n                {children.map((child, index) => {\n                    if (typeof child[1] === \"string\")\n                        return (\n                            <AddNodeItem key={`${child[0]}-${index}`} typeId={child[1]} onAddNode={onAddNode} />\n                        );\n                    else\n                        return (\n                            <div key={`${child[0]}-${index}`} style={{marginLeft: \"1rem\", width: \"calc(100%-1rem)\"}}>\n                                <div className=\"px-2 py-1 bg-gray-300 text-gray-900 text-xs hover:bg-gray-400\"\n                                    onClick={() => {\n                                        this.toggleGroup(`${child[0]}-${index}`);\n                                    }}>\n                                    <div className=\"flex flex-row items-center\">\n                                        {isOpen[`${child[0]}-${index}`] && (\n                                            <FontAwesomeIcon style={{marginRight: \"5px\"}} icon=\"caret-down\" />\n                                        ) ||\n                                        !isOpen[`${child[0]}-${index}`] && (\n                                            <FontAwesomeIcon style={{marginRight: \"8px\"}} icon=\"caret-right\" />\n                                        )}\n                                        <span className=\"\">{child[0]}</span>\n                                    </div>\n                                </div>\n                                {isOpen[`${child[0]}-${index}`] && (\n                                    <AddNodeGroup group={child[1]} onAddNode={onAddNode} />\n                                )}\n                            </div>\n                        );\n                })}\n            </>\n        );\n    }\n}\n\ntype AddNodeModalProps = {\n    cellId: string;\n    stagePos: Vector2d;\n    show: boolean;\n    onHide?: () => void;\n}\n\ntype AddNodeModalState = {\n    nextPosIndex: number;\n}\n\nclass AddNodeModal extends React.Component<AddNodeModalProps, AddNodeModalState> {\n    constructor(props: AddNodeModalProps) {\n        super(props);\n\n        this.state = {\n            nextPosIndex: 1\n        };\n\n        this.onHideModal = this.onHideModal.bind(this);\n        this.onKeyDown = this.onKeyDown.bind(this);\n\n        this.addNode = this.addNode.bind(this);\n    }\n\n    componentDidMount(): void {\n        window.addEventListener(\"keydown\", this.onKeyDown);\n    }\n\n    componentDidUpdate(prevProps: AddNodeModalProps): void {\n        if (prevProps.show !== this.props.show)\n            this.setState({nextPosIndex: 1});\n    }\n\n    componentWillUnmount(): void {\n        window.removeEventListener(\"keydown\", this.onKeyDown);\n    }\n\n    onKeyDown(event: KeyboardEvent): void {\n        if (event.key === \"Escape\")\n            this.onHideModal();\n    }\n\n    onHideModal(): void {\n        const { onHide } = this.props;\n        if (onHide)\n            onHide();\n    }\n\n    async addNode(nodeType: DefinedNodeType): Promise<void> {\n        const { cellId, stagePos } = this.props;\n        const { nextPosIndex } = this.state;\n\n        const nextPos: Vector2d = {\n            x: stagePos.x + (50 * nextPosIndex),\n            y: stagePos.y + (50 * nextPosIndex)\n        };\n        await store.dispatch(createNewNodeAsync(cellId, nodeType.name, nodeType.id, nextPos));\n        this.setState(prevState => ({\n            nextPosIndex: prevState.nextPosIndex + 1\n        }));\n    }\n\n    render(): JSX.Element {\n        const { show } = this.props;\n        const typeIds = NodeTypeManager.getVisibleTypeIds();\n\n        const objCreator = (partialId: string, partialGroup: NodeGroup, fullId: string): NodeGroup => {\n            const ids = partialId.split(\":\");\n            if (ids.length <= 1)\n                partialGroup[partialId] = fullId;\n            else {\n                let partial = partialGroup[ids[0]] as NodeGroup;\n                if (!partial)\n                    partial = {};\n                const obj = objCreator(ids.slice(1).join(\":\"), partial, fullId);\n                partialGroup[ids[0]] = obj;\n            }\n            return partialGroup;\n        };\n\n        let typeObj: NodeGroup = {};\n        typeIds.forEach(typeId => {\n            typeObj = objCreator(typeId, typeObj, typeId);\n        });\n\n        return (\n            <>\n                {show && (\n                    <>\n                        <div className=\"absolute top-0 right-0 bottom-0 left-0 bg-gray-900 opacity-50\"\n                            onClick={this.onHideModal}></div>\n                        <div className=\"absolute top-0 right-0 bottom-0 left-0 flex flex-col p-4 bg-gray-100\"\n                            style={{minWidth: \"32rem\", width: \"40%\", height: \"20rem\", top: \"50%\", left: \"50%\", transform: \"translateX(-50%) translateY(-50%)\"}}>\n                            {/*\n                            <div className=\"mb-4\">\n                                <Input placeholder=\"Search...\" icon=\"search\" />\n                            </div>\n                            */}\n\n                            <div className=\"grid gap-2 h-full mb-4\">\n                                <Scrollbars>\n                                    <div style={{marginLeft: \"-1rem\"}}>\n                                        <AddNodeGroup group={typeObj} onAddNode={this.addNode} />\n                                    </div>\n                                </Scrollbars>\n                            </div>\n                            \n                            <div className=\"flex flex-row-reverse\">\n                                <PrimaryButton text=\"Done\"\n                                    className=\"px-2 py-1 text-xs\"\n                                    onClick={this.onHideModal} />\n                            </div>\n                        </div>\n                    </>\n                )}\n            </>\n        );\n    }\n}\n\ntype NodeControlsProps = {\n    cellId: string;\n    stagePos: Vector2d;\n    onRunCell: () => Promise<void>;\n}\n\ntype NodeControlsState = {\n    showModal: boolean;\n}\n\nexport class NodeControls extends React.Component<NodeControlsProps, NodeControlsState> {\n    constructor(props: NodeControlsProps) {\n        super(props);\n\n        this.state = {\n            showModal: false\n        };\n    }\n\n    render(): JSX.Element {\n        const { cellId, stagePos, onRunCell } = this.props;\n        const { showModal } = this.state;\n        return (\n            <>\n                <div className=\"absolute flex flex-row\" style={{top: \"1rem\", left: \"1rem\"}}>\n                    <PrimaryButton icon=\"plus\" \n                        text=\"Add Node\"\n                        className=\"text-xs px-2 py-1 mr-2\"\n                        onClick={() => this.setState({showModal: true})} />\n                    <OKButton icon=\"play\"\n                        text=\"Run\"\n                        className=\"text-xs px-2 py-1\"\n                        onClick={async () => await onRunCell()} />\n                    \n                    <div className=\"relative\">\n                        \n                    </div>\n                </div>\n                \n                <AddNodeModal cellId={cellId}\n                    show={showModal}\n                    stagePos={stagePos}\n                    onHide={() => this.setState({showModal: false})} />\n            </>\n        );\n    }\n}\n\ntype NodeCellControlsProps = {\n    onZoomIn: React.MouseEventHandler<HTMLButtonElement>;\n    onZoomOut: React.MouseEventHandler<HTMLButtonElement>;\n    onReset: React.MouseEventHandler<HTMLButtonElement>;\n}\n\nexport function NodeCellControls(props: NodeCellControlsProps): JSX.Element {\n    return (\n        <div className=\"absolute flex flex-col items-end\" style={{top: \"1rem\", right: \"1rem\"}}>\n            <SecondaryButton icon=\"plus\"\n                className=\"text-sm p-1 mb-2\"\n                onClick={props.onZoomIn} />\n            <SecondaryButton icon=\"minus\"\n                className=\"text-sm p-1 mb-2\"\n                onClick={props.onZoomOut} />\n            <SecondaryButton text=\"Reset\"\n                className=\"text-xs px-2 py-1\"\n                onClick={props.onReset} />\n        </div>\n    );\n}","import cuid from \"cuid\";\nimport { Vector2d } from \"konva/lib/types\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport store, { RootState } from \"../app/store\";\nimport { DataSourceObject, NodeObject, VariableObject } from \"../db/models\";\nimport { addNodeAsync, setIsDraggingSourceAsync, setIsDraggingVariableAsync } from \"../features/notebooks/notebookSlice\";\nimport { SourceType, SourceTypes, Types, VariableType } from \"../utils/Types\";\n\ntype NodeCellDropZoneProps = {\n    cellId: string;\n    stagePos: Vector2d;\n    isDraggingSource: boolean;\n    isDraggingVariable: boolean;\n}\n\ntype NodeCellDropZoneState = {\n    isHovering: boolean;\n}\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        isDraggingSource: state.notebook.isDraggingSource,\n        isDraggingVariable: state.notebook.isDraggingVariable\n    };\n};\n\nclass NodeCellDropZoneInner extends React.Component<NodeCellDropZoneProps, NodeCellDropZoneState> {\n    constructor(props: NodeCellDropZoneProps) {\n        super(props);\n\n        this.state = {\n            isHovering: false\n        };\n\n        this.onDrop = this.onDrop.bind(this);\n    }\n\n    async onDrop(event: React.DragEvent<HTMLDivElement>): Promise<void> {\n        const { cellId, stagePos } = this.props;\n        event.preventDefault();\n        const data = JSON.parse(event.dataTransfer.getData(\"text/plain\"));\n        const dataType = data[\"dataType\"];\n        if (dataType === \"source\") {\n            await store.dispatch(setIsDraggingSourceAsync(false));\n\n            // Add new node representing the data source\n            const source = data[\"source\"] as DataSourceObject;\n            const pos: Vector2d = {\n                x: stagePos.x + 50,\n                y: stagePos.y + 50\n            };\n            const node: NodeObject = {\n                nodeId: cuid(),\n                name: source.name,\n                type: `base:${SourceTypes[source.type as SourceType]}-source`,\n                coords: pos,\n                properties: [\n                    {\n                        id: \"sourceId\",\n                        value: source.sourceId\n                    }\n                ],\n                inputValues: []\n            };\n            await store.dispatch(addNodeAsync(cellId, node));\n        } else if (dataType === \"variable\") {\n            await store.dispatch(setIsDraggingVariableAsync(false));\n\n            const type = data[\"type\"] as \"get\" | \"set\";\n            const variable = data[\"variable\"] as VariableObject;\n            const pos: Vector2d = {\n                x: stagePos.x + 50,\n                y: stagePos.y + 50\n            };\n            const node: NodeObject = {\n                nodeId: cuid(),\n                name: `${type === \"get\" ? \"Get\" : \"Set\"} ${variable.name}`,\n                type: `base:Variables:${Types[variable.type as VariableType]}-variable-${type}ter`,\n                coords: pos,\n                properties: [\n                    {\n                        id: \"variableId\",\n                        value: variable.variableId\n                    }\n                ],\n                inputValues: []\n            };\n            await store.dispatch(addNodeAsync(cellId, node));\n        }\n\n        this.setState({isHovering: false});\n    }\n\n    render(): JSX.Element | null {\n        const { isDraggingSource, isDraggingVariable } = this.props;\n        const { isHovering } = this.state;\n        if (!isDraggingSource && !isDraggingVariable)\n            return null;\n\n        return (\n            <div className=\"absolute top-0 left-0 right-0 bottom-0\"\n                onDragEnter={event => {\n                    event.preventDefault();\n                    this.setState({isHovering: true});\n                }}\n                onDragOver={event => {\n                    event.preventDefault();\n                }}\n                onDragLeave={event => {\n                    event.preventDefault();\n                    this.setState({isHovering: false});\n                }}\n                onDrop={this.onDrop}>\n                {isHovering && (\n                    <div className=\"flex w-full h-full items-center justify-center bg-gray-900 text-gray-100 opacity-50 pointer-events-none\">\n                        Drop here...\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nconst NodeCellDropZone = connect(mapStateToProps)(NodeCellDropZoneInner);\nexport default NodeCellDropZone;","import React, {  } from \"react\";\nimport { CellObject } from \"../db/models\";\nimport { Stage, Layer } from \"react-konva\";\nimport Konva from \"konva\";\nimport Node from \"./Node\";\nimport { KonvaEventObject } from \"konva/lib/Node\";\nimport { Vector2d } from \"konva/lib/types\";\nimport GridArray from \"./GridArray\";\nimport NodeConnection from \"./NodeConnection\";\nimport { KonvaForm } from \"./KonvaForm\";\nimport store from \"../app/store\";\nimport { clearSelectedNodeAsync, deleteNodeAsync, getNodes, getSelectedNode } from \"../features/notebooks/notebookSlice\";\nimport { NodeCellControls, NodeControls } from \"./NodeCellControls\";\nimport { Bar, Chart, Line } from \"react-chartjs-2\";\nimport ResizeObserver from \"rc-resize-observer\";\nimport NodeCellDropZone from \"./NodeCellDropZone\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport { twMerge } from \"tailwind-merge\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Colors from \"../utils/Colors\";\nimport NodeExecManager from \"../managers/NodeExecManager\";\nimport NodeConnectionManager from \"../managers/NodeConnectionManager\";\nimport { PrimitiveTree, NodeError, PrimitiveOutput, ChartOutput, DataFrameOutput } from \"../types\";\n\ntype NodeCellProps = {\n    cell: CellObject;\n}\n\ntype NodeCellState = {\n    stagePos: Vector2d;\n    results: PrimitiveTree[];\n}\n\nexport default class NodeCell extends React.Component<NodeCellProps, NodeCellState> {\n    private stage: React.RefObject<Konva.Stage>;\n    private gridArray: React.RefObject<GridArray>;\n    private outputBox: React.RefObject<HTMLDivElement>;\n    private readonly minScale = 0.25;\n    private readonly maxScale = 2;\n\n    constructor(props: NodeCellProps) {\n        super(props);\n\n        this.stage = React.createRef<Konva.Stage>();\n        this.gridArray = React.createRef<GridArray>();\n        this.outputBox = React.createRef<HTMLDivElement>();\n\n        this.state = {\n            stagePos: { x: 0, y: 0 },\n            results: []\n        };\n\n        this.fitToParent = this.fitToParent.bind(this);\n\n        // Zoom\n        this.zoomInView = this.zoomInView.bind(this);\n        this.zoomOutView = this.zoomOutView.bind(this);\n        this.resetView = this.resetView.bind(this);\n        this.onZoom = this.onZoom.bind(this);\n        this.onDeleteNode = this.onDeleteNode.bind(this);\n\n        this.runCell = this.runCell.bind(this);\n    }\n\n    componentDidMount(): void {\n        const { cell } = this.props;\n        NodeExecManager.addCellExec(cell.cellId, this.runCell);\n    }\n\n    fitToParent(width: number, height: number): void {\n        const stage = this.stage.current;\n        if (!stage) {\n            console.error(\"Container or stage could not be found\");\n            return;\n        }\n        \n        const stageObj = stage.getStage();\n        stageObj.width(width - 1);\n        stageObj.height(height);\n\n        const outputBox = this.outputBox.current;\n        if (outputBox) {\n            outputBox.style.width = `${width - 1}px`;\n        }\n\n        this.gridArray.current?.setContainerWidth(width);\n        stageObj.draw();\n    }\n\n    zoomInView(): void {\n        KonvaForm.cancel();\n        const stage = this.stage.current?.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n\n        const newScale = stage.scaleX() * 1.2;\n        if (newScale < this.minScale || newScale > this.maxScale)\n            return;\n\n        stage.scaleX(newScale);\n        stage.scaleY(newScale);\n        \n        this.gridArray.current?.setScale(newScale);\n        stage.batchDraw();\n    }\n\n    zoomOutView(): void {\n        KonvaForm.cancel();\n        const stage = this.stage.current?.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n\n        const newScale = stage.scaleX() / 1.2;\n        if (newScale < this.minScale || newScale > this.maxScale)\n            return;\n            \n        stage.scaleX(newScale);\n        stage.scaleY(newScale);\n        \n        this.gridArray.current?.setScale(newScale);\n        stage.batchDraw();\n    }\n\n    resetView(): void {\n        KonvaForm.cancel();\n        const stage = this.stage.current?.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n\n        stage.scaleX(1);\n        stage.scaleY(1);\n        \n        this.gridArray.current?.setScale(1);\n        stage.position({ x: 0, y: 0 });\n        stage.batchDraw();\n    }\n\n    onZoom(event: KonvaEventObject<WheelEvent>): void {\n        event.evt.preventDefault();\n        const stage = event.target.getStage();\n        if (!stage) {\n            console.error(\"The Konva Stage could not be found.\");\n            return;\n        }\n            \n        const oldScale: number = stage.scaleX();\n        const scaleBy = 1.1;\n        const pointer = stage.getPointerPosition();\n        if (!pointer) {\n            console.error(\"The Konva pointer position could not be found.\");\n            return;\n        }\n\n        const mousePosition = {\n            x: (pointer.x - stage.x()) / oldScale,\n            y: (pointer.y - stage.y()) / oldScale\n        };\n\n        const newScale = event.evt.deltaY < 0 ? oldScale * scaleBy : oldScale / scaleBy;\n        if (newScale < this.minScale || newScale > this.maxScale)\n            return;\n\n        stage.scale({ x: newScale, y: newScale});\n\n        const newPos = {\n            x: pointer.x - mousePosition.x * newScale,\n            y: pointer.y - mousePosition.y * newScale\n        };\n\n        this.gridArray.current?.setScale(newScale);\n        stage.position(newPos);\n        stage.batchDraw();\n    }\n\n    onDeleteNode(event: React.KeyboardEvent<HTMLDivElement>): void {\n        if (event.key === \"Delete\") {\n            const selectedNode = getSelectedNode(store.getState());\n            if (!selectedNode)\n                return;\n\n            store.dispatch(clearSelectedNodeAsync()).then(() => {\n                return store.dispatch(deleteNodeAsync(selectedNode.cellId, selectedNode.nodeId));\n            });\n        }\n    }\n\n    async runCell(): Promise<void> {\n        const { cell } = this.props;\n        NodeExecManager.resetCellOutputs(cell.cellId);\n\n        const nodes = getNodes(store.getState(), cell.cellId);\n\n        // Run all the setter variable nodes in sequence\n        const setters = nodes.filter(node => node.type.endsWith(\"-setter\"));\n        for (const setter of setters) {\n            const output = await NodeExecManager.runFunction(cell.cellId, setter.nodeId);\n            const result = output[\"result\"] as boolean;\n            if (!result) {\n                console.error(`A setter variable node of id '${setter.nodeId}' has failed`);\n                return;\n            }\n        }\n\n        // Run the final output node\n        const outputNodes = nodes.filter(node => node.type.endsWith(\"-output\"));\n        if (outputNodes.length < 0)\n            return;\n\n        const nodeIds = outputNodes.sort((a, b) => {\n            const aOrderIndex = a.properties.findIndex(prop => prop.id === \"outputOrder\");\n            const bOrderIndex = b.properties.findIndex(prop => prop.id === \"outputOrder\");\n\n            const aOrder = aOrderIndex >= 0 ? a.properties[aOrderIndex].value as number : 0;\n            const bOrder = bOrderIndex >= 0 ? b.properties[bOrderIndex].value as number : 0;\n            return aOrder - bOrder;\n        }).map(node => node.nodeId);\n        const results = await NodeExecManager.runFunctions(cell.cellId, nodeIds, true);\n        this.setState({results});\n    }\n\n    render(): JSX.Element {\n        const { cell } = this.props;\n        const { stagePos, results } = this.state;\n        const errors = NodeExecManager.getErrors(cell.cellId);\n        \n        return (\n            <div className=\"flex flex-col w-full\">\n                <div className=\"flex flex-row w-full bg-gray-100 shadow-inner\" style={{minHeight: \"24rem\"}}>\n                    <ResizeObserver onResize={props => {\n                        this.fitToParent(props.offsetWidth, props.offsetHeight);\n                    }}>\n                        <div className=\"relative w-full h-full outline-none\"\n                            onKeyDown={this.onDeleteNode}\n                            tabIndex={0}>\n                            <Stage ref={this.stage}\n                                onWheel={(event: KonvaEventObject<WheelEvent>) => {\n                                    KonvaForm.cancel();\n                                    this.onZoom(event);\n                                }}\n                                onDragStart={(event: KonvaEventObject<DragEvent>) => {\n                                    KonvaForm.cancel();\n                                }}\n                                onDragMove={(event: KonvaEventObject<DragEvent>) => {\n                                    event.target.preventDefault();\n                                    const pos = event.currentTarget.position();\n                                    this.gridArray.current?.setPos(pos.x, pos.y);\n                                }}\n                                onDragEnd={(event: KonvaEventObject<DragEvent>) => {\n                                    event.target.preventDefault();\n                                    const pos = event.currentTarget.position();\n                                    const scale = event.currentTarget.scale();\n                                    this.setState({stagePos: { x: -pos.x / scale.x, y: -pos.y / scale.y }});\n                                }}\n                                onClick={async (event: KonvaEventObject<MouseEvent>) => {\n                                    KonvaForm.cancel();\n                                    await store.dispatch(clearSelectedNodeAsync());\n                                }}\n                                draggable>\n                                <Layer listening={false}>\n                                    <GridArray ref={this.gridArray} />\n                                </Layer>\n                                <Layer id=\"edgesLayer\" ref={ref => {\n                                    if (ref)\n                                        NodeConnectionManager.setLayerRef(ref);\n                                }}>\n                                    {cell.connections.map((conn, index) => (\n                                        <NodeConnection key={conn.connectionId}\n                                            cellId={cell.cellId}\n                                            connection={conn}\n                                            ref={ref => {\n                                                if (ref)\n                                                    NodeConnectionManager.addRef(cell.cellId, conn.connectionId, ref);\n                                            }} />\n                                    ))}\n                                </Layer>\n                                <Layer>\n                                    {cell.nodes.map((value, index) => (\n                                        <Node key={index} cellId={cell.cellId} node={value} />\n                                    ))}\n                                </Layer>\n                                <Layer name=\"movingNodes\"></Layer>\n                            </Stage>\n                            <NodeCellControls onZoomIn={this.zoomInView} onZoomOut={this.zoomOutView} onReset={this.resetView} />\n                            <NodeControls cellId={cell.cellId} stagePos={stagePos} onRunCell={this.runCell}  />\n                            <NodeCellDropZone cellId={cell.cellId} stagePos={stagePos} />\n                        </div>\n                    </ResizeObserver>\n                </div>\n                <div ref={this.outputBox} className=\"\">\n                    {results.length > 0 && (\n                        <div className=\"flex flex-col mt-2 p-2 bg-gray-200 text-gray-900\">\n                            <span className=\"mb-2 text-xs font-medium text-gray-600\">Output</span>\n                            {errors.map((error, index) => (\n                                <div key={`${cell.cellId}-error-${index}`} className=\"mb-2\">\n                                    <ErrorItem error={error} />\n                                </div>\n                            ))}\n                            {results.map((result, index) => (\n                                <div key={`${cell.cellId}-result-${index}`} className=\"mb-4\">\n                                    <ShowResult result={result} />\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\n\ntype ErrorItemProps = {\n    error: NodeError;\n}\n\nfunction ErrorItem(props: ErrorItemProps): JSX.Element {\n    const { error } = props;\n    const debugStyle = \"bg-indigo-300 text-indigo-700\";\n    const infoStyle = \"bg-gray-300 text-gray-700\";\n    const warningStyle = \"bg-yellow-300 text-yellow-700\";\n    const errorStyle = \"bg-red-300 text-red-700\";\n    \n    let currentStyle = infoStyle;\n    if (error.type === \"debug\")\n        currentStyle = debugStyle;\n    else if (error.type === \"warning\")\n        currentStyle = warningStyle;\n    else if (error.type === \"error\")\n        currentStyle = errorStyle;\n\n    const split = error.message.split(\": \");\n    const source = split[0];\n    const message = split.length > 2 ? split.slice(1).join(\": \") : split[1];\n    return (\n        <div className={twMerge(\"px-3 py-2 text-sm\", currentStyle)}>\n            {error.type === \"debug\" && (\n                <FontAwesomeIcon className=\"mr-1\" icon=\"bug\" />\n            ) ||\n            error.type === \"info\" && (\n                <FontAwesomeIcon className=\"mr-1\" icon=\"info-circle\" />\n            ) ||\n            error.type === \"warning\" && (\n                <FontAwesomeIcon className=\"mr-1\" icon=\"exclamation-triangle\" />\n            ) ||\n            error.type === \"error\" && (\n                <FontAwesomeIcon className=\"mr-1\" icon=\"times-circle\" />\n            )}\n            <span className=\"font-bold mr-2\">{source}:</span>\n            <span className=\"\">{message}</span>\n        </div>\n    );\n}\n\ntype ShowResultProps = {\n    result: PrimitiveTree | undefined\n}\n\nexport function ShowResult(props: ShowResultProps): JSX.Element | null {\n    const { result } = props;\n    if (!result)\n        return null;\n\n    const resultType = result[\"type\"];\n    if (resultType === \"primitive\") {\n        const typedResult = result as PrimitiveOutput;\n        return (\n            <span className=\"pl-3 text-blue-500\">{`${typedResult.output}`}</span>\n        );\n    } else if (resultType === \"chart\") {\n        const typedResult = result as ChartOutput;\n        const colors = [\n            Colors.Red[500],\n            Colors.Blue[500],\n            Colors.Orange[500],\n            Colors.Indigo[500],\n            Colors.Yellow[500],\n            Colors.Purple[500],\n            Colors.Green[500],\n            Colors.Pink[500],\n            Colors.Teal[500]\n        ];\n\n        return (\n            <>\n                <div style={{maxWidth: \"40rem\"}}>\n                    {typedResult.chartType.endsWith(\"-line\") && (\n                        <Line data={{\n                            labels: typedResult.labels,\n                            datasets: typedResult.data.map((arr, index) => {\n                                return {\n                                    label: typedResult.dataLabels[index],\n                                    data: arr as number[],\n                                    fill: typedResult.chartType === \"stacked-line\",\n                                    backgroundColor: Colors.rgbaToStr(Colors.hexToRGBA(colors[index % colors.length], 0.4)),\n                                    borderColor: colors[index % colors.length],\n                                    borderWidth: 1\n                                };\n                            })\n                        }} \n                        options={{\n                            plugins: {\n                                title: {\n                                    display: typedResult.title !== \"\",\n                                    text: typedResult.title\n                                }\n                            },\n                            scales: {\n                                x: {\n                                    ticks: {\n                                        precision: 2\n                                    }\n                                },\n                                y: {\n                                    beginAtZero: true,\n                                    stacked: typedResult.chartType === \"stacked-line\",\n                                    ticks: {\n                                        precision: 2\n                                    }\n                                }\n                            },\n                            elements: {\n                                line: {\n                                    tension: typedResult.options?.isSmooth ? 0.3 : 0\n                                }\n                            }\n                        }} />\n                    ) ||\n                    typedResult.chartType.endsWith(\"-bar\") && (\n                        <Bar data={{\n                            labels: typedResult.labels,\n                            datasets: typedResult.data.map((arr, index) => {\n                                return {\n                                    label: typedResult.dataLabels[index],\n                                    data: arr as number[],\n                                    backgroundColor: Colors.rgbaToStr(Colors.hexToRGBA(colors[index % colors.length], 0.4)),\n                                    borderColor: colors[index % colors.length],\n                                    borderWidth: 1,\n                                    borderRadius: 4,\n                                    stack: \"Stack 0\"\n                                };\n                            })\n                        }} \n                        options={{\n                            indexAxis: typedResult.chartType === \"horizontal-bar\" ? \"y\" : \"x\",\n                            plugins: {\n                                title: {\n                                    display: typedResult.title !== \"\",\n                                    text: typedResult.title\n                                }\n                            },\n                            scales: {\n                                y: {\n                                    beginAtZero: true,\n                                    stacked: typedResult.chartType === \"stacked-bar\"\n                                }\n                            }\n                        }} />\n                    ) || \n                    typedResult.chartType.endsWith(\"-plot\") && (\n                        <Chart type={typedResult.chartType === \"violin-plot\" ? \"violin\" : \"boxplot\"}\n                            data={{\n                                labels: typedResult.labels,\n                                datasets: typedResult.data.map((arr, index) => {\n                                    return {\n                                        label: typedResult.dataLabels[index],\n                                        data: arr as number[][],\n                                        backgroundColor: Colors.rgbaToStr(Colors.hexToRGBA(colors[index % colors.length], 0.4)),\n                                        borderColor: colors[index % colors.length],\n                                        borderWidth: 1,\n                                        borderRadius: 4,\n                                        itemRadius: 2,\n                                        outlierStyle: \"triangle\"\n                                    };\n                                })\n                            }}\n                            options={{\n                                plugins: {\n                                    title: {\n                                        display: typedResult.title !== \"\",\n                                        text: typedResult.title\n                                    }\n                                },\n                                scales: {\n                                    y: {\n                                        beginAtZero: true\n                                    }\n                                }\n                            }}\n                        />\n                    )}\n                </div>\n                {/*\n                <span className=\"pl-3\">{`Chart Type: ${typedResult.chartType}, x: '${typedResult.x}', y: '${typedResult.y}'`}</span>\n                */}\n            </>\n        );\n    } else if (resultType === \"dataframe\") {\n        const typedResult = result as DataFrameOutput;\n        const columns = typedResult.columns;\n        const indexes = typedResult.indexes;\n        const values = typedResult.values;\n        return (\n            <>\n                <Scrollbars autoHeight autoHeightMax={\"32rem\"}>\n                    <div className=\"pl-3\">\n                        <table>\n                            <thead>\n                                <tr>\n                                    {indexes.length > 0 && (\n                                        <th></th>\n                                    )}\n                                    {columns.map((col, index) => (\n                                        <th key={`th-${index}-${col}`}>{col}</th>\n                                    ))}\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {values.map((row, index) =>(\n                                    <tr key={`tr-${index}`}>\n                                        <>\n                                            {indexes.length > 0 && (\n                                                <td>{indexes[index]}</td>\n                                            )}\n                                            {row.map((val, index2) => (\n                                                <React.Fragment key={`td-${index}-${index2}`}>\n                                                    {(val === \"\" || val === \"null\") && (\n                                                        <td className=\"text-red-500\">\n                                                            null\n                                                        </td>\n                                                    ) || \n                                                    val !== \"\" && (\n                                                        <td>{val}</td>\n                                                    )}\n                                                </React.Fragment>\n                                            ))}\n                                        </>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </Scrollbars>\n            </>\n        );\n    }\n\n    return null;\n}","import React from \"react\";\nimport { CellObject } from \"../db/models\";\nimport MarkdownCell from \"./MarkdownCell\";\nimport NodeCell from \"./NodeCell\";\nimport Dropdown from \"react-overlays/Dropdown\";\nimport { CancelButton, ContextMenuItem, CustomModal, SecondaryButton } from \"./CustomComponents\";\nimport store from \"../app/store\";\nimport { deleteCellAsync, setIsDraggingCellAsync, updateCellTypeAsync } from \"../features/notebooks/notebookSlice\";\nimport InsertCellDropZone from \"./InsertCellDropZone\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\ntype ParentCellProps = {\n    cell: CellObject;\n}\n\ntype ParentCellState = {\n    isHover: boolean;\n    isOptions: boolean;\n    isDelete: boolean;\n}\n\nexport default class ParentCell extends React.Component<ParentCellProps, ParentCellState> {\n    constructor(props: ParentCellProps) {\n        super(props);\n\n        this.state = {\n            isHover: false,\n            isOptions: false,\n            isDelete: false\n        };\n\n        this.changeCellType = this.changeCellType.bind(this);\n\n        this.showDeleteModal = this.showDeleteModal.bind(this);\n        this.hideDeleteModal = this.hideDeleteModal.bind(this);\n        this.deleteCell = this.deleteCell.bind(this);\n\n        this.onDragStart = this.onDragStart.bind(this);\n    }\n\n    async changeCellType(type: \"node\" | \"markdown\"): Promise<void> {\n        const { cell } = this.props;\n\n        await store.dispatch(updateCellTypeAsync(cell.cellId, type));\n        this.setState({isOptions: false});\n    }\n\n    showDeleteModal(): void {\n        this.setState({isDelete: true, isOptions: false});\n    }\n\n    hideDeleteModal(): void {\n        this.setState({isDelete: false});\n    }\n\n    async deleteCell(): Promise<void> {\n        const { cell } = this.props;\n\n        this.setState({isOptions: false});\n        await store.dispatch(deleteCellAsync(cell.cellId));\n        this.hideDeleteModal();\n    }\n\n    onDragStart(event: React.DragEvent<HTMLDivElement>): void {\n        const { cell } = this.props;\n        event.stopPropagation();\n\n        const data = { cellId: cell.cellId };\n        event.dataTransfer.setData(\"text/plain\", JSON.stringify(data));\n    }\n\n    render(): JSX.Element {\n        const { cell } = this.props;\n        const { isHover, isOptions, isDelete } = this.state;\n        return (\n            <div className=\"relative\">\n                <div className=\"w-full h-full pl-6 pr-6 py-2 flex flex-row hover:bg-gray-200\"\n                    onMouseEnter={() => this.setState({isHover: true})}\n                    onMouseLeave={() => this.setState({isHover: false, isOptions: false})}>\n                    {isHover && (\n                        <div className=\"flex flex-col w-6\" style={{ minWidth: \"1.5rem\" }}>\n                            <div className=\"transition duration-200 ease-in-out flex items-center text-md p-1 mb-2 bg-gray-700 text-gray-200 hover:bg-gray-600 hover:text-gray-100 cursor-move\"\n                                onDragStart={async (event) => {\n                                    this.onDragStart(event);\n                                    await store.dispatch(setIsDraggingCellAsync(true));\n                                }}\n                                onDragEnd={async () => await store.dispatch(setIsDraggingCellAsync(false))}\n                                draggable>\n                                <FontAwesomeIcon icon=\"arrows-alt\" />\n                            </div>\n                            <Dropdown show={isOptions}\n                                onToggle={next => this.setState({isOptions: next})}>\n                                <div className=\"relative\">\n                                    <Dropdown.Toggle>\n                                        {(props, meta) => (\n                                            <SecondaryButton icon=\"ellipsis-v\" className=\"w-full flex items-center justify-center h-6 text-sm\"\n                                                onClick={event => meta.toggle(!isOptions, event)} />\n                                        )}\n                                    </Dropdown.Toggle>\n                                    <Dropdown.Menu show={isOptions} flip={true}>\n                                        {(props) => (\n                                            <>\n                                                {isOptions && (\n                                                    <div className=\"absolute z-20 shadow-lg\" style={{width: `${cell.type === \"node\" ? \"11rem\" : \"9rem\"}`}}>\n                                                        <div onClick={async () => await this.changeCellType(cell.type === \"node\" ? \"markdown\" : \"node\")}>\n                                                            <ContextMenuItem text={`Change To ${cell.type === \"node\" ? \"Markdown\" : \"Node\"}`}\n                                                                icon=\"exchange-alt\"\n                                                                className=\"bg-gray-600 text-gray-100 hover:bg-gray-800 hover:text-gray-200\" />\n                                                        </div>\n                                                        <div onClick={this.showDeleteModal}>\n                                                            <ContextMenuItem text=\"Delete\"\n                                                                icon=\"trash-alt\"\n                                                                className=\"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200\" />\n                                                        </div>\n                                                    </div>\n                                                ) ||\n                                                !isOptions && (\n                                                    <div className=\"\"></div>\n                                                )}\n                                            </>\n                                        )}\n                                    </Dropdown.Menu>\n                                </div>\n                            </Dropdown>\n                        </div>\n                    ) ||\n                    !isHover && (\n                        <div className=\"w-6 h-full\" style={{minWidth: \"1.5rem\"}}></div>\n                    )}\n                    {cell.type === \"markdown\" && (\n                        <MarkdownCell key={`${cell.cellId}-${cell.type}`} cell={cell} />\n                    ) ||\n                    cell.type === \"node\" && (\n                        <NodeCell key={`${cell.cellId}-${cell.type}`} cell={cell} />\n                    )}\n                    <CustomModal show={isDelete}\n                        onHide={() => this.hideDeleteModal()}>\n                        <div className=\"p-4 bg-gray-100 w-64\">\n                            <div className=\"mb-4 flex flex-row\">\n                                <h2 className=\"mr-1 text-lg font-medium text-red-600\">Delete Cell?</h2>\n                            </div>\n                            <div className=\"mb-4 w-full flex items-center\">\n                                <span className=\"text-center\">Are you sure you want to delete this cell? This action is <span className=\"text-red-600 font-bold\">irreversible.</span></span>\n                            </div>\n                            <div className=\"flex flex-row-reverse\">\n                                <CancelButton text=\"Delete\"\n                                    className=\"px-2 py-1 ml-2 text-xs\"\n                                    onClick={this.deleteCell} />\n                                <SecondaryButton text=\"Cancel\"\n                                    className=\"px-2 py-1 text-xs\"\n                                    onClick={() => this.hideDeleteModal()} />\n                            </div>\n                        </div>\n                    </CustomModal>\n                </div>\n                <InsertCellDropZone cellId={cell.cellId} />\n            </div>\n        );\n    }\n}","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport { connect } from \"react-redux\";\nimport store, { RootState } from \"../app/store\";\nimport { CellObject, NotebookObject } from \"../db/models\";\nimport { clearSelectedNodeTypeAsync, createNewCellAsync, openNotebookAsync } from \"../features/notebooks/notebookSlice\";\nimport CodeMirrorManager from \"../managers/CodeMirrorManager\";\nimport NodeExecManager from \"../managers/NodeExecManager\";\nimport NodeTypeManager from \"../managers/NodeTypeManager\";\nimport { CustomModal, OKButton, PrimaryButton } from \"./CustomComponents\";\nimport InsertCellDropZone from \"./InsertCellDropZone\";\nimport ParentCell from \"./ParentCell\";\n\ntype NotebookProps = {\n    id: string;\n    notebook: NotebookObject | undefined;\n    cells: CellObject[] | undefined;\n    selectedNodeTypeHelp: string | undefined;\n    isDraggingCell: boolean;\n}\n\ntype NotebookState = {\n\n}\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        notebook: state.notebook.currentNotebook,\n        cells: state.notebook.currentNotebook?.cells,\n        selectedNodeTypeHelp: state.notebook.selectedNodeTypeHelp,\n        isDraggingCell: state.notebook.isDraggingCell\n    };\n};\n\nclass NotebookInner extends React.Component<NotebookProps, NotebookState> {\n    private scrollbarRef: React.RefObject<Scrollbars>;\n    constructor(props: NotebookProps) {\n        super(props);\n\n        this.scrollbarRef = React.createRef<Scrollbars>();\n\n        this.state = {\n            \n        };\n\n        this.updateNotebook = this.updateNotebook.bind(this);\n\n        this.createNodeCell = this.createNodeCell.bind(this);\n        this.createMarkdownCell = this.createMarkdownCell.bind(this);\n\n        this.cellsToLinkedList = this.cellsToLinkedList.bind(this);\n    }\n\n    async componentDidMount(): Promise<void> {\n        CodeMirrorManager.reset();\n        await this.updateNotebook();\n    }\n\n    async componentDidUpdate(prevProps: NotebookProps, prevState: NotebookState): Promise<void> {\n        if (prevProps.id !== this.props.id) {\n            await this.updateNotebook();\n        }\n    }\n\n    async updateNotebook(): Promise<void> {\n        const { id } = this.props;\n        await store.dispatch(openNotebookAsync(id));\n    }\n\n    async createNodeCell(): Promise<void> {\n        await store.dispatch(createNewCellAsync(\"node\"));\n    }\n\n    async createMarkdownCell(): Promise<void> {\n        await store.dispatch(createNewCellAsync(\"markdown\"));\n    }\n\n    onHoverScroller(direction: \"up\" | \"down\") {\n        const scrollbar = this.scrollbarRef.current;\n        if (!scrollbar)\n            return;\n\n        console.log(direction);\n    }\n\n    cellsToLinkedList(cells: CellObject[]): CellObject[] {\n        // Recreate the linked list as an array\n        const linkedCells: CellObject[] = [];\n        let currentKey: string | undefined = \"\";\n        for(let i = 0; i < cells.length; i++) {\n            const currentCell = cells.find(cell => cell.nextCell === currentKey);\n            if (!currentCell)\n                return []; // Some cells are not linked\n\n            linkedCells.push(currentCell);\n            currentKey = currentCell.cellId;\n        }\n        linkedCells.reverse();\n        return linkedCells;\n    }\n\n    render(): JSX.Element | null {\n        const { notebook, cells, selectedNodeTypeHelp, isDraggingCell } = this.props;\n        if (!notebook || !cells) {\n            return null;\n        }\n        \n        const linkedCells = this.cellsToLinkedList(cells);\n        const selectedNodeType = NodeTypeManager.getType(selectedNodeTypeHelp ?? \"\");\n        return (\n            <div className=\"w-full h-full\">\n                <div className=\"flex flex-row p-2\"\n                    style={{height: \"5%\"}}>\n                    <OKButton icon=\"play\"\n                        text=\"Run All\"\n                        className=\"text-xs px-2 py-1\"\n                        onClick={async () => await NodeExecManager.runCells(notebook.notebookId)} />\n                </div>\n                <div className=\"relative pb-4\"\n                    style={{height: \"95%\"}}>\n                    <Scrollbars ref={this.scrollbarRef}>\n                        <div className=\"pt-2\">\n                            <div className=\"relative w-full z-50\">\n                                <InsertCellDropZone cellId=\"\" />\n                            </div>\n                            {linkedCells.map((cell, index) => (\n                                <div key={`cell-${cell.cellId}`} className=\"w-full\">\n                                    <ParentCell cell={cell} />\n                                </div>\n                            ))}\n                            <div className=\"mt-4 flex flex-row justify-center\">\n                                <PrimaryButton icon=\"plus\" text=\"Create Node Cell\"\n                                    className=\"text-sm px-3 py-2 mr-4\"\n                                    onClick={this.createNodeCell} />\n                                <OKButton icon=\"plus\" text=\"Create Markdown Cell\"\n                                    className=\"text-sm px-3 py-2\"\n                                    onClick={this.createMarkdownCell} />\n                            </div>\n                            <div className=\"w-full\" style={{height: \"24rem\"}}></div>\n                        </div>\n                    </Scrollbars>\n                    {isDraggingCell && (\n                        <>\n                            <div className=\"pointer-events-none absolute top-0 left-0 w-12 py-1 flex justify-center text-lg bg-gray-900 text-gray-100 opacity-50\">\n                                <FontAwesomeIcon icon=\"caret-up\" />\n                            </div>\n                            <div className=\"pointer-events-none absolute left-0 w-12 py-1 flex justify-center text-lg bg-gray-900 text-gray-100 opacity-50\"\n                                style={{bottom: \"1rem\"}}>\n                                <FontAwesomeIcon icon=\"caret-down\" />\n                            </div>\n                        </>\n                    )}\n                </div>\n\n                <CustomModal show={selectedNodeType != null}\n                    onHide={() => clearSelectedNodeTypeAsync()}>\n                    <div className=\"relative flex flex-col p-8 bg-gray-100\"\n                        style={{\n                            minWidth: \"32rem\",\n                            width: \"40%\",\n                            maxHeight: \"80%\",\n                            height: \"80%\"\n                        }}>\n                        <div className=\"mb-4 flex flex-col\">\n                            <h2 className=\"mb-2 text-lg font-bold text-gray-900\">{selectedNodeType?.name}</h2>\n                            <p className=\"pl-2 text-sm text-gray-700\">{selectedNodeType?.description}</p>\n                        </div>\n                        <Scrollbars className=\"mb-4\" autoHeight autoHeightMax=\"100%\">\n                            {selectedNodeType?.inputSlots && selectedNodeType?.inputSlots.length > 0 && (\n                                <div className=\"mb-4\">\n                                    <h4 className=\"mb-2 text-md font-bold text-gray-900\">Inputs</h4>\n                                    <table className=\"\">\n                                        <thead>\n                                            <tr>\n                                                <th>Name</th>\n                                                <th>Type</th>\n                                                <th>Description</th>\n                                                <th>Default Value</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            {selectedNodeType?.inputSlots.map(input => (\n                                                <tr key={`input-${input.id}`}>\n                                                    <td className=\"pl-2 text-sm font-bold text-gray-700\">{input.id}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{input.type.replaceAll(\"|\", \"or\")}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{input.description}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{`${input.defaultValue == null ? \"\" : input.defaultValue}`}</td>\n                                                </tr>\n                                            ))}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            )}\n                            {selectedNodeType?.outputSlots && selectedNodeType?.outputSlots.length > 0 && (\n                                <div className=\"mb-4\">\n                                    <h4 className=\"mb-2 text-md font-bold text-gray-900\">Outputs</h4>\n                                    <table className=\"\">\n                                        <thead>\n                                            <tr>\n                                                <th>Name</th>\n                                                <th>Type</th>\n                                                <th>Description</th>\n                                                <th>Default Value</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            {selectedNodeType?.outputSlots.map(output => (\n                                                <tr key={`output-${output.id}`}>\n                                                    <td className=\"pl-2 text-sm font-bold text-gray-700\">{output.id}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{output.type.replaceAll(\"|\", \"or\")}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{output.description}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{`${output.defaultValue == null ? \"\" : output.defaultValue}`}</td>\n                                                </tr>\n                                            ))}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            )}\n                            {selectedNodeType?.properties && selectedNodeType?.properties.length > 0 && (\n                                <div className=\"mb-4\">\n                                    <h4 className=\"mb-2 text-md font-bold text-gray-900\">Properties</h4>\n                                    <table className=\"\">\n                                        <thead>\n                                            <tr>\n                                                <th>Name</th>\n                                                <th>Type</th>\n                                                <th>Description</th>\n                                                <th>Default Value</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            {selectedNodeType?.properties.map(property => {\n                                                if (!property.isHidden) {\n                                                    return (\n                                                        <tr key={`properties-${property.id}`}>\n                                                            <td className=\"pl-2 text-sm font-bold text-gray-700\">{property.id}</td>\n                                                            <td className=\"pl-2 text-sm text-gray-700\">{property.type.replaceAll(\"|\", \"or\")}</td>\n                                                            <td className=\"pl-2 text-sm text-gray-700\">{property.description}</td>\n                                                            <td className=\"pl-2 text-sm text-gray-700\">{`${property.defaultValue == null ? \"\" : property.defaultValue}`}</td>\n                                                        </tr>\n                                                    );\n                                                }\n                                                return null;\n                                            })}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            )}\n                        </Scrollbars>\n                        <div className=\"mt-auto flex flex-row-reverse\">\n                            <PrimaryButton text=\"Done\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={async () => await store.dispatch(clearSelectedNodeTypeAsync())} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </div>\n        );\n    }\n}\n\nconst Notebook = connect(mapStateToProps)(NotebookInner);\nexport default Notebook;","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport Dropdown from \"react-overlays/esm/Dropdown\";\nimport store from \"../app/store\";\nimport { CSVSource } from \"../data/DataService\";\nimport { DataSourceObject } from \"../db/models\";\nimport { createNewDataSourceAsync, deleteDataSourceAsync, setIsDraggingSourceAsync, updateDataSourceNameAsync } from \"../features/notebooks/notebookSlice\";\nimport { DataFrameOutput } from \"../types\";\nimport { SourceType, SourceTypes } from \"../utils/Types\";\nimport { OKButton, CustomModal, FileButton, PrimaryButton, SecondaryButton, Input, ContextMenuItem, CancelButton } from \"./CustomComponents\";\nimport { ShowResult } from \"./NodeCell\";\n\ntype SourceItemProps = {\n    source: DataSourceObject;\n}\n\ntype SourceItemState = {\n    isOptions: boolean;\n    isRename: boolean;\n    renameValue: string;\n    isDelete: boolean;\n    isPreview: boolean;\n    preview: DataFrameOutput;\n}\n\nclass SourceItem extends React.Component<SourceItemProps, SourceItemState> {\n    constructor(props: SourceItemProps) {\n        super(props);\n\n        this.state = {\n            isOptions: false,\n            isRename: false,\n            renameValue: \"\",\n            isDelete: false,\n            isPreview: false,\n            preview: {\n                type: \"dataframe\",\n                outputOrder: 0,\n                columns: [],\n                indexes: [],\n                values: []\n            }\n        };\n\n        this.onDragSourceStart = this.onDragSourceStart.bind(this);\n\n        this.showRenameModal = this.showRenameModal.bind(this);\n        this.hideRenameModal = this.hideRenameModal.bind(this);\n        this.renameSource = this.renameSource.bind(this);\n\n        this.showDeleteModal = this.showDeleteModal.bind(this);\n        this.hideDeleteModal = this.hideDeleteModal.bind(this);\n        this.deleteSource = this.deleteSource.bind(this);\n\n        this.showPreviewModal = this.showPreviewModal.bind(this);\n        this.hidePreviewModal = this.hidePreviewModal.bind(this);\n    }\n\n    async onDragSourceStart(event: React.DragEvent<HTMLDivElement>, source: DataSourceObject): Promise<void> {\n        event.stopPropagation();\n        await store.dispatch(setIsDraggingSourceAsync(true));\n\n        const data = { dataType: \"source\", source };\n        event.dataTransfer.setData(\"text/plain\", JSON.stringify(data));\n    }\n\n    showRenameModal(): void {\n        this.setState({isRename: true, isOptions: false, renameValue: \"\"});\n    }\n\n    hideRenameModal(): void {\n        this.setState({isRename: false});\n    }\n\n    async renameSource(): Promise<void> {\n        const { source } = this.props;\n        const { renameValue } = this.state;\n        if (renameValue !== \"\") {\n            await store.dispatch(updateDataSourceNameAsync(source.sourceId, renameValue));\n            this.hideRenameModal();\n        }\n    }\n\n    showDeleteModal(): void {\n        this.setState({isDelete: true, isOptions: false});\n    }\n\n    hideDeleteModal(): void {\n        this.setState({isDelete: false});\n    }\n\n    async deleteSource(): Promise<void> {\n        const { source } = this.props;\n        this.setState({isOptions: false});\n        await store.dispatch(deleteDataSourceAsync(source.sourceId));\n        this.hideDeleteModal();\n    }\n\n    showPreviewModal(): void {\n        const { source } = this.props;\n        const output: DataFrameOutput = {\n            type: \"dataframe\",\n            outputOrder: 0,\n            columns: [],\n            indexes: [],\n            values: []\n        };\n\n        const rowCount = 0;\n        const csv = new CSVSource(source.sourceId);\n        csv.loadToDf().then(result => {\n            if (!result)\n                throw new ReferenceError(\"Data Source could not be loaded.\");\n\n            const df = csv.df as DataFrame;\n            const head = (df.shape[0] >= rowCount && rowCount > 0) ? df.head(rowCount) : df;\n            let values: string[][];\n            if (head.columns.length > 1) {\n                values = head.values.map(value1 => {\n                    const val1 = value1 as string[] | (string | number | boolean)[] | number[] | boolean[];\n                    return val1.map(value2 => `${value2}`);\n                });\n            } else {\n                values = head.values.map(value => {\n                    const val = value as string | number | boolean;\n                    return [`${val}`];\n                });\n            }\n\n            output.columns = df.columns,\n            output.values = values;\n    \n            this.setState({isPreview: true, isOptions: false, preview: output});\n        });\n    }\n\n    hidePreviewModal(): void {\n        const output: DataFrameOutput = {\n            type: \"dataframe\",\n            outputOrder: 0,\n            columns: [],\n            indexes: [],\n            values: []\n        };\n\n        this.setState({isPreview: false, preview: output});\n    }\n\n    render(): JSX.Element {\n        const { source } = this.props;\n        const { isOptions, isRename, renameValue, isDelete, isPreview, preview } = this.state;\n        return (\n            <>\n                <div className=\"transition duration-200 ease-in-out flex flex-row items-center justify-between p-2 text-sm text-gray-200 hover:bg-indigo-400 hover:text-indigo-100 select-none\"\n                    draggable\n                    onDragStart={async event => await this.onDragSourceStart(event, source)}\n                    onDragEnd={async () => await store.dispatch(setIsDraggingSourceAsync(false))}\n                    onMouseLeave={() => this.setState({isOptions: false})}>\n                    <span className=\"\">{source.name}</span>\n                    <div className=\"flex flex-row\">\n                        <div className=\"transition duration-200 ease-in-out flex items-center text-sm px-1 mr-2 bg-transparent hover:bg-indigo-600 cursor-move\">\n                            <FontAwesomeIcon icon=\"arrows-alt\" />\n                        </div>\n                        <Dropdown show={isOptions}\n                            onToggle={next => this.setState({isOptions: next})}>\n                            <div className=\"relative flex flex-row-reverse\">\n                                <Dropdown.Toggle>\n                                    {(props, meta) => (\n                                        <SecondaryButton icon=\"ellipsis-v\" \n                                            className=\"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600\"\n                                            onClick={event => meta.toggle(!isOptions, event)} />\n                                    )}\n                                </Dropdown.Toggle>\n                                <Dropdown.Menu show={isOptions} flip={true}>\n                                    {(props) => (\n                                        <>\n                                            {isOptions && (\n                                                <div className=\"absolute z-20 shadow-lg w-32\" style={{top: \"1.5rem\"}}>\n                                                    <div onClick={this.showPreviewModal}>\n                                                        <ContextMenuItem text=\"Preview\"\n                                                            icon=\"search\" />\n                                                    </div>\n                                                    <div onClick={this.showRenameModal}>\n                                                        <ContextMenuItem text=\"Change Name\"\n                                                            icon=\"edit\" />\n                                                    </div>\n                                                    <div onClick={this.showDeleteModal}>\n                                                        <ContextMenuItem text=\"Delete\"\n                                                            icon=\"trash-alt\"\n                                                            className=\"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200\" />\n                                                    </div>\n                                                </div>\n                                            ) || \n                                            !isOptions && (\n                                                <div className=\"\"></div>\n                                            )}\n                                        </>\n                                    )}\n                                </Dropdown.Menu>\n                            </div>\n                        </Dropdown>\n                    </div>\n                </div>\n\n                <CustomModal show={isRename}\n                    onHide={() => this.hideRenameModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Preview</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{source.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={renameValue} \n                                label=\"Name\" \n                                placeholder=\"Enter source name...\"\n                                onChange={event => this.setState({renameValue: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.renameSource} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideRenameModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n                \n                <CustomModal show={isPreview}\n                    onHide={() => this.hidePreviewModal()}>\n                    <div className=\"p-4 bg-gray-100\" \n                        style={{width: \"75%\"}}>\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Preview</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{source.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <ShowResult result={preview} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <SecondaryButton text=\"Close\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hidePreviewModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n\n                <CustomModal show={isDelete}\n                    onHide={() => this.hideDeleteModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium text-red-600\">Delete</h2>\n                            <h2 className=\"text-lg font-bold text-red-600\">&apos;{source.name}&apos;?</h2>\n                        </div>\n                        <div className=\"mb-4 w-full flex items-center\">\n                            <span className=\"text-center\">Are you sure you want to delete the source &apos;{source.name}&apos;? This action is <span className=\"text-red-600 font-bold\">irreversible</span> and might break any nodes using this source.</span>\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <CancelButton text=\"Delete\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.deleteSource} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideDeleteModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}\n\ntype SourceSidebarProps = {\n    sources?: DataSourceObject[];\n}\n\ntype SourceSidebarState = {\n    isAddingSource: boolean;\n    sourceName: string;\n    sourceType: SourceType | undefined;\n    sourceFile: File | undefined;\n}\n\nexport default class SourceSidebar extends React.Component<SourceSidebarProps, SourceSidebarState> {\n    constructor(props: SourceSidebarProps) {\n        super(props);\n\n        this.state = {\n            isAddingSource: false,\n            sourceName: \"\",\n            sourceType: undefined,\n            sourceFile: undefined\n        };\n\n        this.showAddSourceModal = this.showAddSourceModal.bind(this);\n        this.hideAddSourceModal = this.hideAddSourceModal.bind(this);\n\n        this.onChooseCSVFile = this.onChooseCSVFile.bind(this);\n        this.onAddSource = this.onAddSource.bind(this);\n    }\n\n    showAddSourceModal(): void {\n        this.setState({isAddingSource: true, sourceName: \"\", sourceType: undefined, sourceFile: undefined});\n    }\n\n    hideAddSourceModal(): void {\n        this.setState({isAddingSource: false});\n    }\n\n    // TODO: Should be done as a dropdown\n    async onChooseCSVFile(file: File): Promise<void> {\n        this.setState({ sourceType: \"CSV\", sourceFile: file });\n    }\n\n    async onAddSource(): Promise<void> {\n        const { sourceName, sourceType, sourceFile } = this.state;\n        if (!sourceName || !sourceType || !sourceFile)\n            return;\n\n        const source = await store.dispatch(createNewDataSourceAsync(sourceName, sourceType));\n        if (!source)\n            return;\n\n        if (sourceType === \"CSV\") {\n            const csv = new CSVSource(source.sourceId, sourceFile);\n            const loadResult = await csv.loadToDf();\n            const saveResult = loadResult ? await csv.saveToDB() : false;\n        }\n\n        this.hideAddSourceModal();\n    }\n\n    render(): JSX.Element {\n        const { sources } = this.props;\n        const { isAddingSource, sourceName, sourceFile } = this.state;\n\n        return (\n            <>\n                <div className=\"w-48 h-full flex flex-col bg-gray-600 justify-center\">\n                    <div className=\"p-2 text-md font-medium text-gray-300\">Data Sources</div>\n                    <Scrollbars>\n                        <div className=\"grid gap-2\">\n                            <div className=\"grid gap-2\">\n                                {sources && sources.map((source, index) => (\n                                    <SourceItem key={index} source={source} />\n                                ))}\n                            </div>\n                            <OKButton icon=\"plus\" text=\"Add Source\"\n                                className=\"text-xs w-full\"\n                                onClick={this.showAddSourceModal} />\n                        </div>\n                    </Scrollbars>\n                </div>\n                \n                <CustomModal show={isAddingSource}\n                    onHide={this.hideAddSourceModal}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Add Data Source</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={sourceName}\n                                label=\"Name\"\n                                placeholder=\"Enter source name...\"\n                                onChange={event => this.setState({sourceName: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-col mb-4\">\n                            {sourceFile && (\n                                <div className=\"flex flex-col mb-2\">\n                                    <span className=\"text-xs text-gray-600\">File</span>\n                                    <span className=\"px-2 text-sm\">{sourceFile?.name}</span>\n                                </div>\n                            )}\n                            <FileButton icon=\"plus\" text=\"Add CSV...\" accept=\".csv\"\n                                className=\"text-xs w-full\"\n                                onChange={this.onChooseCSVFile} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\"\n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.onAddSource} />\n                            <SecondaryButton text=\"Cancel\"\n                                className=\"px-2 py-1 text-xs\"\n                                onClick={this.hideAddSourceModal} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}","import cuid from \"cuid\";\nimport React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport Dropdown from \"react-overlays/esm/Dropdown\";\nimport { Link } from \"react-router-dom\";\nimport { twMerge } from \"tailwind-merge\";\nimport store from \"../app/store\";\nimport { NotebookObject } from \"../db/models\";\nimport { updateNotebookNameAsync, closeNotebookAsync, deleteNotebookAsync, createNewNotebookAsync } from \"../features/notebooks/notebookSlice\";\nimport { ContextMenuItem, CustomModal, PrimaryButton, SecondaryButton, CancelButton, Input, OKButton } from \"./CustomComponents\";\n\ntype NotebookItemProps = {\n    notebookId: string;\n    text: string;\n    className?: string;\n}\n\ntype NotebookItemState = {\n    id: string;\n    isOptions: boolean;\n    isRename: boolean;\n    isDelete: boolean;\n    renameValue: string;\n}\n\nclass NotebookItem extends React.Component<NotebookItemProps, NotebookItemState> {\n    constructor(props: NotebookItemProps) {\n        super(props);\n\n        this.state = {\n            id: cuid(),\n            isOptions: false,\n            isRename: false,\n            isDelete: false,\n            renameValue: \"\"\n        };\n\n        this.showRenameModal = this.showRenameModal.bind(this);\n        this.hideRenameModal = this.hideRenameModal.bind(this);\n        this.renameNotebook = this.renameNotebook.bind(this);\n\n        this.showDeleteModal = this.showDeleteModal.bind(this);\n        this.hideDeleteModal = this.hideDeleteModal.bind(this);\n        this.deleteNotebook = this.deleteNotebook.bind(this);\n    }\n\n    showRenameModal(): void {\n        this.setState({isRename: true, isOptions: false, renameValue: \"\"});\n    }\n\n    hideRenameModal(): void {\n        this.setState({isRename: false});\n    }\n\n    showDeleteModal(): void {\n        this.setState({isDelete: true, isOptions: false});\n    }\n\n    hideDeleteModal(): void {\n        this.setState({isDelete: false});\n    }\n\n    async renameNotebook(): Promise<void> {\n        const { notebookId } = this.props;\n        const { renameValue } = this.state;\n        if (renameValue !== \"\") {\n            await store.dispatch(updateNotebookNameAsync(notebookId, renameValue));\n            this.hideRenameModal();\n        }\n    }\n\n    async deleteNotebook(): Promise<void> {\n        const { notebookId } = this.props;\n        \n        await store.dispatch(closeNotebookAsync());\n        await store.dispatch(deleteNotebookAsync(notebookId));\n        this.hideDeleteModal();\n    }\n\n    render() {\n        const { notebookId, text, className } = this.props;\n        const { id, isOptions, isRename, renameValue, isDelete } = this.state;\n        return (\n            <>\n                <Link className={twMerge(\"transition duration-200 ease-in-out p-2 text-sm flex items-center justify-between w-full bg-gray-600 text-gray-200 hover:bg-indigo-400 hover:text-indigo-100\", className)}\n                    to={`/main/${notebookId}`}\n                    onMouseLeave={() => this.setState({isOptions: false})}>\n                    <span className=\"\">{text}</span>\n                    <div className=\"flex flex-row\">\n                        <Dropdown show={isOptions}\n                            onToggle={next => this.setState({isOptions: next})}>\n                            <div className=\"relative flex flex-row-reverse\">\n                                <Dropdown.Toggle>\n                                    {(props, meta) => (\n                                        <SecondaryButton icon=\"ellipsis-v\" \n                                            className=\"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600\"\n                                            onClick={event => {\n                                                event.preventDefault();\n                                                meta.toggle(!isOptions, event);\n                                            }} />\n                                    )}\n                                </Dropdown.Toggle>\n                                <Dropdown.Menu show={isOptions} flip={true}>\n                                    {(props) => (\n                                        <>\n                                            {isOptions && (\n                                                <div className=\"absolute z-20 shadow-lg w-32\" style={{top: \"1.5rem\"}}>\n                                                    <div onClick={event => {\n                                                        event.preventDefault();\n                                                        this.showRenameModal();\n                                                    }}>\n                                                        <ContextMenuItem text=\"Change Name\"\n                                                            icon=\"edit\" />\n                                                    </div>\n                                                    <div onClick={event => {\n                                                        event.preventDefault();\n                                                        this.showDeleteModal();\n                                                    }}>\n                                                        <ContextMenuItem text=\"Delete\"\n                                                            icon=\"trash-alt\"\n                                                            className=\"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200\" />\n                                                    </div>\n                                                </div>\n                                            ) || \n                                            !isOptions && (\n                                                <div className=\"\"></div>\n                                            )}\n                                        </>\n                                    )}\n                                </Dropdown.Menu>\n                            </div>\n                        </Dropdown>\n                    </div>\n                </Link>\n\n                <CustomModal show={isRename}\n                    onHide={() => this.hideRenameModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Rename</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{text}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={renameValue} \n                                label=\"Name\" \n                                placeholder=\"Enter notebook name...\"\n                                onChange={event => this.setState({renameValue: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.renameNotebook} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideRenameModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n\n                <CustomModal show={isDelete}\n                    onHide={() => this.hideDeleteModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium text-red-600\">Delete</h2>\n                            <h2 className=\"text-lg font-bold text-red-600\">&apos;{text}&apos;?</h2>\n                        </div>\n                        <div className=\"mb-4 w-full flex items-center\">\n                            <span className=\"text-center\">Are you sure you want to delete &apos;{text}&apos;? This action is <span className=\"text-red-600 font-bold\">irreversible.</span></span>\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <CancelButton text=\"Delete\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.deleteNotebook} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideDeleteModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}\n\ntype NotebookSidebarProps = {\n    notebooks: NotebookObject[];\n}\n\ntype NotebookSidebarState = {\n    isAddingNotebook: boolean;\n    notebookName: string;\n}\n\nexport default class NotebookSidebar extends React.Component<NotebookSidebarProps, NotebookSidebarState> {\n    constructor(props: NotebookSidebarProps) {\n        super(props);\n\n        this.state = {\n            isAddingNotebook: false,\n            notebookName: \"\"\n        };\n\n        this.showAddNotebookModal = this.showAddNotebookModal.bind(this);\n        this.hideAddNotebookModal = this.hideAddNotebookModal.bind(this);\n        this.addNotebook = this.addNotebook.bind(this);\n    }\n\n    showAddNotebookModal(): void {\n        this.setState({isAddingNotebook: true, notebookName: \"\"});\n    }\n\n    hideAddNotebookModal(): void {\n        this.setState({isAddingNotebook: false});\n    }\n\n    async addNotebook(): Promise<void> {\n        const { notebookName } = this.state;\n\n        await store.dispatch(createNewNotebookAsync(notebookName));\n        this.hideAddNotebookModal();\n    }\n\n    render(): JSX.Element {\n        const { notebooks } = this.props;\n        const { isAddingNotebook, notebookName } = this.state;\n        const sortedNotebooks = notebooks.slice().sort((a, b) => a.name.localeCompare(b.name));\n        return (\n            <>\n                <div className=\"w-48 h-full flex flex-col bg-gray-600\">\n                    <div className=\"p-2 text-md font-medium text-gray-300\">Notebooks</div>\n                    <Scrollbars>\n                        <div className=\"grid gap-2\">\n                            <div className=\"grid gap-2\">\n                                {sortedNotebooks.map((notebook, index) => (\n                                    <NotebookItem key={index} notebookId={notebook.notebookId} text={notebook.name} />\n                                ))}\n                            </div>\n                            <OKButton icon=\"plus\" text=\"Add Notebook\"\n                                className=\"text-xs w-full\"\n                                onClick={this.showAddNotebookModal} />\n                        </div>\n                    </Scrollbars>\n                </div>\n                <CustomModal show={isAddingNotebook}\n                    onHide={() => this.hideAddNotebookModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <h2 className=\"mb-4 text-lg font-medium\">Create New Notebook</h2>\n                        <div className=\"mb-4\">\n                            <Input value={notebookName}\n                                label=\"Name\"\n                                placeholder=\"Enter notebook name...\"\n                                onChange={event => this.setState({notebookName: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Create\"\n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.addNotebook} />\n                            <SecondaryButton text=\"Cancel\"\n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideAddNotebookModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}","export default class Regexes {\n    public static baseLabelRegex = /[a-zA-Z0-9-_]+/g;\n    public static labelRegex = new RegExp(`^${Regexes.baseLabelRegex.source}$`);\n    public static labelCommaRegex = new RegExp(`^(${Regexes.baseLabelRegex.source}(,|, ))*${Regexes.baseLabelRegex.source}$`);\n    public static labelSliceRegex = new RegExp(`^${Regexes.baseLabelRegex.source}:${Regexes.baseLabelRegex.source}$`);\n\n    public static baseValueRegex = /([a-zA-Z0-9-_.()?$]+|'[a-zA-Z0-9-_ ,.()?$]+')/g;\n    public static valueRegex = new RegExp(`^${Regexes.baseValueRegex.source}$`);\n    public static valueCommaRegex = new RegExp(`^(${Regexes.baseValueRegex.source}(,|, ))*${Regexes.baseValueRegex.source}$`);\n\n    public static baseLabelMapRegex = new RegExp(`(${Regexes.baseLabelRegex.source}:${Regexes.baseLabelRegex.source})`, \"g\");\n    public static labelMapRegex = new RegExp(`^(${Regexes.baseLabelMapRegex.source}(,|, ))*${Regexes.baseLabelMapRegex.source}$`);\n\n    public static baseValueMapRegex = new RegExp(`(${Regexes.baseValueRegex.source}:${Regexes.baseValueRegex.source})`, \"g\");\n    public static valueMapRegex = new RegExp(`^(${Regexes.baseValueMapRegex.source}(,|, ))*${Regexes.baseValueMapRegex.source}$`);\n\n    public static baseLabelValueMapRegex = new RegExp(`(${Regexes.baseLabelRegex.source}:${Regexes.baseValueRegex.source})`, \"g\");\n    public static labelValueMapRegex = new RegExp(`^(${Regexes.baseLabelValueMapRegex.source}(,|, ))*${Regexes.baseLabelValueMapRegex.source}$`);\n\n    public static conditionRegex = new RegExp(`^${Regexes.baseLabelRegex.source} (==|>|>=|<|<=|!=|has|start|end) ${Regexes.baseValueRegex.source}$`);\n\n    public static baseNumberRegex = /(\\d+|-\\d+)/g;\n    public static numberRegex = new RegExp(`^${Regexes.baseNumberRegex.source}$`);\n    public static numberCommaRegex = new RegExp(`^(${Regexes.baseNumberRegex.source}(,|, ))*${Regexes.baseNumberRegex.source}$`);\n    public static numberSliceRegex = new RegExp(`^${Regexes.baseNumberRegex.source}:${Regexes.baseNumberRegex.source}$`);\n\n    public static baseNumberMapRegex = new RegExp(`(${Regexes.baseNumberRegex.source}:${Regexes.baseNumberRegex.source})`, \"g\");\n    public static numberMapRegex = new RegExp(`^(${Regexes.baseNumberMapRegex.source}(,|, ))*${Regexes.baseNumberMapRegex.source}$`);\n\n    public static emptyRegex = /^$/;\n\n    public static combine = (...regexes: RegExp[]): RegExp => {\n        const map = regexes.map(regex => `(${regex.source})`);\n        return new RegExp(map.join(\"|\"));\n    }\n\n    public static isMatch = (value: string, regex: RegExp): boolean => {\n        const match = value.match(regex);\n        return match != null && match.length > 0;\n    }\n\n    public static processCommaDelimString = (value: string, baseRegex: RegExp): string[] => {\n        const result = value.match(baseRegex);\n        if (!result)\n            return [];\n        return result.map(val => val.trim());\n    }\n    \n    public static processCommaDelimNumber = (value: string, baseRegex: RegExp): number[] => {\n        const result = value.match(baseRegex);\n        if (!result)\n            return [];\n        return result.map(val => Number(val.trim()));\n    }\n}","import React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport { connect } from \"react-redux\";\nimport store, { RootState } from \"../app/store\";\nimport { NodeConnectionObject } from \"../db/models\";\nimport { setNodePropertyAsync, getNodeById, getSeparateConnectionsByNodeId, setNodeInputValueAsync, getSelectedNode, selectNodeTypeAsync } from \"../features/notebooks/notebookSlice\";\nimport NodeTypeManager from \"../managers/NodeTypeManager\";\nimport { Property, Slot } from \"../types\";\nimport Regexes from \"../utils/Regexes\";\nimport { Checkbox, Input, OKButton, PrimaryButton, SecondaryButton, TextArea } from \"./CustomComponents\";\n\ntype PropertiesSidebarProps = {\n    selectedNode: {\n        cellId: string;\n        nodeId: string;\n    } | undefined;\n    connections: {\n        fromConnections: NodeConnectionObject[];\n        toConnections: NodeConnectionObject[];\n    };\n}\n\ntype PropertiesSidebarState = {\n    properties: Property[];\n    newPropertyValues: {\n        [id: string]: {\n            isInvalid: boolean;\n            value: string | number | boolean;\n        }\n    };\n    inputs: Slot[];\n    newInputValues: {\n        [id: string]: {\n            isInvalid: boolean;\n            value: string | number | boolean;\n        }\n    }\n}\n\nconst mapStateToProps = (state: RootState) => {\n    const selectedNode = getSelectedNode(state);\n    const connections = selectedNode != null ? \n        getSeparateConnectionsByNodeId(state, selectedNode.cellId, selectedNode.nodeId) : \n        { fromConnections: [], toConnections: [] };\n    return {\n        selectedNode,\n        connections\n    };\n};\n\nclass PropertiesSidebarInner extends React.Component<PropertiesSidebarProps, PropertiesSidebarState> {\n    constructor(props: PropertiesSidebarProps) {\n        super(props);\n\n        this.state = {\n            properties: [],\n            newPropertyValues: {},\n            inputs: [],\n            newInputValues: {}\n        };\n\n        this.onStringPropertyChange = this.onStringPropertyChange.bind(this);\n        this.onNumberPropertyChange = this.onNumberPropertyChange.bind(this);\n        this.onBooleanPropertyToggle = this.onBooleanPropertyToggle.bind(this);\n\n        this.saveAllProperties = this.saveAllProperties.bind(this);\n        this.resetAllProperties = this.resetAllProperties.bind(this);\n\n        this.saveAllInputs = this.saveAllInputs.bind(this);\n        this.resetAllInputs = this.resetAllInputs.bind(this);\n    }\n\n    componentDidMount(): void {\n        this.resetAllInputs();\n        this.resetAllProperties();\n    }\n\n    componentDidUpdate(prevProps: PropertiesSidebarProps): void {\n        const { selectedNode, connections } = this.props;\n        if (selectedNode && (JSON.stringify(selectedNode) !== JSON.stringify(prevProps.selectedNode))) {\n            this.resetAllInputs();\n            this.resetAllProperties();\n        }\n\n        if (JSON.stringify(connections) !== JSON.stringify(prevProps.connections))\n            this.resetAllInputs();\n    }\n\n    async onStringInputChange(input: Slot, newValue: string): Promise<void> {\n        this.setState(prevProps => ({newInputValues: {\n            ...prevProps.newInputValues,\n            [input.id]: {\n                isInvalid: input.regex != null && !Regexes.isMatch(newValue, input.regex),\n                value: newValue\n            }\n        }}));\n    }\n\n    async onNumberInputChange(input: Slot, newValue: string): Promise<void> {\n        this.setState(prevProps => ({newInputValues: {\n            ...prevProps.newInputValues,\n            [input.id]: {\n                isInvalid: !Regexes.isMatch(newValue, Regexes.numberRegex),\n                value: Number(newValue)\n            }\n        }}));\n    }\n\n    async onBooleanInputToggle(input: Slot): Promise<void> {\n        const { newInputValues } = this.state;\n\n        const newValue = !((newInputValues[input.id].value ?? input.defaultValue) as boolean);\n        this.setState(prevProps => ({newInputValues: {\n            ...prevProps.newInputValues,\n            [input.id]: {\n                isInvalid: false,\n                value: newValue\n            }\n        }}));\n    }\n\n    async saveAllInputs(): Promise<void> {\n        const { selectedNode } = this.props;\n        const { newInputValues } = this.state;\n        if (!selectedNode)\n            return;\n        const invalidValues = Object.values(newInputValues).filter(value => value.isInvalid);\n        if (invalidValues.length > 0)\n            return;\n\n        const updateValues = (keyVal: [string, { isInvalid: boolean, value: string | number | boolean }]): Promise<void> => {\n            return store.dispatch(setNodeInputValueAsync(selectedNode.cellId, selectedNode.nodeId, keyVal[0], keyVal[1].value));\n        };\n        const actions = Object.entries(newInputValues).map(updateValues);\n        await Promise.all(actions);\n        this.resetAllInputs();\n    }\n\n    resetAllInputs(): void { \n        const { selectedNode, connections } = this.props;\n\n        if (!selectedNode)\n            return;\n\n        const node = getNodeById(store.getState(), selectedNode.cellId, selectedNode.nodeId);\n        if (!node)\n            return;\n        \n        const nodeType = NodeTypeManager.getType(node.type);\n        if (!nodeType)\n            return;\n\n        const inputs: Slot[] = [];\n        nodeType.inputSlots.forEach(input => {\n            let inputObj: Slot = input;\n            // Hide input values from the sidebar if that slot is connected\n            const connIndex = connections.toConnections.findIndex(conn => conn.toSlotId === input.id);\n            if (connIndex >= 0)\n                return;\n\n            const valIndex = node.inputValues.findIndex(val => val.id === input.id);\n            if (valIndex >= 0) {\n                const nodeSlot = node.inputValues[valIndex];\n                if (typeof nodeSlot.value !== \"string\" &&\n                    typeof nodeSlot.value !== \"number\" && \n                    typeof nodeSlot.value !== \"boolean\")\n                    return;\n                        \n                inputObj = { \n                    ...input,\n                    defaultValue: nodeSlot.value\n                };\n            }\n\n            if (inputObj.defaultValue != null)\n                inputs.push(inputObj);\n        });\n        this.setState({inputs, newInputValues: {}});\n    }\n\n    async onStringPropertyChange(property: Property, newValue: string): Promise<void> {\n        this.setState(prevProps => ({newPropertyValues: {\n            ...prevProps.newPropertyValues,\n            [property.id]: {\n                isInvalid: property.regex != null && !Regexes.isMatch(newValue, property.regex),\n                value: newValue\n            }\n        }}));\n    }\n\n    async onNumberPropertyChange(property: Property, newValue: string): Promise<void> {\n        this.setState(prevProps => ({newPropertyValues: {\n            ...prevProps.newPropertyValues,\n            [property.id]: {\n                isInvalid: !Regexes.isMatch(newValue, Regexes.numberRegex),\n                value: Number(newValue)\n            }\n        }}));\n    }\n\n    async onBooleanPropertyToggle(property: Property): Promise<void> {\n        const { newPropertyValues } = this.state;\n\n        const newValue = !((newPropertyValues[property.id]?.value ?? property.defaultValue) as boolean);\n        this.setState(prevProps => ({newPropertyValues: {\n            ...prevProps.newPropertyValues,\n            [property.id]: {\n                isInvalid: false,\n                value: newValue\n            }\n        }}));\n    }\n\n    async saveAllProperties(): Promise<void> {\n        const { selectedNode } = this.props;\n        const { newPropertyValues } = this.state;\n        if (!selectedNode)\n            return;\n        const invalidValues = Object.values(newPropertyValues).filter(value => value.isInvalid);\n        if (invalidValues.length > 0)\n            return;\n\n        const updateValues = (keyVal: [string, { isInvalid: boolean, value: string | number | boolean }]): Promise<void> => {\n            return store.dispatch(setNodePropertyAsync(selectedNode.cellId, selectedNode.nodeId, keyVal[0], keyVal[1].value));\n        };\n        const actions = Object.entries(newPropertyValues).map(updateValues);\n        await Promise.all(actions);\n        this.resetAllProperties();\n    }\n\n    resetAllProperties(): void {\n        const { selectedNode } = this.props;\n\n        if (!selectedNode)\n            return;\n\n        const node = getNodeById(store.getState(), selectedNode.cellId, selectedNode.nodeId);\n        if (!node)\n            return;\n        \n        const nodeType = NodeTypeManager.getType(node.type);\n        if (!nodeType)\n            return;\n\n        const properties: Property[] = [];\n        nodeType.properties.forEach(property => {\n            let prop: Property = property;\n            const propIndex = node.properties.findIndex(prop => prop.id === property.id);\n            if (propIndex >= 0) {\n                const nodeProperty = node.properties[propIndex];\n                prop = { \n                    ...property,\n                    defaultValue: nodeProperty.value\n                };\n            }\n\n            if (prop.defaultValue != null && !prop.isHidden)\n                properties.push(prop);\n        });\n        this.setState({properties, newPropertyValues: {}});\n    }\n\n    render(): JSX.Element {\n        const { selectedNode } = this.props;\n        const { inputs, newInputValues, properties, newPropertyValues } = this.state;\n        const propertyInvalidValues = Object.values(newPropertyValues).filter(value => value.isInvalid);\n        const isPropertyDisabled = propertyInvalidValues.length > 0 || Object.keys(newPropertyValues).length === 0;\n        const inputInvalidValues = Object.values(newInputValues).filter(value => value.isInvalid);\n        const isInputDisabled = inputInvalidValues.length > 0 || Object.keys(newInputValues).length === 0;\n\n        const node = selectedNode != null ? getNodeById(store.getState(), selectedNode.cellId, selectedNode.nodeId) : undefined;\n        const type = node != null ? NodeTypeManager.getType(node.type) : undefined;\n        return (\n            <div className=\"w-48 h-full flex flex-col bg-gray-600\">\n                {node != null && type != null && !type.isHiddenFromList && (\n                    <div className=\"p-2 w-full\">\n                        <PrimaryButton icon=\"question\"\n                            text=\"Help\"\n                            className=\"w-full justify-center text-sm p-1\"\n                            onClick={async () => await store.dispatch(selectNodeTypeAsync(node.type))} />\n                    </div>\n                )}\n                <div className=\"p-2 text-md font-medium text-gray-300\">Node Inputs</div>\n                <Scrollbars autoHeight autoHeightMax=\"100%\">\n                    <div className=\"\">\n                        {selectedNode && (\n                            <>\n                                {inputs.map((input, index) => (\n                                    <div key={`${selectedNode.nodeId}-${input.id}`} className=\"flex flex-row items-center justify-between px-2 pb-3\">\n                                        <div className=\"pr-4 flex flex-col justify-center text-sm text-gray-200\">\n                                            <span className=\"font-medium\">{input.id}</span>\n                                            <span className=\"text-xs\" style={{marginTop: \"-0.25rem\"}}>{input.type}</span>\n                                        </div>\n                                        {input.type === \"string\" && (\n                                            <TextArea value={(newInputValues[input.id]?.value != null ? newInputValues[input.id].value : input.defaultValue) as string}\n                                                className=\"py-0\"\n                                                regex={input.regex}\n                                                onChange={async event => {\n                                                    const value = event.target.value;\n                                                    await this.onStringInputChange(input, value);\n                                                }} />\n                                        ) ||\n                                        input.type === \"number\" && (\n                                            <Input value={`${(newInputValues[input.id]?.value ?? input.defaultValue) as number}`}\n                                                className=\"py-0\"\n                                                regex={input.regex ?? Regexes.numberRegex}\n                                                placeholder=\"Number\"\n                                                onChange={async event => {\n                                                    const value = event.target.value;\n                                                    await this.onNumberInputChange(input, value);\n                                                }} />\n                                        ) ||\n                                        input.type === \"boolean\" && (\n                                            <Checkbox value={(newInputValues[input.id]?.value ?? input.defaultValue) as boolean}\n                                                onToggle={async () => await this.onBooleanInputToggle(input)} />\n                                        )}\n                                    </div>\n                                ))}\n                                {inputs.length > 0 && (\n                                    <div className=\"flex flex-row justify-center text-xs px-4 mt-1\">\n                                        <OKButton icon=\"save\" text=\"Save All\"\n                                            className=\"mr-2\"\n                                            isDisabled={isInputDisabled}\n                                            onClick={this.saveAllInputs} />\n\n                                        <SecondaryButton icon=\"redo-alt\"\n                                            className=\"px-3 hover:bg-gray-500\"\n                                            onClick={this.resetAllInputs} />\n                                    </div>\n                                )}\n                            </>\n                        )}\n                    </div>\n                </Scrollbars>\n                <div className=\"mt-4 p-2 text-md font-medium text-gray-300\">Node Properties</div>\n                <Scrollbars autoHeight autoHeightMax=\"100%\">\n                    <div className=\"\">\n                        {selectedNode && (\n                            <>\n                                {properties.map((property, index) => (\n                                    <div key={`${selectedNode.nodeId}-${property.id}`} className=\"flex flex-row items-center justify-between px-2 pb-3\">\n                                        <div className=\"pr-4 flex flex-col justify-center text-sm text-gray-200\">\n                                            <span className=\"font-medium\">{property.id}</span>\n                                            <span className=\"text-xs\" style={{marginTop: \"-0.25rem\"}}>{property.type}</span>\n                                        </div>\n                                        {property.type === \"string\" && (\n                                            <TextArea value={(newPropertyValues[property.id]?.value != null ? newPropertyValues[property.id].value : property.defaultValue) as string}\n                                                className=\"py-0\"\n                                                readonly={property.isReadOnly}\n                                                regex={property.regex}\n                                                onChange={async event => {\n                                                    const input = event.target.value;\n                                                    await this.onStringPropertyChange(property, input);\n                                                }} />\n                                        ) ||\n                                        property.type === \"number\" && (\n                                            <Input value={`${(newPropertyValues[property.id]?.value ?? property.defaultValue) as number}`}\n                                                className=\"py-0\"\n                                                readonly={property.isReadOnly}\n                                                regex={Regexes.numberRegex}\n                                                placeholder=\"Number\"\n                                                onChange={async event => {\n                                                    const input = event.target.value;\n                                                    await this.onNumberPropertyChange(property, input);\n                                                }} />\n                                        ) ||\n                                        property.type === \"boolean\" && (\n                                            <Checkbox value={(newPropertyValues[property.id]?.value ?? property.defaultValue) as boolean}\n                                                onToggle={async () => await this.onBooleanPropertyToggle(property)} />\n                                        )}\n                                    </div>\n                                ))}\n                                {properties.length > 0 && (\n                                    <div className=\"flex flex-row justify-center text-xs px-4 mt-1\">\n                                        <OKButton icon=\"save\" text=\"Save All\"\n                                            className=\"mr-2\"\n                                            isDisabled={isPropertyDisabled}\n                                            onClick={this.saveAllProperties} />\n\n                                        <SecondaryButton icon=\"redo-alt\"\n                                            className=\"px-3 hover:bg-gray-500\"\n                                            onClick={this.resetAllProperties} />\n                                    </div>\n                                )}\n                            </>\n                        )}\n                    </div>\n                </Scrollbars>\n            </div>\n        );\n    }\n}\n\nconst PropertiesSidebar = connect(mapStateToProps)(PropertiesSidebarInner);\nexport default PropertiesSidebar;","import React from \"react\";\nimport store, { RootState } from \"../app/store\";\nimport { fetchNotebookDetailsAsync } from \"../features/notebooks/notebookSlice\";\nimport { NotebookObject } from \"../db/models\";\nimport { connect } from \"react-redux\";\nimport { SecondaryButton } from \"./CustomComponents\";\nimport SourceSidebar from \"./SourceSidebar\";\nimport NotebookSidebar from \"./NotebookSidebar\";\nimport PropertiesSidebar from \"./PropertiesSidebar\";\nimport VariableSidebar from \"./VariableSidebar\";\n\nenum SidebarTabState {\n    Notebooks,\n    Sources,\n    Variables,\n    Properties,\n    None\n}\n\ntype SidebarProps = {\n    notebooks: NotebookObject[];\n    currentNotebook: NotebookObject | undefined;\n    selectedNode: {\n        cellId: string;\n        nodeId: string;\n    } | undefined;\n}\n\ntype SidebarState = {\n    currentState: SidebarTabState;\n}\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        notebooks: state.notebook.notebookDetails,\n        currentNotebook: state.notebook.currentNotebook,\n        selectedNode: state.notebook.selectedNode\n    };\n};\n\nclass SidebarInner extends React.Component<SidebarProps, SidebarState> {\n    constructor(props: SidebarProps) {\n        super(props);\n\n        this.state = {\n            currentState: SidebarTabState.Notebooks\n        };\n\n        this.onNotebookTabClick = this.onNotebookTabClick.bind(this);\n        this.onSourcesTabClick = this.onSourcesTabClick.bind(this);\n        this.onVariablesTabClick = this.onVariablesTabClick.bind(this);\n        this.onPropertiesTabClick = this.onPropertiesTabClick.bind(this);\n    }\n\n    async componentDidMount(): Promise<void> {\n        await store.dispatch(fetchNotebookDetailsAsync());\n    }\n\n    componentDidUpdate(prevProps: SidebarProps) {\n        const { selectedNode } = this.props;\n        if (selectedNode && (JSON.stringify(selectedNode) !== JSON.stringify(prevProps.selectedNode)) && (this.state.currentState !== SidebarTabState.Properties))\n            this.setState({currentState: SidebarTabState.Properties});\n    }\n\n    onNotebookTabClick(): void {\n        const { currentState } = this.state;\n        const newState = currentState === SidebarTabState.Notebooks ? SidebarTabState.None : SidebarTabState.Notebooks;\n        this.setState({currentState: newState});\n    }\n\n    onSourcesTabClick(): void {\n        const { currentState } = this.state;\n        const newState = currentState === SidebarTabState.Sources ? SidebarTabState.None : SidebarTabState.Sources;\n        this.setState({currentState: newState});\n    }\n\n    onVariablesTabClick(): void {\n        const { currentState } = this.state;\n        const newState = currentState === SidebarTabState.Variables ? SidebarTabState.None : SidebarTabState.Variables;\n        this.setState({currentState: newState});\n    }\n\n    onPropertiesTabClick(): void {\n        const { currentState } = this.state;\n        const newState = currentState === SidebarTabState.Properties ? SidebarTabState.None : SidebarTabState.Properties;\n        this.setState({currentState: newState});\n    }\n\n    render(): JSX.Element {\n        const { notebooks, currentNotebook } = this.props;\n        const { currentState } = this.state;\n        const sources = currentNotebook?.sources;\n        const variables = currentNotebook?.variables;\n\n        return (\n            <div className=\"flex flex-row\">\n                <div className=\"w-10 h-full flex flex-col bg-gray-700\">\n                    <SecondaryButton icon=\"copy\"\n                        className={`justify-center mb-2 text-2xl p-0 px-2 py-4 hover:bg-gray-500 ${currentState === SidebarTabState.Notebooks ? \"bg-gray-600\" : \"\"}`}\n                        onClick={this.onNotebookTabClick} />\n                    {currentNotebook && (\n                        <>\n                            <SecondaryButton icon=\"sign-in-alt\"\n                                className={`justify-center text-2xl p-0 px-2 py-4 hover:bg-gray-500 ${currentState === SidebarTabState.Sources ? \"bg-gray-600\" : \"\"}`}\n                                onClick={this.onSourcesTabClick} />\n                            <SecondaryButton icon=\"superscript\"\n                                className={`justify-center text-2xl p-0 px-2 py-4 hover:bg-gray-500 ${currentState === SidebarTabState.Variables ? \"bg-gray-600\" : \"\"}`}\n                                onClick={this.onVariablesTabClick} />\n                            <SecondaryButton icon=\"cogs\"\n                                className={`justify-center text-2xl p-0 px-2 py-4 hover:bg-gray-500 ${currentState === SidebarTabState.Properties ? \"bg-gray-600\" : \"\"}`}\n                                onClick={this.onPropertiesTabClick} />\n                        </>\n                    )}\n                </div>\n                {currentState === SidebarTabState.Notebooks && (\n                    <NotebookSidebar notebooks={notebooks} />\n                ) || \n                currentState === SidebarTabState.Sources && currentNotebook && (\n                    <SourceSidebar sources={sources} />\n                ) ||\n                currentState === SidebarTabState.Variables && currentNotebook && (\n                    <VariableSidebar variables={variables} />\n                ) ||\n                currentState === SidebarTabState.Properties && currentNotebook && (\n                    <PropertiesSidebar />\n                )}\n            </div>\n        );\n    }\n}\n\nconst Sidebar = connect(mapStateToProps)(SidebarInner);\nexport default Sidebar;","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport Dropdown from \"react-overlays/esm/Dropdown\";\nimport store from \"../app/store\";\nimport { CSVSource } from \"../data/DataService\";\nimport { VariableObject } from \"../db/models\";\nimport { createNewVariableAsync, deleteVariableAsync, setIsDraggingVariableAsync, updateVariableNameAsync, updateVariableValueAsync } from \"../features/notebooks/notebookSlice\";\nimport NodeExecManager from \"../managers/NodeExecManager\";\nimport { DataFrameOutput, DropdownItem } from \"../types\";\nimport { isTypeEqual, Types, VariableKeys, VariableType } from \"../utils/Types\";\nimport { OKButton, CustomModal, PrimaryButton, SecondaryButton, Input, ContextMenuItem, Dropdown as CustomDropdown, TextArea, Checkbox, CancelButton } from \"./CustomComponents\";\nimport { ShowResult } from \"./NodeCell\";\n\ntype VariableItemProps = {\n    variable: VariableObject;\n}\n\ntype VariableItemState = {\n    isOptions: boolean;\n    isRename: boolean;\n    renameValue: string;\n    isDelete: boolean;\n    isChangeValue: boolean;\n    isPreview: boolean;\n    preview: DataFrameOutput;\n    newValue: string | number | boolean;\n}\n\nclass VariableItem extends React.Component<VariableItemProps, VariableItemState> {\n    constructor(props: VariableItemProps) {\n        super(props);\n\n        this.state = {\n            isOptions: false,\n            isRename: false,\n            renameValue: \"\",\n            isDelete: false,\n            isChangeValue: false,\n            newValue: 0,\n            isPreview: false,\n            preview: {\n                type: \"dataframe\",\n                outputOrder: 0,\n                columns: [],\n                indexes: [],\n                values: []\n            }\n        };\n\n        this.onDragVariableStart = this.onDragVariableStart.bind(this);\n\n        this.showRenameModal = this.showRenameModal.bind(this);\n        this.hideRenameModal = this.hideRenameModal.bind(this);\n        this.renameVariable = this.renameVariable.bind(this);\n\n        this.showDeleteModal = this.showDeleteModal.bind(this);\n        this.hideDeleteModal = this.hideDeleteModal.bind(this);\n        this.deleteVariable = this.deleteVariable.bind(this);\n\n        this.showChangeValueModal = this.showChangeValueModal.bind(this);\n        this.hideChangeValueModal = this.hideChangeValueModal.bind(this);\n        this.onStringValueChange = this.onStringValueChange.bind(this);\n        this.onNumberValueChange = this.onNumberValueChange.bind(this);\n        this.onBooleanValueToggle = this.onBooleanValueToggle.bind(this);\n        this.changeValue = this.changeValue.bind(this);\n\n        this.showPreviewModal = this.showPreviewModal.bind(this);\n        this.hidePreviewModal = this.hidePreviewModal.bind(this);\n    }\n\n    async onDragVariableStart(event: React.DragEvent<HTMLDivElement>, type: \"get\" | \"set\", variable: VariableObject): Promise<void> {\n        event.stopPropagation();\n        await store.dispatch(setIsDraggingVariableAsync(true));\n\n        const data = { dataType: \"variable\", type, variable };\n        event.dataTransfer.setData(\"text/plain\", JSON.stringify(data));\n    }\n\n    showRenameModal(): void {\n        this.setState({isRename: true, isOptions: false, renameValue: \"\"});\n    }\n\n    hideRenameModal(): void {\n        this.setState({isRename: false});\n    }\n\n    async renameVariable(): Promise<void> {\n        const { variable } = this.props;\n        const { renameValue } = this.state;\n        if (renameValue !== \"\") {\n            await store.dispatch(updateVariableNameAsync(variable.variableId, renameValue));\n            this.hideRenameModal();\n        }\n    }\n\n    showDeleteModal(): void {\n        this.setState({isDelete: true, isOptions: false});\n    }\n\n    hideDeleteModal(): void {\n        this.setState({isDelete: false});\n    }\n\n    async deleteVariable(): Promise<void> {\n        const { variable } = this.props;\n        this.setState({isOptions: false});\n        await store.dispatch(deleteVariableAsync(variable.variableId));\n        this.hideDeleteModal();\n    }\n\n    showChangeValueModal(): void {\n        const { variable } = this.props;\n        console.log(`${variable.type} ${Types.String}`);\n        if (!isTypeEqual(variable.type, Types.String) &&\n            !isTypeEqual(variable.type, Types.Number) &&\n            !isTypeEqual(variable.type, Types.Boolean))\n            return;\n            \n        let newValue: string | number | boolean | undefined = variable.value;\n        if (newValue == null) {\n            if (isTypeEqual(variable.type, Types.String))\n                newValue = \"\";\n            else if (isTypeEqual(variable.type, Types.Number))\n                newValue = 0;\n            else if (isTypeEqual(variable.type, Types.Boolean))\n                newValue = false;\n        }\n\n        if (newValue == null)\n            return;\n\n        this.setState({isChangeValue: true, isOptions: false, newValue});\n    }\n\n    hideChangeValueModal(): void {\n        this.setState({isChangeValue: false});\n    }\n\n    async onStringValueChange(newValue: string): Promise<void> {\n        this.setState({ newValue });\n    }\n\n    async onNumberValueChange(newValue: string): Promise<void> {\n        this.setState({ newValue: Number(newValue) ?? 0 });\n    }\n\n    async onBooleanValueToggle(): Promise<void> {\n        this.setState(prevState => ({ newValue: !prevState.newValue }));\n    }\n\n    async changeValue(): Promise<void> {\n        const { variable } = this.props;\n        const { newValue } = this.state;\n        \n        await store.dispatch(updateVariableValueAsync(variable.variableId, newValue));\n        this.hideChangeValueModal();\n    }\n\n    showPreviewModal(): void {\n        const { variable } = this.props;\n        if (!isTypeEqual(variable.type, Types.DataFrame))\n            return;\n\n        const output: DataFrameOutput = {\n            type: \"dataframe\",\n            outputOrder: 0,\n            columns: [],\n            indexes: [],\n            values: []\n        };\n\n        const rowCount = 0;\n        const varDf = NodeExecManager.getVariable(variable.variableId);\n        if (!varDf)\n            return;\n\n        const df =  varDf as DataFrame;\n        const head = (df.shape[0] >= rowCount && rowCount > 0) ? df.head(rowCount) : df;\n        let values: string[][];\n        if (head.columns.length > 1) {\n            values = head.values.map(value1 => {\n                const val1 = value1 as string[] | (string | number | boolean)[] | number[] | boolean[];\n                return val1.map(value2 => `${value2}`);\n            });\n        } else {\n            values = head.values.map(value => {\n                const val = value as string | number | boolean;\n                return [`${val}`];\n            });\n        }\n\n        output.columns = df.columns,\n        output.values = values;\n\n        this.setState({isPreview: true, isOptions: false, preview: output});\n    }\n\n    hidePreviewModal(): void {\n        const output: DataFrameOutput = {\n            type: \"dataframe\",\n            outputOrder: 0,\n            columns: [],\n            indexes: [],\n            values: []\n        };\n\n        this.setState({isPreview: false, preview: output});\n    }\n\n    render(): JSX.Element {\n        const { variable } = this.props;\n        const { isOptions, isRename, renameValue, isDelete, isChangeValue, newValue, isPreview, preview } = this.state;\n        return (\n            <>\n                <div className=\"transition duration-200 ease-in-out flex flex-row items-center justify-between p-2 text-sm text-gray-200 hover:bg-indigo-400 hover:text-indigo-100 select-none\"\n                    onMouseLeave={() => this.setState({isOptions: false})}>\n                    <div className=\"flex flex-col\">\n                        <span className=\"font-medium\">{variable.name}</span>\n                        <span className=\"text-xs\" style={{marginTop: \"-0.25rem\"}}>{variable.type}</span>\n                    </div>\n                    <div className=\"flex flex-row items-center\">\n                        <div className=\"flex flex-col\">\n                            <div className=\"transition duration-200 ease-in-out flex items-center text-sm px-1 mr-2 mb-1 bg-transparent hover:bg-indigo-600 cursor-move\"\n                                draggable\n                                onDragStart={async event => await this.onDragVariableStart(event, \"get\", variable)}\n                                onDragEnd={async () => await store.dispatch(setIsDraggingVariableAsync(false))}>\n                                <FontAwesomeIcon icon=\"arrows-alt\"\n                                    className=\"mr-1\" />\n                                <span className=\"\">Get</span>\n                            </div>\n                            <div className=\"transition duration-200 ease-in-out flex items-center text-sm px-1 mr-2 bg-transparent hover:bg-indigo-600 cursor-move\"\n                                draggable\n                                onDragStart={async event => await this.onDragVariableStart(event, \"set\", variable)}\n                                onDragEnd={async () => await store.dispatch(setIsDraggingVariableAsync(false))}>\n                                <FontAwesomeIcon icon=\"arrows-alt\"\n                                    className=\"mr-1\" />\n                                <span className=\"\">Set</span>\n                            </div>\n                        </div>\n                        <Dropdown show={isOptions}\n                            onToggle={next => this.setState({isOptions: next})}>\n                            <div className=\"relative flex flex-row-reverse\">\n                                <Dropdown.Toggle>\n                                    {(props, meta) => (\n                                        <SecondaryButton icon=\"ellipsis-v\" \n                                            className=\"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600\"\n                                            onClick={event => meta.toggle(!isOptions, event)} />\n                                    )}\n                                </Dropdown.Toggle>\n                                <Dropdown.Menu show={isOptions} flip={true}>\n                                    {(props) => (\n                                        <>\n                                            {isOptions && (\n                                                <div className=\"absolute z-20 shadow-lg w-32\" style={{top: \"1.5rem\"}}>\n                                                    {isTypeEqual(variable.type, Types.DataFrame) && (\n                                                        <div onClick={this.showPreviewModal}>\n                                                            <ContextMenuItem text=\"Preview\"\n                                                                icon=\"search\" />\n                                                        </div>\n                                                    )}\n                                                    <div onClick={this.showRenameModal}>\n                                                        <ContextMenuItem text=\"Change Name\"\n                                                            icon=\"edit\" />\n                                                    </div>\n                                                    {(isTypeEqual(variable.type, Types.String) || isTypeEqual(variable.type, Types.Number) || isTypeEqual(variable.type, Types.Boolean)) && (\n                                                        <div onClick={this.showChangeValueModal}>\n                                                            <ContextMenuItem text=\"Change Value\"\n                                                                icon=\"pencil-alt\" />\n                                                        </div>\n                                                    )}\n                                                    <div onClick={this.showDeleteModal}>\n                                                        <ContextMenuItem text=\"Delete\"\n                                                            icon=\"trash-alt\"\n                                                            className=\"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200\" />\n                                                    </div>\n                                                </div>\n                                            ) || \n                                            !isOptions && (\n                                                <div className=\"\"></div>\n                                            )}\n                                        </>\n                                    )}\n                                </Dropdown.Menu>\n                            </div>\n                        </Dropdown>\n                    </div>\n                </div>\n\n                <CustomModal show={isRename}\n                    onHide={() => this.hideRenameModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Rename</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{variable.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={renameValue} \n                                label=\"Name\" \n                                placeholder=\"Enter variable name...\"\n                                onChange={event => this.setState({renameValue: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.renameVariable} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideRenameModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n\n                <CustomModal show={isDelete}\n                    onHide={() => this.hideDeleteModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium text-red-600\">Delete</h2>\n                            <h2 className=\"text-lg font-bold text-red-600\">&apos;{variable.name}&apos;?</h2>\n                        </div>\n                        <div className=\"mb-4 w-full flex items-center\">\n                            <span className=\"text-center\">Are you sure you want to delete the variable &apos;{variable.name}&apos;? This action is <span className=\"text-red-600 font-bold\">irreversible</span> and might break any nodes using this variable.</span>\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <CancelButton text=\"Delete\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.deleteVariable} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideDeleteModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n\n                <CustomModal show={isChangeValue}\n                    onHide={() => this.hideChangeValueModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Change Value</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{variable.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            {isTypeEqual(variable.type, Types.String) && (\n                                <TextArea value={newValue as string}\n                                    className=\"\"\n                                    label=\"New Value\"\n                                    onChange={async event => {\n                                        const input = event.target.value;\n                                        await this.onStringValueChange(input);\n                                    }} />\n                            ) ||\n                            isTypeEqual(variable.type, Types.Number) && (\n                                <Input value={`${newValue as number}`}\n                                    className=\"\"\n                                    label=\"New Value\"\n                                    placeholder=\"Number\"\n                                    onChange={async event => {\n                                        const input = event.target.value;\n                                        await this.onNumberValueChange(input);\n                                    }} />\n                            ) ||\n                            isTypeEqual(variable.type, Types.Boolean) && (\n                                <Checkbox value={newValue as boolean}\n                                    label=\"New Value\"\n                                    onToggle={async () => await this.onBooleanValueToggle()} />\n                            )}\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.changeValue} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideChangeValueModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n                \n                <CustomModal show={isPreview}\n                    onHide={() => this.hidePreviewModal()}>\n                    <div className=\"p-4 bg-gray-100\" \n                        style={{width: \"75%\"}}>\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Preview</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{variable.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <ShowResult result={preview} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <SecondaryButton text=\"Close\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hidePreviewModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}\n\ntype VariableSidebarProps = {\n    variables?: VariableObject[];\n}\n\ntype VariableSidebarState = {\n    isAddingVariable: boolean;\n    variableName: string;\n    variableType: VariableType | undefined;\n}\n\nexport default class VariableSidebar extends React.Component<VariableSidebarProps, VariableSidebarState> {\n    constructor(props: VariableSidebarProps) {\n        super(props);\n\n        this.state = {\n            isAddingVariable: false,\n            variableName: \"\",\n            variableType: undefined\n        };\n\n        this.showAddVariableModal = this.showAddVariableModal.bind(this);\n        this.hideAddVariableModal = this.hideAddVariableModal.bind(this);\n\n        this.onAddVariable = this.onAddVariable.bind(this);\n    }\n\n    showAddVariableModal(): void {\n        this.setState({isAddingVariable: true, variableName: \"\", variableType: undefined});\n    }\n\n    hideAddVariableModal(): void {\n        this.setState({isAddingVariable: false});\n    }\n\n    async onAddVariable(): Promise<void> {\n        const { variableName, variableType } = this.state;\n        if (!variableName || !variableType)\n            return;\n\n        const variable = await store.dispatch(createNewVariableAsync(variableName, variableType));\n        if (!variable)\n            return;\n\n        this.hideAddVariableModal();\n    }\n\n    render(): JSX.Element {\n        const { variables } = this.props;\n        const { isAddingVariable, variableName } = this.state;\n        const variableOptions: DropdownItem[] = [];\n        VariableKeys.forEach(key => {\n            variableOptions.push({ value: key, label: key });\n        });\n        return (\n            <>\n                <div className=\"w-48 h-full flex flex-col bg-gray-600 justify-center\">\n                    <div className=\"p-2 text-md font-medium text-gray-300\">Variables</div>\n                    <Scrollbars>\n                        <div className=\"grid gap-2\">\n                            <div className=\"grid gap-2\">\n                                {variables && variables.map((variable, index) => (\n                                    <VariableItem key={index} variable={variable} />\n                                ))}\n                            </div>\n                            <OKButton icon=\"plus\" text=\"Add Variable\"\n                                className=\"text-xs w-full\"\n                                onClick={this.showAddVariableModal} />\n                        </div>\n                    </Scrollbars>\n                </div>\n                \n                <CustomModal show={isAddingVariable}\n                    onHide={this.hideAddVariableModal}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Add Variable</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={variableName}\n                                label=\"Name\"\n                                placeholder=\"Enter variable name...\"\n                                onChange={event => this.setState({variableName: event.target.value})} />\n                        </div>\n                        <div className=\"mb-4\">\n                            <CustomDropdown label=\"Type\"\n                                options={variableOptions}\n                                onChange={newValue => {\n                                    if (!newValue)\n                                        return;\n\n                                    this.setState({variableType: newValue.value as VariableType});\n                                }} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\"\n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.onAddVariable} />\n                            <SecondaryButton text=\"Cancel\"\n                                className=\"px-2 py-1 text-xs\"\n                                onClick={this.hideAddVariableModal} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}","import React from \"react\";\nimport store from \"../app/store\";\nimport DBService from \"../db/DBService\";\nimport { UserObject } from \"../db/models\";\nimport { getCurrentUser, removeCurrentOfflineUserAsync } from \"../features/users/userSlice\";\nimport { CancelButton, OKButton } from \"./CustomComponents\";\nimport logo from \"../assets/nodebooks-logo-low-3.png\";\n\ntype TopbarProps = {\n\n}\n\ntype TopbarState = {\n    user: UserObject | undefined;\n}\n\nexport default class Topbar extends React.Component<TopbarProps, TopbarState> {\n    constructor(props: TopbarProps) {\n        super(props);\n\n        this.state = {\n            user: undefined\n        };\n    }\n\n    async componentDidMount(): Promise<void> {\n        const user = getCurrentUser(store.getState());\n        this.setState({user});\n    }\n\n    render(): JSX.Element {\n        const { user } = this.state;\n        \n        return (\n            <div className=\"w-screen h-16 flex flex-row justify-between items-center bg-gray-800 text-gray-200\">\n                <div className=\"pl-3 flex items-center\">\n                    <div className=\"w-40\">\n                        <img src={logo} />\n                    </div>\n                </div>\n\n                {user && (\n                    <div className=\"flex flex-row items-center px-4\">\n                        <span className=\"mr-4\">{user.name}</span>\n                        <CancelButton icon=\"sign-out-alt\"\n                            tooltip=\"Sign Out\"\n                            onClick={async () => await store.dispatch(removeCurrentOfflineUserAsync())} />\n                        {/*\n                        <OKButton icon=\"download\"\n                            tooltip=\"Download DB\"\n                            onClick={async () => {\n                                const saveFile = async (blob: Blob) => {\n                                    const a = document.createElement(\"a\");\n                                    a.download = \"exported-db.json\";\n                                    a.href = URL.createObjectURL(blob);\n                                    a.addEventListener(\"click\", (e) => {\n                                        setTimeout(() => URL.revokeObjectURL(a.href), 30 * 1000);\n                                    });\n                                    a.click();\n                                };\n                                const json = await DBService.db?.exportDatabase() ?? \"\";\n                                const blob = new Blob([json], { type: \"application/json\" });\n                                await saveFile(blob);\n                            }} />\n                        */}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport { Route, Switch, useParams } from \"react-router\";\nimport Notebook from \"../components/Notebook\";\nimport Sidebar from \"../components/Sidebar\";\nimport Topbar from \"../components/Topbar\";\n\ntype MainPageProps = {\n\n}\n\ntype MainPageState = {\n\n}\n\nexport default class MainPage extends React.Component<MainPageProps, MainPageState> {\n    constructor(props: MainPageProps) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    render(): JSX.Element {\n        return (\n            <div className=\"flex flex-col w-screen h-screen\">\n                <Topbar />\n                <div className=\"flex flex-row h-full\">\n                    <Sidebar />\n                    <div className=\"flex flex-col w-full\">\n                        <Switch>\n                            <Route exact path=\"/main/:id\" component={NotebookWrapper} />\n                        </Switch>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\ntype Params = {\n    id: string;\n}\n\nfunction NotebookWrapper(): JSX.Element {\n    const { id } = useParams<Params>();\n    return (\n        <Notebook id={id} />\n    );\n}","import React from \"react\";\nimport Dropdown from \"react-overlays/esm/Dropdown\";\nimport { connect } from \"react-redux\";\nimport store, { RootState } from \"../app/store\";\nimport { CancelButton, ContextMenuItem, CustomModal, Input, OKButton, PrimaryButton, SecondaryButton } from \"../components/CustomComponents\";\nimport { UserObject } from \"../db/models\";\nimport { createNewUserAsync, deleteOfflineUserAsync, fetchOfflineUsersAsync, getUserList, setCurrentOfflineUserAsync, updateUserNameAsync } from \"../features/users/userSlice\";\n\ntype UserItemProps = {\n    user: UserObject;\n}\n\ntype UserItemState = {\n    isOptions: boolean;\n    isRename: boolean;\n    renameValue: string;\n    isDelete: boolean;\n}\n\nclass UserItem extends React.Component<UserItemProps, UserItemState> {\n    constructor(props: UserItemProps) {\n        super(props);\n\n        this.state = {\n            isOptions: false,\n            isRename: false,\n            renameValue: \"\",\n            isDelete: false\n        };\n\n        this.showRenameModal = this.showRenameModal.bind(this);\n        this.hideRenameModal = this.hideRenameModal.bind(this);\n        this.renameUser = this.renameUser.bind(this);\n\n        this.showDeleteModal = this.showDeleteModal.bind(this);\n        this.hideDeleteModal = this.hideDeleteModal.bind(this);\n        this.deleteUser = this.deleteUser.bind(this);\n    }\n\n    showRenameModal(): void {\n        this.setState({isOptions: false, isRename: true, renameValue: \"\"});\n    }\n\n    hideRenameModal(): void {\n        this.setState({isRename: false});\n    }\n\n    async renameUser(): Promise<void> {\n        const { user } = this.props;\n        const { renameValue } = this.state;\n        if (!renameValue)\n            return;\n\n        await store.dispatch(updateUserNameAsync(user.userId, renameValue));\n        this.hideRenameModal();\n    }\n\n    showDeleteModal(): void {\n        this.setState({isOptions: false, isDelete: true});\n    }\n\n    hideDeleteModal(): void {\n        this.setState({isDelete: false});\n    }\n\n    async deleteUser(): Promise<void> {\n        const { user } = this.props;\n        await store.dispatch(deleteOfflineUserAsync(user.userId));\n        this.hideDeleteModal();\n    }\n\n    render(): JSX.Element {\n        const { user } = this.props;\n        const { isOptions, isRename, renameValue, isDelete } = this.state;\n\n        return (\n            <>\n                <div className=\"transition duration-200 ease-in-out w-full p-4 flex justify-between bg-gray-700 text-gray-200 hover:bg-indigo-400 hover:text-indigo-100 cursor-pointer\"\n                    onClick={async () => await store.dispatch(setCurrentOfflineUserAsync(user.userId))}>\n                    <div className=\"w-full flex justify-center select-none\">{user.name}</div>\n                    <div className=\"\">\n                        <Dropdown show={isOptions}\n                            onToggle={next => this.setState({isOptions: next})}>\n                            <div className=\"relative flex flex-row-reverse\">\n                                <Dropdown.Toggle>\n                                    {(props, meta) => (\n                                        <SecondaryButton icon=\"ellipsis-v\" \n                                            className=\"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600\"\n                                            onClick={event => {\n                                                event.preventDefault();\n                                                event.stopPropagation();\n                                                meta.toggle(!isOptions, event);\n                                            }} />\n                                    )}\n                                </Dropdown.Toggle>\n                                <Dropdown.Menu show={isOptions} flip={true}>\n                                    {(props) => (\n                                        <>\n                                            {isOptions && (\n                                                <div className=\"absolute z-20 shadow-lg w-32\" style={{top: \"1.5rem\"}}>\n                                                    <div onClick={event => {\n                                                        event.preventDefault();\n                                                        event.stopPropagation();\n                                                        this.showRenameModal();\n                                                    }}>\n                                                        <ContextMenuItem text=\"Change Name\"\n                                                            icon=\"edit\" />\n                                                    </div>\n                                                    <div onClick={event => {\n                                                        event.preventDefault();\n                                                        event.stopPropagation();\n                                                        this.showDeleteModal();\n                                                    }}>\n                                                        <ContextMenuItem text=\"Delete\"\n                                                            icon=\"trash-alt\"\n                                                            className=\"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200\" />\n                                                    </div>\n                                                </div>\n                                            ) ||\n                                                !isOptions && (\n                                                    <div className=\"\"></div>\n                                                )}\n                                        </>\n                                    )}\n                                </Dropdown.Menu>\n                            </div>\n                        </Dropdown>\n                    </div>\n                </div>\n\n                <CustomModal show={isRename}\n                    onHide={() => this.hideRenameModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Rename</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{user.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={renameValue} \n                                label=\"Name\" \n                                placeholder=\"Enter notebook name...\"\n                                onChange={event => this.setState({renameValue: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.renameUser} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideRenameModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n\n                <CustomModal show={isDelete}\n                    onHide={() => this.hideDeleteModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium text-red-600\">Delete</h2>\n                            <h2 className=\"text-lg font-bold text-red-600\">&apos;{user.name}&apos;?</h2>\n                        </div>\n                        <div className=\"mb-4 w-full flex items-center\">\n                            <span className=\"text-center\">Are you sure you want to delete the user &apos;{user.name}&apos;? This action is <span className=\"text-red-600 font-bold\">irreversible.</span></span>\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <CancelButton text=\"Delete\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.deleteUser} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideDeleteModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}\n\ntype UsersPageProps = {\n    users: UserObject[];\n}\n\ntype UsersPageState = {\n    isAddingUser: boolean;\n    userName: string;\n}\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        users: state.user.userList\n    };\n};\n\nclass UsersPageInner extends React.Component<UsersPageProps, UsersPageState> {\n    constructor(props: UsersPageProps) {\n        super(props);\n\n        this.state = {\n            isAddingUser: false,\n            userName: \"\"\n        };\n\n        this.showAddUserModal = this.showAddUserModal.bind(this);\n        this.hideAddUserModal = this.hideAddUserModal.bind(this);\n        this.addUser = this.addUser.bind(this);\n    }\n\n    async componentDidMount(): Promise<void> {\n        await store.dispatch(fetchOfflineUsersAsync());\n    }\n\n    showAddUserModal(): void {\n        this.setState({isAddingUser: true});\n    }\n\n    hideAddUserModal(): void {\n        this.setState({isAddingUser: false});\n    }\n\n    async addUser(): Promise<void> {\n        const { userName } = this.state;\n        if (!userName)\n            return;\n\n        await store.dispatch(createNewUserAsync(userName));\n        this.hideAddUserModal();\n    }\n\n    render(): JSX.Element {\n        const { users } = this.props;\n        const { isAddingUser, userName } = this.state;\n        const sortedUsers = users.slice().sort((a, b) => a.name.localeCompare(b.name));\n\n        return (\n            <div className=\"w-screen h-screen flex justify-center items-center bg-gray-200\">\n                <div className=\"flex flex-col\">\n                    <div className=\"w-64 py-4 mb-4 grid gap-2 bg-gray-900\">\n                        <span className=\"px-4 mb-2 text-xl text-gray-300\">Users</span>\n                        {sortedUsers.map((user, index) => (\n                            <UserItem key={index} user={user} />\n                        ))}\n                    </div>\n                    <OKButton icon=\"user-plus\" text=\"Add User\"\n                        className=\"text-sm p-4 flex justify-center\"\n                        onClick={this.showAddUserModal} />\n                </div>\n\n                <CustomModal show={isAddingUser}\n                    onHide={() => this.hideAddUserModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <h2 className=\"mb-4 text-lg font-medium\">Create New User</h2>\n                        <div className=\"mb-4\">\n                            <Input value={userName}\n                                label=\"Name\"\n                                placeholder=\"Enter user name...\"\n                                onChange={event => this.setState({userName: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Create\"\n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.addUser} />\n                            <SecondaryButton text=\"Cancel\"\n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideAddUserModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </div>\n        );\n    }\n}\n\nconst UsersPage = connect(mapStateToProps)(UsersPageInner);\nexport default UsersPage;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport DBService, { DBType } from \"../db/DBService\";\nimport { UserObject } from \"../db/models\";\nimport { setCurrentOfflineUserAsync } from \"../features/users/userSlice\";\nimport MainPage from \"../pages/MainPage\";\nimport UsersPage from \"../pages/UsersPage\";\nimport Cookies from \"../utils/Cookies\";\nimport store, { RootState } from \"./store\";\n\ntype OfflineAppProps = {\n    user: UserObject | undefined;\n};\n\ntype OfflineAppState = {\n    isDbLoading: boolean;\n};\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        user: state.user.currentUser\n    };\n};\n\nclass OfflineAppInner extends React.Component<\n    OfflineAppProps,\n    OfflineAppState\n> {\n    constructor(props: OfflineAppProps) {\n        super(props);\n\n        this.state = {\n            isDbLoading: true\n        };\n\n        this.onDBReady = this.onDBReady.bind(this);\n    }\n\n    async componentDidMount(): Promise<void> {\n        await DBService.start(DBType.Offline);\n        if (DBService.db) {\n            DBService.db.onReady(this.onDBReady);\n        }\n    }\n\n    async onDBReady(): Promise<void> {\n        try {\n            if (DBService.db) await DBService.db.seedDatabase();\n\n            const userId = Cookies.getCookie(\"user_id\");\n            if (userId) {\n                await store.dispatch(setCurrentOfflineUserAsync(userId));\n                Cookies.setCookie(\"user_id\", userId);\n            }\n\n            this.setState({ isDbLoading: false });\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    render(): JSX.Element | null {\n        const { user } = this.props;\n        const { isDbLoading } = this.state;\n\n        if (isDbLoading) return null;\n\n        return (\n            <>\n                <Switch>\n                    <Route path=\"/main\" component={MainPage} />\n                    <Route path=\"/users\" component={UsersPage} />\n                </Switch>\n                {(user && <Redirect to=\"/main\" />) ||\n                    (!user && <Redirect to=\"/users\" />)}\n            </>\n        );\n    }\n}\n\nconst OfflineApp = connect(mapStateToProps)(OfflineAppInner);\nexport default OfflineApp;\n","import React from \"react\";\n\ntype LoginPageProps = {\n\n}\n\ntype LoginPageState = {\n\n}\n\nexport default class LoginPage extends React.Component<LoginPageProps, LoginPageState> {\n    constructor(props: LoginPageProps) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    render(): JSX.Element {\n        return (\n            <div className=\"w-screen h-screen flex items-center justify-center\">\n                Login Page\n            </div>\n        );\n    }\n}","import React from \"react\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { fab } from \"@fortawesome/free-brands-svg-icons\";\nimport {\n    BrowserRouter,\n    Link,\n    Route,\n    Switch,\n    useParams\n} from \"react-router-dom\";\nimport OfflineApp from \"./OfflineApp\";\nimport OnlineApp from \"./OnlineApp\";\nimport { twMerge } from \"tailwind-merge\";\n\nlibrary.add(fas, fab);\n\ntype ConnectivityItemProps = {\n    to: string;\n    text: string;\n    className?: string;\n};\n\nfunction ConnectivityItem(props: ConnectivityItemProps): JSX.Element {\n    return (\n        <Link\n            className={twMerge(\n                \"transition duration-200 ease-in-out w-full p-4 flex justify-center bg-gray-800 text-gray-200 hover:bg-indigo-500 hover:text-indigo-100\",\n                props.className\n            )}\n            to={props.to}\n        >\n            {props.text}\n        </Link>\n    );\n}\n\nfunction ConnectivityPage(): JSX.Element {\n    return (\n        <div className=\"w-screen h-screen flex justify-center items-center bg-gray-200\">\n            <div className=\"w-64 py-4 grid gap-2 bg-gray-900\">\n                <ConnectivityItem to=\"/offline\" text=\"Offline\" />\n                <ConnectivityItem to=\"/\" text=\"Online\" />\n            </div>\n        </div>\n    );\n}\n\nexport default function App(): JSX.Element {\n    return <OfflineApp />;\n\n    return (\n        <>\n            <Switch>\n                {/* TODO: Change to this once online mode is implemented\n                <Route path=\"/:connectivity\" component={AppWrapper} />\n                <Route exact path=\"/\" component={ConnectivityPage} />\n                */}\n                <Route path=\"/\" component={AppWrapper} />\n            </Switch>\n        </>\n    );\n}\n\ntype Params = {\n    connectivity: string;\n};\n\nfunction AppWrapper(): JSX.Element | null {\n    const { connectivity } = useParams<Params>();\n\n    {\n        /* TODO: Remove this return once online mode is implemented */\n    }\n    return <OfflineApp />;\n\n    if (connectivity.toLowerCase() === \"offline\") {\n        return (\n            <BrowserRouter basename={`${process.env.PUBLIC_URL}/offline`}>\n                <OfflineApp />\n            </BrowserRouter>\n        );\n    } else if (connectivity.toLowerCase() === \"online\") {\n        return (\n            <BrowserRouter basename={`${process.env.PUBLIC_URL}/online`}>\n                <OnlineApp />\n            </BrowserRouter>\n        );\n    } else {\n        return null;\n    }\n}\n","export default class Descriptions {\n    static NodeSpecific = {\n        PrimitiveOutput: {\n            Description: \"Outputs string, boolean, or number values\"\n        },\n\n        LineChart: {\n            Description: \"Outputs a line chart\",\n            IsSmoothProperty: \"If true, makes the chart lines curvy\"\n        },\n        StackedLineChart: {\n            Description: \"Outputs a stacked line chart. Unlike Line Chart, this stacks each charted lines to each other vertically.\"\n        },\n        BarChart: {\n            Description: \"Outputs a bar chart\"\n        },\n        HorizontalBarChart: {\n            Description: \"Outputs a bar chart on the horizontal direction\"\n        },\n        StackedBarChart: {\n            Description: \"Outputs a stacked bar chart. Unlike Bar Chart, this groups and stacks each charted bars vertically.\"\n        },\n        ViolinPlot: {\n            Description: \"Outputs a violin plot. Great for visualizing how densely packed the data points are.\",\n        },\n        BoxPlot: {\n            Description: \"Outputs a box plot. Great for visualizing the density and outliers of the data points.\"\n        },\n\n        AddDataFrame: {\n            Description: \"Adds a DataFrame, Series, or number to a DataFrame, element-wise\"\n        },\n        SubtractDataFrame: {\n            Description: \"Subtracts a DataFrame, Series, or number to a DataFrame, element-wise\"\n        },\n        MultiplyDataFrame: {\n            Description: \"Multiplies a DataFrame, Series, or number to a DataFrame, element-wise\"\n        },\n        DivideDataFrame: {\n            Description: \"Divide a DataFrame, Series, or number to a DataFrame, element-wise. Remember not to divide by zero!\"\n        },\n        ModDataFrame: {\n            Description: \"Applies the Modulo operation from a DataFrame, Series, or number to a DataFrame, element-wise\"\n        },\n        PowerDataFrame: {\n            Description: \"Applies the Exponent operation from a DataFrame, Series, or number to a DataFrame, element-wise\"\n        },\n        AbsoluteDataFrame: {\n            Description: \"Applies the Absolute operation to a DataFrame, element-wise\"\n        },\n        RoundDataFrame: {\n            Description: \"Rounds the values in a DataFrame, element-wise\"\n        },\n\n        RandomLabels: {\n            Description: \"Generates a randomized Series of values based on the provided seed and an array of label values\",\n            LabelsOutput: \"The resulting randomized Series of values\",\n            LabelsProperty: \"Specifies all possible unique values that this random Series will generate. Each unique value must be separated by a comma.\"\n        },\n        RandomData: {\n            Description: \"Generates a randomized DataFrame of values based on the provided seed, and the minimum and maximum values for each column\",\n            DataOutput: \"The resulting randomized DataFrame of values\",\n            ColumnNamesProperty: \"Specifies the column names of the resulting Series. Each column name must be separated by a comma, and number of column names must equal the number of min-max values. Defaults to 'Data_1', 'Data_2', and so on if no column name is specified.\",\n            MinMaxProperty: \"Specifies the minimum and maximum values that each data column can generate. Each min-max pair must be formatted as 'min:max' and separated by a comma. Here is an example: 0:100, -100:42, 12:234\",\n            IsIntegersProperty: \"If true, the numbers generated will be integers instead of decimals\"\n        },\n        ARange: {\n            Description: \"Generates a Series of consecutive numbers based on the provided start, stop, and step values\",\n            ARangeOutput: \"The resulting Series of consecutive numbers\",\n            StartProperty: \"The starting value of the Series. Can be bigger than the stop value.\",\n            StopProperty: \"The stopping value of the Series. This value is not included in the generated Series. Can be smaller than the start value.\",\n            StepProperty: \"Specifies the gap size between each value\"\n        },\n\n        DescribeDataFrame: {\n            Description: \"Describes each of the columns of the given DataFrame in terms of count, mean, standard deviation, min, median, and max values, and variance\"\n        },\n        Histogram: {\n            Description: \"Creates a histogram of the given Series\",\n            LabelsOutput: \"The labels (x-axis) Series of the resulting histogram\",\n            CountOutput: \"The count (y-axis) Series of the resulting histogram\",\n            NameProperty: \"The column name of the resulting count Series for charting purposes\",\n            BinsProperty: \"Specifies the amount of bins that this histogram will have\"\n        },\n        HeadDataFrame: {\n            Description: \"Shows the first few rows of a DataFrame, as specified by the rowCount property\"\n        },\n        TailDataFrame: {\n            Description: \"Shows the last few rows of a DataFrame, as specified by the rowCount property\"\n        },\n        CountDataFrame: {\n            Description: \"Counts the amount of rows or columns in a DataFrame\",\n            CountRowsOutput: \"Returns how many rows the DataFrame has\",\n            CountColumnsOutput: \"Returns how many columns the DataFrame has\"\n        },\n\n        GroupByDataFrame: {\n            Description: \"Groups rows based on the given columns and key values\",\n            KeysProperty: \"Specifies the values to be used for grouping within the specified columns. Each key value must be separated by a comma.\"\n        },\n        GroupCountDataFrame: {\n            Description: \"Groups rows and returns the size of each grouping\",\n            IsPercentProperty: \"If true, returns each count as a percentage of the total count\"\n        },\n        GroupCumMaxDataFrame: {\n            Description: \"Groups rows and returns the cumulative maximum over the selected columns\"\n        },\n        GroupCumMinDataFrame: {\n            Description: \"Groups rows and returns the cumulative minimum over the selected columns\"\n        },\n        GroupCumSumDataFrame: {\n            Description: \"Groups rows and returns the cumulative sum over the selected columns\"\n        },\n        GroupCumProdDataFrame: {\n            Description: \"Groups rows and returns the cumulative product over the selected columns\"\n        },\n        GroupMeanDataFrame: {\n            Description: \"Groups rows and returns the mean of the values within each group over the selected columns\"\n        },\n        GroupSumDataFrame: {\n            Description: \"Groups rows and returns the sum of the values within each group over the selected columns\"\n        },\n        GroupMaxDataFrame: {\n            Description: \"Groups rows and returns the max of the values within each group over the selected columns\"\n        },\n        GroupMinDataFrame: {\n            Description: \"Groups rows and returns the min of the values within each group over the selected columns\"\n        },\n        GroupStdDataFrame: {\n            Description: \"Groups rows and returns the standard deviation of the values within each group over the selected columns\"\n        },\n        GroupVarDataFrame: {\n            Description: \"Groups rows and returns the variance of the values within each group over the selected columns\"\n        },\n\n        MapDataFrame: {\n            Description: \"Changes specified values within the specified columns into another value\",\n            ColumnProperty: \"Specifies the column over which to map the values\",\n            MappingsProperty: \"Specifies the value mapping desired. Each mapping pair must be formatted as 'oldvalue:newvalue' and separated by a comma. A value of '$mean' specifies that the mapped value is the average value over the column. Here is an example: Work:work, light:0, price:$mean\",\n            ReplaceColumnProperty: \"If true, replaces the selected column with the new column. Otherwise, creates another column at the end of the DataFrame.\"\n        },\n        RenameColumns: {\n            Description: \"Renames the columns of the DataFrame\"\n        },\n        RemoveColumns: {\n            Description: \"Removes the specified columns from the DataFrame\"\n        },\n        FillNaDataFrame: {\n            Description: \"Fills undefined, null, NaN, or empty string values with the specified values per column\",\n            MappingsProperty: \"Specifies the value mapping desired. Each mapping pair must be formatted as 'column:value' and separated by a comma. A value of '$mean' specifies that the fill-in value is the average value over the column. Here is an example: Col1:apple, Col2:mean, Col3:1\"\n        },\n        SortDataFrame: {\n            Description: \"Sorts the DataFrame by the specified column\",\n            SortByColumnProperty: \"The column to sort by\",\n            IsAscendingProperty: \"If true, the sorting will be in ascending order, and descending order otherwise\"\n        },\n        MergeDataFrames: {\n            Description: \"Merges the columns of the left and right DataFrames based on the join type. Follows the SQL merge operation.\",\n            LeftInput: \"The left DataFrame or Series of this merging operation\",\n            RightInput: \"The right DataFrame or Series of this merging operation\",\n            OnColumnsProperty: \"Specifies the columns over which to merge the DataFrames together\",\n            JoinTypeProperty: \"Specifies the type of join to be used for the merge operation. Possible values are: left, right, outer, inner\"\n        },\n        AppendDataFrame: {\n            Description: \"Appends the rows of the 2nd DataFrame to the bottom of the 1st DataFrame\",\n            Input1Input: \"The DataFrame to append to and is the resulting DataFrame\",\n            Input2Input: \"The DataFrame to be appended to the 1st DataFrame\"\n        },\n\n        DataFrameOutput: {\n            Description: \"Outputs a DataFrame or Series\",\n            Input: \"The DataFrame or Series to be outputted\",\n            RowCountProperty: \"Specifies the number of rows from the head of the DataFrame or Series to show. Set to 0 to show all the data.\"\n        },\n\n        DataFrameLoc: {\n            Description: \"Queries and filters the DataFrame through either the column values or row values\",\n            ColumnsProperty: \"Specifies the columns to include. Must be written either as a list of column names or as a single start-end slice. The list of column names must be separated by commas. The start-end slice must be formatted as 'start:end'.\",\n            RowsProperty: \"Specifies the rows to include. Must be written in a condition format 'Column <condition> value'. Valid conditions are less than (<), greater than (>), less than equal (<=), greater than equal (>=), equal (==), not equal (!=), contains (has), starts with (start), and ends with (end). Here is an example: Age <= 50\",\n            ResetIndexProperty: \"If true, row indices do not carry over from the previous DataFrame\"\n        },\n        DataFrameiLoc: {\n            Description: \"Queries and filters the DataFrame through either the column index or row index\",\n            ColumnsProperty: \"Specifies the columns to include. Must be written either as a list of column index numbers or as a single start-end slice. The list of column index numbers must be separated by commas. The start-end slice must be formatted as 'start:end' and contain only numbers.\",\n            RowsProperty: \"Specifies the rows to include. Must be written either as a list of row index numbers or as a single start-end slice. The list of row index numbers must be separated by commas. The start-end slice must be formatted as 'start:end' and contain only numbers.\"\n        },\n        GetNumericalColumns: {\n            Description: \"Returns a DataFrame containing only the numerical columns of the provided DataFrame\"\n        },\n\n        CountSeries: {\n            Description: \"Counts the amount of values in a Series\",\n            SkipNullProperty: \"If true, does not include null values into the count. Otherwise, includes everything into the count.\"\n        },\n        CumMaxSeries: {\n            Description: \"Calculates the cumulative maximum over a Series\"\n        },\n        CumMinSeries: {\n            Description: \"Calculates the cumulative minimum over a Series\"\n        },\n        CumSumSeries: {\n            Description: \"Calculates the cumulative sum over a Series\"\n        },\n        CumProdSeries: {\n            Description: \"Calculates the cumulative product over a Series\"\n        },\n        MaxSeries: {\n            Description: \"Calculates the maximum value in a Series\"\n        },\n        MinSeries: {\n            Description: \"Calculates the minimum value in a Series\"\n        },\n        MeanSeries: {\n            Description: \"Calculates the mean (average) of a Series\"\n        },\n        MedianSeries: {\n            Description: \"Calculates the median of a Series\"\n        },\n        ModeSeries: {\n            Description: \"Calculates the mode of a Series\"\n        },\n        SumSeries: {\n            Description: \"Calculates the sum of a Series\"\n        },\n        StdSeries: {\n            Description: \"Calculates the standard deviation of a Series\"\n        },\n        VarSeries: {\n            Description: \"Calculates the variance of a Series\"\n        },\n        NUniqueSeries: {\n            Description: \"Counts the unique values in a Series\"\n        },\n\n        DataFrameToSeries: {\n            Description: \"Converts a DataFrame to a Series based on the specified column\",\n            ColumnProperty: \"Specifies a column from the DataFrame\"\n        },\n        SeriesToDataFrame: {\n            Description: \"Converts a Series to a DataFrame\"\n        },\n\n        AddNumbers: {\n            Description: \"Adds two numbers\",\n            Addend1Input: \"The number to add to\",\n            Addend2Input: \"The number to add by\"\n        },\n        SubtractNumbers: {\n            Description: \"Subtracts two numbers\",\n            MinuendInput: \"The number to subtract from\",\n            SubtrahendInput: \"The number to subtract by\"\n        },\n        MultiplyNumbers: {\n            Description: \"Multiplies two numbers\",\n            MultiplicandInput: \"The number to multiply to\",\n            MultiplierInput: \"The number to multiply by\"\n        },\n        DivideNumbers: {\n            Description: \"Divides two numbers\",\n            DividendInput: \"The number to divide from\",\n            DivisorInput: \"The number to divide by. Cannot be zero.\"\n        },\n        ModuloNumbers: {\n            Description: \"Returns the remainder from the division of two numbers\",\n            DividendInput: \"The number to divide from\",\n            DivisorInput: \"The number to divide by. Cannot be zero.\"\n        },\n        PowerNumbers: {\n            Description: \"Exponentiates two numbers\",\n            BaseInput: \"The base number to exponentiate\",\n            ExponentInput: \"The exponent number\"\n        },\n        SqrtNumber: {\n            Description: \"Returns the square root of a number\"\n        },\n        LogNumbers: {\n            Description: \"Logarithmize two numbers\",\n            BaseInput: \"The base number of the logarithm\",\n            NumberInput: \"The number to logarithmize\"\n        },\n        AbsNumber: {\n            Description: \"Returns the absolute value of a number\"\n        },\n        InvertNumber: {\n            Description: \"Returns the sign-inverted value of a number\"\n        },\n        FloorNumber: {\n            Description: \"Returns the nearest integer lower or equal to the number\"\n        },\n        RoundNumber: {\n            Description: \"Returns the given number rounded to the nearest integer\"\n        },\n        CeilingNumber: {\n            Description: \"Returns the nearest integer higher or equal to the number\"\n        },\n        RandomNumber: {\n            Description: \"Returns a random number between the specified minimum and maximum values\",\n            MinProperty: \"Specifies the minimum value to be generated\",\n            MaxProperty: \"Specifies the maximum value to be generated, not including this value\"\n        },\n\n        PiConstant: {\n            Description: \"Returns the pi constant\",\n            Output: \"The pi constant\"\n        },\n        EConstant: {\n            Description: \"Returns the natural log (e) constant\",\n            Output: \"The natural log (e) constant\"\n        },\n        EulerConstant: {\n            Description: \"Returns the Euler's constant\",\n            Output: \"The Euler's constant\"\n        },\n        Root2Constant: {\n            Description: \"Returns the square root of 2 constant\",\n            Output: \"The square root of 2 constant\"\n        },\n        GoldenRatioConstant: {\n            Description: \"Returns the golden ratio constant\",\n            Output: \"The golden ratio constant\"\n        },\n\n        SineNumber: {\n            Description: \"Returns the sine of the number\"\n        },\n        CosineNumber: {\n            Description: \"Returns the cosine of the number\"\n        },\n        TangentNumber: {\n            Description: \"Returns the tangent of the number\"\n        },\n        ArcSineNumber: {\n            Description: \"Returns the arcsine of the number\"\n        },\n        ArcCosineNumber: {\n            Description: \"Returns the arccosine of the number\"\n        },\n        ArcTangentNumber: {\n            Description: \"Returns the arctangent of the number\"\n        },\n        CosecantNumber: {\n            Description: \"Returns the cosecant of the number\"\n        },\n        SecantNumber: {\n            Description: \"Returns the secant of the number\"\n        },\n        CotangentNumber: {\n            Description: \"Returns the cotangent of the number\"\n        }\n\n    }\n\n    static Common = {\n        InputValueToOutput: \"The value to be outputted\",\n        OutputOrderProperty: \"Determines the order that output nodes are evaluated and shown on the Output section. The lower the value, the earlier an output node is evaluated.\",\n        ResultOutput: \"The result of the operation\",\n        DataFrameInput: \"The DataFrame to operate on\",\n        SeriesInput: \"The Series to operate on\",\n        Chart: {\n            LabelsInput: \"The labels shown on the x-axis. Can be either numbers or strings.\",\n            DataInput: \"The data to be charted. All DataFrame or Series columns must consist only of numerical values. Use a Dataframe Loc node to pick the data columns to be charted.\",\n            DataWithLabelInput: \"The data to be charted. Exactly one column used for labelling is also required. All other columns must consist only of numerical values. Use a Dataframe Loc node to pick the data columns to be charted.\",\n\n            TitleProperty: \"Specifies the title of the chart\",\n            LabelsColumnProperty: \"Specifies the column to be used for labelling\",\n            IgnoreDenseLabelsProperty: \"If true, turns off the error warning about too many labels (> 30) if it is intentional. However, the chart may grow to be too crowded.\",\n        },\n        DataFrame: {\n            Input1Input: \"The DataFrame to be modified and outputted\",\n            RowCountProperty: \"Specifies how many rows to generate\"\n        },\n        DataFrameBinary: {\n            Input2Input: \"The DataFrame, Series, or number doing the modification\",\n            IsRowAxisProperty: \"Used only when input2 is a Series. If true, the operation is applied along the row axis, but column axis otherwise.\"\n        },\n        DataFrameDataGen: {\n            SeedInput: \"Specifies the seed for generating the same sequence of values. If left empty, it will instead produce different sequences of values.\",\n            ColumnNameProperty: \"Specifies the column name of the resulting Series\"\n        },\n        DataFrameDescriptive: {\n            DataFrameOutput: \"The resulting DataFrame\",\n            ColumnProperty: \"Specifies the column to be operated on in the given DataFrame\"\n        },\n        DataFrameGrouping: {\n            GroupColumnsProperty: \"Specifies the label columns that the DataFrame will be grouped by. Each column name must be separated by a comma.\",\n            TargetColumnsProperty: \"Specifies the target data columns to apply this operation on after the grouping. Each column name must be separated by a comma.\"\n        },\n        DataFrameModify: {\n            MappingsProperty: \"Specifies the value mapping desired. Each mapping pair must be formatted as 'oldvalue:newvalue' and separated by a comma. Here is an example: Work:work, Price:Cost, light:0\",\n            ColumnsProperty: \"Specifies the columns to operate on. Each column name must be separated by a comma.\"\n        },\n        Math: {\n            InputNumber: \"The number to operate on\"\n        }\n    };\n}","export default class Errors {\n    public static MissingNodeProperties = \"Somehow, the properties of this node are missing.\";\n    public static MissingNodeInput = (inputName: string): string => `The input '${inputName}' of this node is missing. Perhaps this input is not connected?`;\n\n    public static EmptyNodePropertyNoEffect = (propertyName: string): string => `The property '${propertyName}' of this node is empty, making this node have no effect.`;\n    public static EmptyArray = (name: string, modifier = \"value\"): string => `The ${modifier} '${name}' is empty and might not have any effect.`;\n\n    public static ValueNotExists = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' does not exist.`;\n    public static ValueExists = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' already exists.`;\n\n    public static CannotBeEmpty = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' cannot be empty.`;\n    public static NumberCannotBeZero = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' cannot be zero.`;\n    public static NumberCannotBeNegative = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' cannot be negative.`;\n    public static NumberCannotBeZeroOrNegative = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' cannot be zero or negative.`;\n\n    public static ArrayLengthsNotEqual = (arr1: string, arr2: string): string => `The length of '${arr1}' is not the same as the length of '${arr2}'.`;\n\n    public static ColumnValueWrongType = (column: string, value: string, type: string): string => `The value '${value}' of column '${column}' is of the wrong type, should be '${type}'.`;\n    public static DataFrameNullColumnsCannotDescribe = (columns: string[]): string => `Could not describe this DataFrame, it contains null values on these columns: [${columns}]`;\n    public static DataFrameNumericalColumnsOnly = (input: string, columns: string[]): string => `The columns [${columns}] of the input '${input}' are not allowed for this operation. Perhaps use the 'Get Numerical Columns' Query node to filter out non-numerical columns?`\n    public static DataFrameOnlyOneNonNumericalColumn = (dfName: string, columns: string[]): string => `The dataframe '${dfName}' cannot have more than one non-numerical column. The columns [${columns}] are found to be non-numerical.`;\n    public static DataFrameMismatchShape = (df1Name: string, df1Shape: number[], df2Name: string, df2Shape: number[]): string => `The dataframe '${df2Name}' with shape [${df2Shape}] does not match the dataframe '${df1Name}' with shape [${df1Shape}].`;\n    public static DataFrameSeriesMismatchShape = (dfName: string, dfSize: number, seriesName: string, seriesSize: number, modifier = \"column\"): string => `The series '${seriesName}' of length ${seriesSize} does not match the dataframe '${dfName}' with ${dfSize} ${modifier}s. Maybe the 'isRowAxis' property is not correct?`;\n\n    public static DenseUniqueLabels = (columnName: string): string => `The column '${columnName}' may have too many unique labels (> 30). If this is intended, turn on 'ignoreDenseLabels' on the node properties.`;\n\n    public static DoesNotMatchPattern = (name: string, value: string, modifier = \"value\"): string => `The ${modifier} '${name}' with value '${value}' does not match the pattern.`;\n\n    public static MinCannotBeGreaterThanMax = (pair: string): string => `For the min-max pair '${pair}', the min value cannot be greater than the max value.`;\n\n    public static InvalidStartStopStepConfig = (start: number, stop: number, step: number): string => `The start of '${start}', stop of '${stop}', and step of '${step}' is an invalid configuration.`;\n}","export default class MathUtils {\n    static mod(n: number, m: number): number {\n        return ((n % m) + m) % m;\n    }\n\n    static toDecimal(num: number, places: number): number {\n        return Number(`${Math.round(Number(`${num}e+${places}`))}e-${places}`);\n    }\n}","import { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler, NodeCollection } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport MathUtils from \"../utils/MathUtils\";\nimport Meta from \"../utils/Meta\";\nimport { Types } from \"../utils/Types\";\n\nconst addNumbers: NodeType = {\n    id: \"add-numbers\",\n    name: \"Add Numbers\",\n    description: Descriptions.NodeSpecific.AddNumbers.Description,\n    //variableName: \"addNumberResult\",\n    style: {\n        width: 130\n    },\n    inputSlots: [\n        {\n            id: \"addend1\",\n            description: Descriptions.NodeSpecific.AddNumbers.Addend1Input,\n            type: Types.Number\n        },\n        {\n            id: \"addend2\",\n            description: Descriptions.NodeSpecific.AddNumbers.Addend2Input,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"sum\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"addend1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"addend1\"));\n\n        if (Meta.isEmpty(input[\"addend2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"addend2\"));\n\n        if (Meta.isEmpty(input[\"addend1\"]) || Meta.isEmpty(input[\"addend2\"]))\n            return {};\n        \n        const addend1 = input[\"addend1\"] as number;\n        const addend2 = input[\"addend2\"] as number;\n        const sum = addend1 + addend2;\n        return {sum};\n    }\n};\n\nconst subtractNumbers: NodeType = {\n    id: \"subtract-numbers\",\n    name: \"Subtract Numbers\",\n    description: Descriptions.NodeSpecific.SubtractNumbers.Description,\n    //variableName: \"subtractNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"minuend\",\n            description: Descriptions.NodeSpecific.SubtractNumbers.MinuendInput,\n            type: Types.Number\n        },\n        {\n            id: \"subtrahend\",\n            description: Descriptions.NodeSpecific.SubtractNumbers.SubtrahendInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"difference\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"minuend\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"minuend\"));\n\n        if (Meta.isEmpty(input[\"subtrahend\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"subtrahend\"));\n\n        if (Meta.isEmpty(input[\"minuend\"]) || Meta.isEmpty(input[\"subtrahend\"]))\n            return {};\n        \n        const minuend = input[\"minuend\"] as number;\n        const subtrahend = input[\"subtrahend\"] as number;\n        const difference = minuend - subtrahend;\n        return {difference};\n    }\n};\n\nconst multiplyNumbers: NodeType = {\n    id: \"multiply-numbers\",\n    name: \"Multiply Numbers\",\n    description: Descriptions.NodeSpecific.MultiplyNumbers.Description,\n    //variableName: \"multiplyNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"multiplicand\",\n            description: Descriptions.NodeSpecific.MultiplyNumbers.MultiplicandInput,\n            type: Types.Number\n        },\n        {\n            id: \"multiplier\",\n            description: Descriptions.NodeSpecific.MultiplyNumbers.MultiplierInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"product\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"multiplicand\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"multiplicand\"));\n\n        if (Meta.isEmpty(input[\"multiplier\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"multiplier\"));\n\n        if (Meta.isEmpty(input[\"multiplicand\"]) || Meta.isEmpty(input[\"multiplier\"]))\n            return {};\n        \n        const multiplicand = input[\"multiplicand\"] as number;\n        const multiplier = input[\"multiplier\"] as number;\n        const product = multiplicand * multiplier;\n        return {product};\n    }\n};\n\nconst divideNumbers: NodeType = {\n    id: \"divide-numbers\",\n    name: \"Divide Numbers\",\n    description: Descriptions.NodeSpecific.DivideNumbers.Description,\n    //variableName: \"divideNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"dividend\",\n            description: Descriptions.NodeSpecific.DivideNumbers.DividendInput,\n            type: Types.Number\n        },\n        {\n            id: \"divisor\",\n            description: Descriptions.NodeSpecific.DivideNumbers.DivisorInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"quotient\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"dividend\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"dividend\"));\n\n        if (Meta.isEmpty(input[\"divisor\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"divisor\"));\n\n        if (Meta.isEmpty(input[\"dividend\"]) || Meta.isEmpty(input[\"divisor\"]))\n            return {};\n        \n        const dividend = input[\"dividend\"] as number;\n        const divisor = input[\"divisor\"] as number;\n        if (divisor === 0) {\n            errorHandler.error(Errors.NumberCannotBeZero(\"divisor\", \"input\"));\n            return {};\n        }\n\n        const quotient = dividend / divisor;\n        return {quotient};\n    }\n};\n\nconst moduloNumbers: NodeType = {\n    id: \"modulo-numbers\",\n    name: \"Modulo Numbers\",\n    description: Descriptions.NodeSpecific.ModuloNumbers.Description,\n    //variableName: \"moduloNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"dividend\",\n            description: Descriptions.NodeSpecific.ModuloNumbers.DividendInput,\n            type: Types.Number\n        },\n        {\n            id: \"divisor\",\n            description: Descriptions.NodeSpecific.ModuloNumbers.DivisorInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"modulo\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"dividend\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"dividend\"));\n\n        if (Meta.isEmpty(input[\"divisor\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"divisor\"));\n\n        if (Meta.isEmpty(input[\"dividend\"]) || Meta.isEmpty(input[\"divisor\"]))\n            return {};\n        \n        const dividend = input[\"dividend\"] as number;\n        const divisor = input[\"divisor\"] as number;\n        if (divisor === 0) {\n            errorHandler.error(Errors.NumberCannotBeZero(\"divisor\", \"input\"));\n            return {};\n        }\n        \n        const modulo = MathUtils.mod(dividend, divisor);\n        return {modulo};\n    }\n};\n\nconst powerNumbers: NodeType = {\n    id: \"power-numbers\",\n    name: \"Power Numbers\",\n    description: Descriptions.NodeSpecific.PowerNumbers.Description,\n    //variableName: \"powerNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"base\",\n            description: Descriptions.NodeSpecific.PowerNumbers.BaseInput,\n            type: Types.Number\n        },\n        {\n            id: \"exponent\",\n            description: Descriptions.NodeSpecific.PowerNumbers.ExponentInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"power\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"base\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"base\"));\n\n        if (Meta.isEmpty(input[\"exponent\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"exponent\"));\n\n        if (Meta.isEmpty(input[\"base\"]) || Meta.isEmpty(input[\"exponent\"]))\n            return {};\n        \n        const base = input[\"base\"] as number;\n        const exponent = input[\"exponent\"] as number;\n        const power = Math.pow(base, exponent);\n        return {power};\n    }\n};\n\nconst sqrtNumber: NodeType = {\n    id: \"sqrt-number\",\n    name: \"Square Root Number\",\n    description: Descriptions.NodeSpecific.SqrtNumber.Description,\n    //variableName: \"sqrtNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"radicand\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"sqrt\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"radicand\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"radicand\"));\n            return {};\n        }\n        \n        const radicand = input[\"radicand\"] as number;\n        const sqrt = Math.sqrt(radicand);\n        return {sqrt};\n    }\n};\n\nconst logNumbers: NodeType = {\n    id: \"log-numbers\",\n    name: \"Log Numbers\",\n    description: Descriptions.NodeSpecific.LogNumbers.Description,\n    //variableName: \"powerNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"base\",\n            description: Descriptions.NodeSpecific.LogNumbers.BaseInput,\n            type: Types.Number\n        },\n        {\n            id: \"number\",\n            description: Descriptions.NodeSpecific.LogNumbers.NumberInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"log\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"base\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"base\"));\n\n        if (Meta.isEmpty(input[\"number\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n\n        if (Meta.isEmpty(input[\"base\"]) || Meta.isEmpty(input[\"number\"]))\n            return {};\n        \n        const base = input[\"base\"] as number;\n        const number = input[\"number\"] as number;\n        const log = Math.log(number) / Math.log(base);\n        return {log};\n    }\n};\n\nconst absNumber: NodeType = {\n    id: \"abs-number\",\n    name: \"Absolute Number\",\n    description: Descriptions.NodeSpecific.AbsNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"abs\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const abs = Math.abs(number);\n        return {abs};\n    }\n};\n\nconst invertNumber: NodeType = {\n    id: \"invert-number\",\n    name: \"Invert Number\",\n    description: Descriptions.NodeSpecific.InvertNumber.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"invert\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const invert = number * -1;\n        return {invert};\n    }\n};\n\nconst floorNumber: NodeType = {\n    id: \"floor-number\",\n    name: \"Floor Number\",\n    description: Descriptions.NodeSpecific.FloorNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"floor\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const floor = Math.floor(number);\n        return {floor};\n    }\n};\n\nconst roundNumber: NodeType = {\n    id: \"round-number\",\n    name: \"Round Number\",\n    description: Descriptions.NodeSpecific.RoundNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"round\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const round = Math.round(number);\n        return {round};\n    }\n};\n\nconst ceilingNumber: NodeType = {\n    id: \"ceiling-number\",\n    name: \"Ceiling Number\",\n    description: Descriptions.NodeSpecific.CeilingNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"ceiling\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const ceiling = Math.ceil(number);\n        return {ceiling};\n    }\n};\n\nconst randomNumber: NodeType = {\n    id: \"random-number\",\n    name: \"Random Number\",\n    description: Descriptions.NodeSpecific.RandomNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    properties: [\n        {\n            id: \"min\",\n            description: Descriptions.NodeSpecific.RandomNumber.MinProperty,\n            type: \"number\",\n            defaultValue: 0\n        },\n        {\n            id: \"max\",\n            description: Descriptions.NodeSpecific.RandomNumber.MaxProperty,\n            type: \"number\",\n            defaultValue: 1\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"random\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        const min = properties[\"min\"] as number;\n        const max = properties[\"max\"] as number;\n        const random = Math.random() * (max - min) + min;\n        return {random};\n    }\n};\n\n// Constants\n\nconst piConstant: NodeType = {\n    id: \"pi-constant\",\n    name: \"Pi ()\",\n    description: Descriptions.NodeSpecific.PiConstant.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 100,\n    },\n    outputSlots: [\n        {\n            id: \"pi\",\n            description: Descriptions.NodeSpecific.PiConstant.Output,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        return {\n            pi: Math.PI\n        };\n    }\n};\n\nconst eConstant: NodeType = {\n    id: \"e-constant\",\n    name: \"Natural Log (e)\",\n    description: Descriptions.NodeSpecific.EConstant.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 100,\n    },\n    outputSlots: [\n        {\n            id: \"e\",\n            description: Descriptions.NodeSpecific.EConstant.Output,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        return {\n            e: Math.E\n        };\n    }\n};\n\nconst eulerConstant: NodeType = {\n    id: \"euler-constant\",\n    name: \"Euler's Constant\",\n    description: Descriptions.NodeSpecific.EulerConstant.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 100,\n    },\n    outputSlots: [\n        {\n            id: \"euler\",\n            description: Descriptions.NodeSpecific.EulerConstant.Output,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        return {\n            euler: 0.5772156649015328606065120900824024310421\n        };\n    }\n};\n\nconst root2Constant: NodeType = {\n    id: \"root2-constant\",\n    name: \"Square Root of 2\",\n    description: Descriptions.NodeSpecific.Root2Constant.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 100,\n    },\n    outputSlots: [\n        {\n            id: \"root2\",\n            description: Descriptions.NodeSpecific.Root2Constant.Output,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        return {\n            root2: 1.4142135623730950488016887242096980785696\n        };\n    }\n};\n\nconst goldenRatioConstant: NodeType = {\n    id: \"golden-ratio-constant\",\n    name: \"Golden Ratio ()\",\n    description: Descriptions.NodeSpecific.GoldenRatioConstant.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 100,\n    },\n    outputSlots: [\n        {\n            id: \"goldenRatio\",\n            description: Descriptions.NodeSpecific.GoldenRatioConstant.Output,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        return {\n            goldenRatio: 1.6180339887498948482045868343656381177203\n        };\n    }\n};\n\n// Trigonometry\n\nconst sineNumber: NodeType = {\n    id: \"sine-number\",\n    name: \"Sine\",\n    description: Descriptions.NodeSpecific.SineNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"sine\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const sine = Math.sin(number);\n        return {sine};\n    }\n};\n\nconst cosineNumber: NodeType = {\n    id: \"cosine-number\",\n    name: \"Cosine\",\n    description: Descriptions.NodeSpecific.CosineNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cosine\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const cosine = Math.cos(number);\n        return {cosine};\n    }\n};\n\nconst tangentNumber: NodeType = {\n    id: \"tangent-number\",\n    name: \"Tangent\",\n    description: Descriptions.NodeSpecific.TangentNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"tangent\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const tangent = Math.tan(number);\n        return {tangent};\n    }\n};\n\nconst arcsineNumber: NodeType = {\n    id: \"arc-sine-number\",\n    name: \"ArcSine\",\n    description: Descriptions.NodeSpecific.ArcSineNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"arcsine\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const arcsine = Math.asin(number);\n        return {arcsine};\n    }\n};\n\nconst arccosineNumber: NodeType = {\n    id: \"arc-cosine-number\",\n    name: \"ArcCosine\",\n    description: Descriptions.NodeSpecific.ArcCosineNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"arccosine\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const arccosine = Math.acos(number);\n        return {arccosine};\n    }\n};\n\nconst arctangentNumber: NodeType = {\n    id: \"arc-tangent-number\",\n    name: \"ArcTangent\",\n    description: Descriptions.NodeSpecific.ArcTangentNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"arctangent\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const arctangent = Math.atan(number);\n        return {arctangent};\n    }\n};\n\nconst cosecantNumber: NodeType = {\n    id: \"cosecant-number\",\n    name: \"Cosecant\",\n    description: Descriptions.NodeSpecific.CosecantNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cosecant\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const cosecant = 1 / Math.sin(number);\n        return {cosecant};\n    }\n};\n\nconst secantNumber: NodeType = {\n    id: \"secant-number\",\n    name: \"Secant\",\n    description: Descriptions.NodeSpecific.SecantNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"secant\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const secant = 1 / Math.cos(number);\n        return {secant};\n    }\n};\n\nconst cotangentNumber: NodeType = {\n    id: \"cotangent-number\",\n    name: \"Cotangent\",\n    description: Descriptions.NodeSpecific.CotangentNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cotangent\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const cotangent = 1 / Math.tan(number);\n        return {cotangent};\n    }\n};\n\nconst MathNodes: NodeCollection = {\n    id: \"math\",\n    name: \"Math Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"Constants\",\n            types: [\n                piConstant,\n                eConstant,\n                eulerConstant,\n                root2Constant,\n                goldenRatioConstant\n            ]\n        },\n        {\n            name: \"Trigonometry\",\n            types: [\n                sineNumber,\n                cosineNumber,\n                tangentNumber,\n                arcsineNumber,\n                arccosineNumber,\n                arctangentNumber,\n                cosecantNumber,\n                secantNumber,\n                cotangentNumber\n            ]\n        },\n        {\n            name: \"Operators\",\n            types: [\n                addNumbers, \n                subtractNumbers,\n                multiplyNumbers,\n                divideNumbers,\n                moduloNumbers,\n                powerNumbers,\n                sqrtNumber,\n                logNumbers,\n                absNumber,\n                invertNumber,\n                floorNumber,\n                roundNumber,\n                ceilingNumber,\n                randomNumber\n            ]\n        }\n    ]\n};\nexport default MathNodes;","import { CSVSource } from \"../data/DataService\";\nimport { Types } from \"../utils/Types\";\nimport NodeExecManager from \"../managers/NodeExecManager\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, PrimitiveOutput, NodeCollection } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport Series from \"danfojs/dist/danfojs-base/core/series\";\n\nconst primitiveOutputNode: NodeType = {\n    id: \"primitive-output\",\n    name: \"Primitive Output\",\n    //variableName: \"outputResult\",\n    description: Descriptions.NodeSpecific.PrimitiveOutput.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.InputValueToOutput,\n            type: Types.OR(Types.String, Types.Number, Types.Boolean)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!input[\"input\"] || !properties)\n            return {};\n\n        const inputType = typeof input[\"input\"];\n        if (inputType === Types.String || inputType === Types.Number || inputType === Types.Boolean) {\n            const output: PrimitiveOutput = {\n                type: \"primitive\",\n                outputOrder: properties[\"outputOrder\"] as number,\n                output: input[\"input\"] as string | number | boolean\n            };\n            return output;\n        }\n\n        // Return different types to the output visualizer depending on the input\n        return {};\n    }\n};\n\nconst wackyOutputNode: NodeType = {\n    id: \"wacky-primitive-output\",\n    name: \"Wacky Output\",\n    //variableName: \"wackyOutputResult\",\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.OR(Types.String, Types.Number, Types.Boolean)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"isWackyOutput\",\n            type: \"boolean\"\n        },\n        {\n            id: \"repetitionAmount\",\n            type: \"number\"\n        },\n        {\n            id: \"finalOutput\",\n            type: \"string\"\n        },\n        {\n            id: \"hidden\",\n            type: \"string\",\n            isHidden: true\n        },\n        {\n            id: \"readOnly\",\n            type: \"string\",\n            isReadOnly: true,\n            defaultValue: \"someValuesdfgsdfgsdfgsdfg\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties?: PrimitiveObject): Promise<PrimitiveTree> => {\n        if (!input[\"input\"] || !properties)\n            return {};\n\n        const inputType = typeof input[\"input\"];\n        if (inputType === Types.String || inputType === Types.Number || inputType === Types.Boolean) {\n            let outputMsg = `${input[\"input\"] as string | number | boolean}`;\n\n            // Outputs normally if no properties found or flag is not true\n            const isWackyOutput = properties[\"isWackyOutput\"] as boolean;\n            if (isWackyOutput) {\n                const inputStr = outputMsg;\n                outputMsg = \"\";\n                for (let i = 0; i < (properties[\"repetitionAmount\"] as number); i++) {\n                    outputMsg += `${inputStr}\\n`;\n                }\n\n                outputMsg += `${(properties[\"finalOutput\"] as string)}`;\n            }\n\n            const output: PrimitiveOutput = {\n                type: \"primitive\",\n                outputOrder: properties[\"outputOrder\"] as number,\n                output: outputMsg\n            };\n\n            return output;\n        }\n        \n        // Return different types to the output visualizer depending on the input\n        return {};\n    }\n};\n\nconst csvSourceNode: NodeType = {\n    id: \"csv-source\",\n    name: \"CSV Source\",\n    //variableName: \"csvSourceResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"sourceId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const sourceId = properties[\"sourceId\"] as string;\n        const csv = new CSVSource(sourceId);\n        const loadResult = await csv.loadToDf();\n        if (!loadResult || !csv.df)\n            return {};\n\n        return {\n            output: csv.df\n        };\n    }\n};\n\n// Getters and Setters\n\nconst getStringVariableNode: NodeType = {\n    id: \"string-variable-getter\",\n    name: \"Get String\",\n    //variableName: \"getStringVariableResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.String\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const variableId = properties[\"variableId\"] as string;\n        const value = NodeExecManager.getVariable(variableId);\n        if (value == null)\n            return {};\n        \n        return {\n            output: value as string\n        };\n    }\n};\n\nconst setStringVariableNode: NodeType = {\n    id: \"string-variable-setter\",\n    name: \"Set String\",\n    //variableName: \"setStringVariableResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.String\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {\n                result: false\n            };\n\n        const inputVal = input[\"input\"] as string;\n        const variableId = properties[\"variableId\"] as string;\n        NodeExecManager.setVariable(variableId, inputVal);\n\n        return {\n            result: true\n        };\n    }\n};\n\nconst getNumberVariableNode: NodeType = {\n    id: \"number-variable-getter\",\n    name: \"Get Number\",\n    //variableName: \"getNumberVariableResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.Number\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const variableId = properties[\"variableId\"] as string;\n        const value = NodeExecManager.getVariable(variableId);\n        if (value == null)\n            return {};\n        \n        return {\n            output: value as number\n        };\n    }\n};\n\nconst setNumberVariableNode: NodeType = {\n    id: \"number-variable-setter\",\n    name: \"Set Number\",\n    //variableName: \"setNumberVariableResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.Number\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {\n                result: false\n            };\n\n        const inputVal = input[\"input\"] as number;\n        const variableId = properties[\"variableId\"] as string;\n        NodeExecManager.setVariable(variableId, inputVal);\n\n        return {\n            result: true\n        };\n    }\n};\n\nconst getBooleanVariableNode: NodeType = {\n    id: \"boolean-variable-getter\",\n    name: \"Get Boolean\",\n    //variableName: \"getBooleanVariableResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.Boolean\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const variableId = properties[\"variableId\"] as string;\n        const value = NodeExecManager.getVariable(variableId);\n        if (value == null)\n            return {};\n        \n        return {\n            output: value as boolean\n        };\n    }\n};\n\nconst setBooleanVariableNode: NodeType = {\n    id: \"boolean-variable-setter\",\n    name: \"Set Boolean\",\n    //variableName: \"setBooleanVariableResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.Boolean\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {\n                result: false\n            };\n\n        const inputVal = input[\"input\"] as boolean;\n        const variableId = properties[\"variableId\"] as string;\n        NodeExecManager.setVariable(variableId, inputVal);\n\n        return {\n            result: true\n        };\n    }\n};\n\nconst getDataFrameVariableNode: NodeType = {\n    id: \"DataFrame-variable-getter\",\n    name: \"Get DataFrame\",\n    //variableName: \"getDataFrameVariableResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const variableId = properties[\"variableId\"] as string;\n        const value = NodeExecManager.getVariable(variableId);\n        if (value == null)\n            return {};\n        \n        return {\n            output: value as DataFrame\n        };\n    }\n};\n\nconst setDataFrameVariableNode: NodeType = {\n    id: \"DataFrame-variable-setter\",\n    name: \"Set DataFrame\",\n    //variableName: \"setDataFrameVariableResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {\n                result: false\n            };\n\n        const inputVal = input[\"input\"] as DataFrame;\n        const variableId = properties[\"variableId\"] as string;\n        NodeExecManager.setVariable(variableId, inputVal);\n\n        return {\n            result: true\n        };\n    }\n};\n\nconst getSeriesVariableNode: NodeType = {\n    id: \"Series-variable-getter\",\n    name: \"Get Series\",\n    //variableName: \"getSeriesVariableResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const variableId = properties[\"variableId\"] as string;\n        const value = NodeExecManager.getVariable(variableId);\n        if (value == null)\n            return {};\n        \n        return {\n            output: value as Series\n        };\n    }\n};\n\nconst setSeriesVariableNode: NodeType = {\n    id: \"Series-variable-setter\",\n    name: \"Set Series\",\n    //variableName: \"setSeriesVariableResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {\n                result: false\n            };\n\n        const inputVal = input[\"input\"] as Series;\n        const variableId = properties[\"variableId\"] as string;\n        NodeExecManager.setVariable(variableId, inputVal);\n\n        return {\n            result: true\n        };\n    }\n};\n\nconst BaseNodes: NodeCollection = {\n    id: \"base\",\n    name: \"Base Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"\",\n            types: [\n                primitiveOutputNode,\n                //wackyOutputNode,\n                csvSourceNode,\n            ]\n        },\n        {\n            name: \"Variables\",\n            types: [\n                getStringVariableNode,\n                setStringVariableNode,\n                getNumberVariableNode,\n                setNumberVariableNode,\n                getBooleanVariableNode,\n                setBooleanVariableNode,\n                getDataFrameVariableNode,\n                setDataFrameVariableNode,\n                getSeriesVariableNode,\n                setSeriesVariableNode\n            ]\n        }\n    ]\n};\nexport default BaseNodes;","import DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport Series from \"danfojs/dist/danfojs-base/core/series\";\nimport { ArrayType1D, ArrayType2D } from \"danfojs/dist/danfojs-base/shared/types\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler, ChartOutput, NodeCollection } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\n\nconst lineChartOutputNode: NodeType = {\n    id: \"line-chart-output\",\n    name: \"Line Chart\",\n    //variableName: \"lineChartOutputResult\",\n    description: Descriptions.NodeSpecific.LineChart.Description,\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.Common.Chart.LabelsInput,\n            type: Types.Series\n        },\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        },\n        {\n            id: \"isSmooth\",\n            description: Descriptions.NodeSpecific.LineChart.IsSmoothProperty,\n            type: \"boolean\",\n            defaultValue: true\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"labels\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"labels\"));\n\n        if (Meta.isEmpty(input[\"data\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n\n        if (Meta.isEmpty(input[\"labels\"]) || Meta.isEmpty(input[\"data\"]))\n            return {};\n\n        const labels = input[\"labels\"] as Series;\n        const data = input[\"data\"] as DataFrame | Series;\n        const title = properties[\"title\"] as string;\n        const isSmooth = properties[\"isSmooth\"] as boolean;\n        if (labels.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"labels\", \"property\"));\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (labels.shape[0] <= 0 || data.shape[0] <= 0)\n            return {};\n\n        let invalidColumns: string[] = [];\n        if (data instanceof DataFrame)\n            invalidColumns = data.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return data.columns[index];\n            }).filter((col): col is string => !!col);\n        else\n            invalidColumns = (data.dtype === \"string\" || data.dtype === \"boolean\") ? [\"Series\"] : [];\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns));\n            return {};\n        }\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"multi-line\", \n            title: title,\n            labels: labels.values as ArrayType1D, \n            data: data instanceof Series ? [data.values as ArrayType1D] : data.getColumnData as ArrayType2D,\n            dataLabels: data.columns,\n            options: {\n                isSmooth: isSmooth\n            }\n        };\n        return output;\n    }\n};\n\nconst stackedLineChartOutputNode: NodeType = {\n    id: \"stacked-line-chart-output\",\n    name: \"Stacked Line Chart\",\n    description: Descriptions.NodeSpecific.StackedLineChart.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.Common.Chart.LabelsInput,\n            type: Types.Series\n        },\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"labels\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"labels\"));\n\n        if (Meta.isEmpty(input[\"data\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n\n        if (Meta.isEmpty(input[\"labels\"]) || Meta.isEmpty(input[\"data\"]))\n            return {};\n\n        const labels = input[\"labels\"] as Series;\n        const data = input[\"data\"] as DataFrame | Series;\n        const title = properties[\"title\"] as string;\n        if (labels.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"labels\", \"property\"));\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (labels.shape[0] <= 0 || data.shape[0] <= 0)\n            return {};\n\n        let invalidColumns: string[] = [];\n        if (data instanceof DataFrame)\n            invalidColumns = data.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return data.columns[index];\n            }).filter((col): col is string => !!col);\n        else\n            invalidColumns = (data.dtype === \"string\" || data.dtype === \"boolean\") ? [\"Series\"] : [];\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns));\n            return {};\n        }\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"stacked-line\", \n            title: title,\n            labels: labels.values as ArrayType1D, \n            data: data instanceof Series ? [data.values as ArrayType1D] : data.getColumnData as ArrayType2D,\n            dataLabels: data.columns\n        };\n        return output;\n    }\n};\n\nconst barChartOutputNode: NodeType = {\n    id: \"bar-chart-output\",\n    name: \"Bar Chart\",\n    description: Descriptions.NodeSpecific.BarChart.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.Common.Chart.LabelsInput,\n            type: Types.Series\n        },\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"labels\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"labels\"));\n\n        if (Meta.isEmpty(input[\"data\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n\n        if (Meta.isEmpty(input[\"labels\"]) || Meta.isEmpty(input[\"data\"]))\n            return {};\n\n        const labels = input[\"labels\"] as Series;\n        const data = input[\"data\"] as DataFrame | Series;\n        const title = properties[\"title\"] as string;\n\n        if (labels.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"labels\", \"property\"));\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (labels.shape[0] <= 0 || data.shape[0] <= 0)\n            return {};\n\n        let invalidColumns: string[] = [];\n        if (data instanceof DataFrame)\n            invalidColumns = data.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return data.columns[index];\n            }).filter((col): col is string => !!col);\n        else\n            invalidColumns = (data.dtype === \"string\" || data.dtype === \"boolean\") ? [\"Series\"] : [];\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns));\n            return {};\n        }\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"vertical-bar\", \n            title: title,\n            labels: labels.values as ArrayType1D, \n            data: data instanceof Series ? [data.values as ArrayType1D] : data.getColumnData as ArrayType2D,\n            dataLabels: data.columns\n        };\n        return output;\n    }\n};\n\nconst horizontalBarChartOutputNode: NodeType = {\n    id: \"horizontal-bar-chart-output\",\n    name: \"Horizontal Bar Chart\",\n    description: Descriptions.NodeSpecific.HorizontalBarChart.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.Common.Chart.LabelsInput,\n            type: Types.Series\n        },\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"labels\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"labels\"));\n\n        if (Meta.isEmpty(input[\"data\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n\n        if (Meta.isEmpty(input[\"labels\"]) || Meta.isEmpty(input[\"data\"]))\n            return {};\n\n        const labels = input[\"labels\"] as Series;\n        const data = input[\"data\"] as DataFrame | Series;\n        const title = properties[\"title\"] as string;\n\n        if (labels.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"labels\", \"property\"));\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (labels.shape[0] <= 0 || data.shape[0] <= 0)\n            return {};\n\n        let invalidColumns: string[] = [];\n        if (data instanceof DataFrame)\n            invalidColumns = data.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return data.columns[index];\n            }).filter((col): col is string => !!col);\n        else\n            invalidColumns = (data.dtype === \"string\" || data.dtype === \"boolean\") ? [\"Series\"] : [];\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns));\n            return {};\n        }\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"horizontal-bar\", \n            title: title,\n            labels: labels.values as ArrayType1D, \n            data: data instanceof Series ? [data.values as ArrayType1D] : data.getColumnData as ArrayType2D,\n            dataLabels: data.columns\n        };\n        return output;\n    }\n};\n\nconst stackedBarChartOutputNode: NodeType = {\n    id: \"stacked-bar-chart-output\",\n    name: \"Stacked Bar Chart\",\n    description: Descriptions.NodeSpecific.StackedBarChart.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.Common.Chart.LabelsInput,\n            type: Types.Series\n        },\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"labels\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"labels\"));\n\n        if (Meta.isEmpty(input[\"data\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n\n        if (Meta.isEmpty(input[\"labels\"]) || Meta.isEmpty(input[\"data\"]))\n            return {};\n\n        const labels = input[\"labels\"] as Series;\n        const data = input[\"data\"] as DataFrame | Series;\n        const title = properties[\"title\"] as string;\n\n        if (labels.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"labels\", \"property\"));\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (labels.shape[0] <= 0 || data.shape[0] <= 0)\n            return {};\n\n        let invalidColumns: string[] = [];\n        if (data instanceof DataFrame)\n            invalidColumns = data.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return data.columns[index];\n            }).filter((col): col is string => !!col);\n        else\n            invalidColumns = (data.dtype === \"string\" || data.dtype === \"boolean\") ? [\"Series\"] : [];\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns));\n            return {};\n        }\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"stacked-bar\", \n            title: title,\n            labels: labels.values as ArrayType1D, \n            data: data instanceof Series ? [data.values as ArrayType1D] : data.getColumnData as ArrayType2D,\n            dataLabels: data.columns\n        };\n        return output;\n    }\n};\n\nconst violinPlotOutputNode: NodeType = {\n    id: \"violin-plot-output\",\n    name: \"Violin Plot\",\n    description: Descriptions.NodeSpecific.ViolinPlot.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataWithLabelInput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        },\n        {\n            id: \"labelsColumn\",\n            description: Descriptions.Common.Chart.LabelsColumnProperty,\n            type: \"string\",\n            regex: Regexes.labelRegex\n        },\n        {\n            id: \"ignoreDenseLabels\",\n            description: Descriptions.Common.Chart.IgnoreDenseLabelsProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"data\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n            return {};\n        }\n\n        const data = input[\"data\"] as DataFrame;\n        const title = properties[\"title\"] as string;\n        const labelsColumn = properties[\"labelsColumn\"] as string;\n        const ignoreDenseLabels = properties[\"ignoreDenseLabels\"] as boolean;\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (!Regexes.isMatch(labelsColumn, Regexes.labelRegex))\n            errorHandler.error(Errors.CannotBeEmpty(labelsColumn, \"property\"));\n\n        if (data.shape[0] <= 0 || !Regexes.isMatch(labelsColumn, Regexes.labelRegex))\n            return {};\n\n        if (!data.columns.includes(labelsColumn)) {\n            errorHandler.error(Errors.ValueNotExists(labelsColumn, \"column\"));\n            return {};\n        }\n\n        const labels = data.column(labelsColumn);\n        const dfNoLabel = data.drop({ columns: labelsColumn }) as DataFrame;\n\n        const invalidColumns: string[] = dfNoLabel.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return data.columns[index];\n        }).filter((col): col is string => !!col);\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameOnlyOneNonNumericalColumn(\"data\", invalidColumns));\n            return {};\n        }\n\n        const uniqueLabels = labels.unique().values as ArrayType1D;\n        if (uniqueLabels.length > 30 && !ignoreDenseLabels) {\n            errorHandler.error(Errors.DenseUniqueLabels(labelsColumn));\n            return {};\n        }\n\n        // Get the values in one column depending on the current unique value from the labels column\n        const resultData: number[][][] = [];\n        dfNoLabel.columns.forEach(col => {\n            const columns: number[][] = [];\n            uniqueLabels.forEach(label => {\n                const labelDf = data.loc({ rows: data[labelsColumn].eq(label) });\n                const column = labelDf.column(col);\n                columns.push(column.values as number[]);\n            });\n            resultData.push(columns);\n        });\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"violin-plot\", \n            title: title,\n            labels: uniqueLabels, \n            data: resultData,\n            dataLabels: dfNoLabel.columns\n        };\n        return output;\n    }\n};\n\nconst boxPlotOutputNode: NodeType = {\n    id: \"box-plot-output\",\n    name: \"Box Plot\",\n    description: Descriptions.NodeSpecific.BoxPlot.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataWithLabelInput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        },\n        {\n            id: \"labelsColumn\",\n            description: Descriptions.Common.Chart.LabelsColumnProperty,\n            type: \"string\",\n            regex: Regexes.labelRegex\n        },\n        {\n            id: \"ignoreDenseLabels\",\n            description: Descriptions.Common.Chart.IgnoreDenseLabelsProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"data\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n            return {};\n        }\n\n        const data = input[\"data\"] as DataFrame;\n        const title = properties[\"title\"] as string;\n        const labelsColumn = properties[\"labelsColumn\"] as string;\n        const ignoreDenseLabels = properties[\"ignoreDenseLabels\"] as boolean;\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (!Regexes.isMatch(labelsColumn, Regexes.labelRegex))\n            errorHandler.error(Errors.CannotBeEmpty(labelsColumn, \"property\"));\n\n        if (data.shape[0] <= 0 || !Regexes.isMatch(labelsColumn, Regexes.labelRegex))\n            return {};\n\n        if (!data.columns.includes(labelsColumn)) {\n            errorHandler.error(Errors.ValueNotExists(labelsColumn, \"column\"));\n            return {};\n        }\n\n        const labels = data.column(labelsColumn);\n        const dfNoLabel = data.drop({ columns: labelsColumn }) as DataFrame;\n\n        const invalidColumns: string[] = dfNoLabel.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return data.columns[index];\n        }).filter((col): col is string => !!col);\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameOnlyOneNonNumericalColumn(\"data\", invalidColumns));\n            return {};\n        }\n\n        const uniqueLabels = labels.unique().values as ArrayType1D;\n        if (uniqueLabels.length > 30 && !ignoreDenseLabels) {\n            errorHandler.error(Errors.DenseUniqueLabels(labelsColumn));\n            return {};\n        }\n\n        // Get the values in one column depending on the current unique value from the labels column\n        const resultData: number[][][] = [];\n        dfNoLabel.columns.forEach(col => {\n            const columns: number[][] = [];\n            uniqueLabels.forEach(label => {\n                const labelDf = data.loc({ rows: data[labelsColumn].eq(label) });\n                const column = labelDf.column(col);\n                columns.push(column.values as number[]);\n            });\n            resultData.push(columns);\n        });\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"box-plot\", \n            title: title,\n            labels: uniqueLabels, \n            data: resultData,\n            dataLabels: dfNoLabel.columns\n        };\n        return output;\n    }\n};\n\nconst ChartNodes: NodeCollection = {\n    id: \"chart\",\n    name: \"Chart Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"Output\",\n            types: [\n                lineChartOutputNode,\n                stackedLineChartOutputNode,\n                barChartOutputNode,\n                horizontalBarChartOutputNode,\n                stackedBarChartOutputNode,\n                violinPlotOutputNode,\n                boxPlotOutputNode\n            ]\n        }\n    ]\n};\nexport default ChartNodes;","import DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport Series from \"danfojs/dist/danfojs-base/core/series\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport { Types } from \"../utils/Types\";\n\nconst addDataFrame: NodeType = {\n    id: \"add-dataframe\",\n    name: \"Add DataFrame\",\n    description: Descriptions.NodeSpecific.AddDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n\n        return {\n            result: input1.add(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst subtractDataFrame: NodeType = {\n    id: \"subtract-dataframe\",\n    name: \"Subtract DataFrame\",\n    description: Descriptions.NodeSpecific.SubtractDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n            \n        return {\n            result: input1.sub(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst multiplyDataFrame: NodeType = {\n    id: \"multiply-dataframe\",\n    name: \"Multiply DataFrame\",\n    description: Descriptions.NodeSpecific.MultiplyDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n            \n        return {\n            result: input1.mul(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst divideDataFrame: NodeType = {\n    id: \"divide-dataframe\",\n    name: \"Divide DataFrame\",\n    description: Descriptions.NodeSpecific.DivideDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        if (typeof input2 === \"number\" && input2 === 0) {\n            errorHandler.error(Errors.NumberCannotBeZero(\"input2\", \"input\"));\n            return {};\n        }\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n\n        return {\n            result: input1.div(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst modDataFrame: NodeType = {\n    id: \"modulo-dataframe\",\n    name: \"Modulo DataFrame\",\n    description: Descriptions.NodeSpecific.ModDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n            \n        return {\n            result: input1.mod(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst powerDataFrame: NodeType = {\n    id: \"power-dataframe\",\n    name: \"Exponent DataFrame\",\n    description: Descriptions.NodeSpecific.PowerDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n            \n        return {\n            result: input1.pow(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst absDataFrame: NodeType = {\n    id: \"absolute-dataframe\",\n    name: \"Absolute DataFrame\",\n    description: Descriptions.NodeSpecific.AbsoluteDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n\n        const invalidColumns = df.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return df.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input\", invalidColumns));\n            return {};\n        }\n            \n        const newDf = df.abs() as DataFrame;\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst roundDataFrame: NodeType = {\n    id: \"round-dataframe\",\n    name: \"Round DataFrame\",\n    description: Descriptions.NodeSpecific.RoundDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"numDecimal\",\n            type: \"number\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const numDecimal = properties[\"numDecimal\"] as number;\n\n        const invalidColumns = df.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return df.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input\", invalidColumns));\n            return {};\n        }\n            \n        const newDf = df.round(numDecimal) as DataFrame;\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst BinaryOpsNodes = [\n    addDataFrame,\n    subtractDataFrame,\n    multiplyDataFrame,\n    divideDataFrame,\n    modDataFrame,\n    powerDataFrame,\n    absDataFrame,\n    roundDataFrame,\n];\n\nexport default BinaryOpsNodes;","import DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport Series from \"danfojs/dist/danfojs-base/core/series\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport DanfoUtils from \"../utils/DanfoUtils\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\n\nfunction getConditionMask(df: DataFrame, col: string, cond: string, comp: string): Series | undefined {\n    let result: Series | undefined;\n\n    try {\n        if (cond === \">\")\n            result = df.column(col).gt(Number(comp) ?? comp);\n        else if (cond === \">=\")\n            result = df.column(col).ge(Number(comp) ?? comp);\n        else if (cond === \"<\")\n            result = df.column(col).lt(Number(comp) ?? comp);\n        else if (cond === \"<=\")\n            result = df.column(col).le(Number(comp) ?? comp);\n        \n        // These two use square brackets instead of column() so it will\n        // support equality checking for both strings and numbers, instead\n        // of only numbers.\n        else if (cond === \"==\") {\n            const dtype = df.column(col).dtype;\n            if (dtype === \"int32\" || dtype === \"float32\")\n                result = df.column(col).eq(Number(comp)) as Series;\n            else\n                result = df[col].eq(comp) as Series;\n        }\n        else if (cond === \"!=\") {\n            const dtype = df.column(col).dtype;\n            if (dtype === \"int32\" || dtype === \"float32\")\n                result = df.column(col).ne(Number(comp)) as Series;\n            else\n                result = df[col].ne(comp) as Series;\n        }\n\n        else if (cond === \"has\")\n            result = df.column(col).str.includes(comp) as Series;\n        else if (cond === \"start\")\n            result = df.column(col).str.startsWith(comp) as Series;\n        else if (cond === \"end\")\n            result = df.column(col).str.endsWith(comp) as Series;\n    } catch(err) {\n        console.error(err);\n        result = undefined;\n    }\n\n    return result;\n}\n\nconst locNode: NodeType = {\n    id: \"loc-dataframe\",\n    name: \"DataFrame Loc\",\n    description: Descriptions.NodeSpecific.DataFrameLoc.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"columns\",\n            description: Descriptions.NodeSpecific.DataFrameLoc.ColumnsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelCommaRegex, Regexes.labelSliceRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"rows\",\n            description: Descriptions.NodeSpecific.DataFrameLoc.RowsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.conditionRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"resetIndex\",\n            description: Descriptions.NodeSpecific.DataFrameLoc.ResetIndexProperty,\n            type: \"boolean\",\n            defaultValue: false\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n        \n        const columnPattern = properties[\"columns\"] as string;\n        const rowPattern = properties[\"rows\"] as string;\n        const resetIndex = properties[\"resetIndex\"] as boolean;\n        const df = input[\"input\"] as DataFrame;\n\n        let columns: string[] | undefined;\n        if (Regexes.isMatch(columnPattern, Regexes.labelCommaRegex))\n            columns = Regexes.processCommaDelimString(columnPattern, Regexes.baseLabelRegex);\n        else if (Regexes.isMatch(columnPattern, Regexes.labelSliceRegex))\n            columns = [columnPattern];\n\n        // These row patterns should refer to row indexes instead of actual values\n        let rows: Series | undefined;\n        if (Regexes.isMatch(rowPattern, Regexes.conditionRegex)) {\n            const parts = rowPattern.split(\" \");\n    \n            const col = parts[0];\n            const cond = parts[1];\n            let comp: string;\n            if (parts.length > 3)\n                comp = parts.slice(2).join(\" \").replaceAll(\"'\", \"\");\n            else\n                comp = parts[2];\n    \n            rows = getConditionMask(df, col, cond, comp);\n        }\n        \n        let loc = DanfoUtils.loc(df, columns, rows);\n        loc = resetIndex ? loc.reset_index() as DataFrame : loc;\n        return { \n            output: loc \n        };\n    }\n};\n\nconst ilocNode: NodeType = {\n    id: \"iloc-dataframe\",\n    name: \"DataFrame iLoc\",\n    description: Descriptions.NodeSpecific.DataFrameiLoc.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"columns\",\n            description: Descriptions.NodeSpecific.DataFrameiLoc.ColumnsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.numberCommaRegex, Regexes.numberSliceRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"rows\",\n            description: Descriptions.NodeSpecific.DataFrameiLoc.RowsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.numberCommaRegex, Regexes.numberSliceRegex, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n        \n        const columnPattern = properties[\"columns\"] as string;\n        const rowPattern = properties[\"rows\"] as string;\n        const df = input[\"input\"] as DataFrame;\n\n        let columns: (string | number)[] | undefined;\n        if (Regexes.isMatch(columnPattern, Regexes.numberCommaRegex))\n            columns = Regexes.processCommaDelimNumber(columnPattern, Regexes.baseNumberRegex);\n        else if (Regexes.isMatch(columnPattern, Regexes.numberSliceRegex))\n            columns = [columnPattern];\n\n        let rows: (string | number)[] | undefined;\n        if (Regexes.isMatch(rowPattern, Regexes.numberCommaRegex))\n            rows = Regexes.processCommaDelimNumber(rowPattern, Regexes.baseNumberRegex);\n        else if (Regexes.isMatch(rowPattern, Regexes.numberSliceRegex))\n            rows = [rowPattern];\n\n        const iloc = df.iloc({ columns, rows });\n        return { \n            output: iloc \n        };\n    }\n};\n\nconst getNumericalColumns: NodeType = {\n    id: \"numerical-column-dataframe\",\n    name: \"Get Numerical Columns\",\n    description: Descriptions.NodeSpecific.GetNumericalColumns.Description,\n    style: {\n        width: 170\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n        \n        const df = input[\"input\"] as DataFrame;\n        const validColumns = df.dtypes.map((type, index) => {\n            if (type !== \"string\" && type !== \"boolean\")\n                return df.columns[index];\n        }).filter((col): col is string => !!col);\n\n        const newDf = df.loc({ columns: validColumns });\n        return { \n            output: newDf \n        };\n    }\n};\n\nconst QueryNodes = [\n    locNode,\n    ilocNode,\n    getNumericalColumns\n];\n\nexport default QueryNodes;","import DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport Series from \"danfojs/dist/danfojs-base/core/series\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\n\nconst describeDataFrame: NodeType = {\n    id: \"describe-dataframe\",\n    name: \"Describe DataFrame\",\n    description: Descriptions.NodeSpecific.DescribeDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.DataFrameDescriptive.DataFrameOutput,\n            type: Types.DataFrame\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const nullCols: string[] = [];\n        df.columns.forEach(col => {\n            const column = df.column(col);\n            if (column.count() !== column.size)\n                nullCols.push(col);\n        });\n\n        if (nullCols.length > 0) {\n            errorHandler.error(Errors.DataFrameNullColumnsCannotDescribe(nullCols));\n            return {};\n        }\n\n        const newDf = df.describe();\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst histogram: NodeType = {\n    id: \"histogram\",\n    name: \"Histogram\",\n    description: Descriptions.NodeSpecific.Histogram.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.NodeSpecific.Histogram.LabelsOutput,\n            type: Types.Series\n        },\n        {\n            id: \"count\",\n            description: Descriptions.NodeSpecific.Histogram.CountOutput,\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"name\",\n            description: Descriptions.NodeSpecific.Histogram.NameProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"bins\",\n            description: Descriptions.NodeSpecific.Histogram.BinsProperty,\n            type: \"number\",\n            defaultValue: 20\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const bins = properties[\"bins\"] as number;\n        const name = properties[\"name\"] as string;\n\n        if (bins <= 0) {\n            errorHandler.error(Errors.NumberCannotBeZeroOrNegative(\"bins\", \"property\"));\n            return {};\n        }\n\n        let colName = name;\n        if (!Regexes.isMatch(name, Regexes.labelRegex))\n            colName = \"Count\";\n\n        const min = series.min();\n        const max = series.max();\n        const range = max - min;\n        const step = range / bins;\n\n        const labels: number[] = [];\n        const count: number[] = [];\n        const digits = 4;\n        const fraction = Math.pow(10, digits);\n        for (let i = 0; i < bins; i++) {\n            labels.push(Math.round((step * i + min) * fraction) / fraction);\n            count.push(0);\n        }\n\n        const values = series.values as number[];\n        values.forEach(value => {\n            const index = Math.floor((value - min) / step);\n            count[index] += 1;\n        });\n\n        return {\n            labels: new Series(labels, { columns: [\"Labels\"] }),\n            count: new Series(count, { columns: [colName] })\n        };\n    }\n};\n\nconst headDataFrame: NodeType = {\n    id: \"head-dataframe\",\n    name: \"DataFrame Head\",\n    description: Descriptions.NodeSpecific.HeadDataFrame.Description,\n    //variableName: \"dataFrameOutputResult\",\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.DataFrameDescriptive.DataFrameOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"rowCount\",\n            description: Descriptions.Common.DataFrame.RowCountProperty,\n            type: \"number\",\n            defaultValue: 10\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const rowCount = properties[\"rowCount\"] as number;\n        const head = (df.shape[0] >= rowCount && rowCount > 0) ? df.head(rowCount) : df;\n        return {\n            output: head\n        };\n    }\n};\n\nconst tailDataFrame: NodeType = {\n    id: \"tail-dataframe\",\n    name: \"DataFrame Tail\",\n    description: Descriptions.NodeSpecific.TailDataFrame.Description,\n    //variableName: \"dataFrameOutputResult\",\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.DataFrameDescriptive.DataFrameOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"rowCount\",\n            description: Descriptions.Common.DataFrame.RowCountProperty,\n            type: \"number\",\n            defaultValue: 10\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const rowCount = properties[\"rowCount\"] as number;\n        const tail = (df.shape[0] >= rowCount && rowCount > 0) ? df.tail(rowCount) : df;\n        return {\n            output: tail\n        };\n    }\n};\n\nconst countDataFrame: NodeType = {\n    id: \"count-dataframe\",\n    name: \"Count DataFrame\",\n    description: Descriptions.NodeSpecific.CountDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"countRows\",\n            description: Descriptions.NodeSpecific.CountDataFrame.CountRowsOutput,\n            type: Types.Number\n        },\n        {\n            id: \"countColumns\",\n            description: Descriptions.NodeSpecific.CountDataFrame.CountColumnsOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        return {\n            countRows: df.shape[0],\n            countColumns: df.shape[1]\n        };\n    }\n};\n\nconst DataFrameDescriptiveNodes = [\n    describeDataFrame,\n    histogram,\n    headDataFrame,\n    tailDataFrame,\n    countDataFrame,\n];\n\nexport default DataFrameDescriptiveNodes;","import * as Danfo from \"danfojs\";\nimport Errors from \"../utils/Errors\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport DanfoUtils from \"../utils/DanfoUtils\";\nimport Meta from \"../utils/Meta\";\nimport Descriptions from \"../utils/Descriptions\";\nimport { ArrayType1D } from \"danfojs/dist/danfojs-base/shared/types\";\nimport DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport Series from \"danfojs/dist/danfojs-base/core/series\";\n\nconst mapDataFrame: NodeType = {\n    id: \"map-dataframe\",\n    name: \"Map DataFrame\",\n    description: Descriptions.NodeSpecific.MapDataFrame.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"column\",\n            description: Descriptions.NodeSpecific.MapDataFrame.ColumnProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"mappings\",\n            description: Descriptions.NodeSpecific.MapDataFrame.MappingsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.valueMapRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"replaceColumn\",\n            description: Descriptions.NodeSpecific.MapDataFrame.ReplaceColumnProperty,\n            type: \"boolean\",\n            defaultValue: false\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const column = properties[\"column\"] as string;\n        const replaceColumn = properties[\"replaceColumn\"] as boolean;\n        const mappingsVal = properties[\"mappings\"] as string;\n        \n        let mappings: string[] | undefined;\n        if (Regexes.isMatch(mappingsVal, Regexes.valueMapRegex))\n            mappings = Regexes.processCommaDelimString(mappingsVal, Regexes.baseValueMapRegex);\n\n        if (!Regexes.isMatch(column, Regexes.labelRegex))\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"column\"));\n\n        if (!mappings || mappings.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"mappings\"));\n\n        if (!Regexes.isMatch(column, Regexes.labelRegex) || !mappings || mappings.length <= 0)\n            return {\n                output: df\n            };\n\n        const columnIndex = df.columns.indexOf(column);\n        if (columnIndex < 0) {\n            errorHandler.warning(Errors.ValueNotExists(column, \"column\"));\n            return {\n                output: df\n            };\n        }\n            \n        const columnType = df.dtypes[columnIndex];\n        const mappingsObj: {\n            [id: string]: string | number | boolean;\n        } = {};\n        mappings.forEach(map => {\n            const split = map.split(\":\");\n            const left: string = split[0].replaceAll(\"'\", \"\");\n            let right: string | number | boolean = split[1].replaceAll(\"'\", \"\");\n            if (right === \"$mean\") {\n                const tempSeries = df.column(column).asType(\"float32\") as Series;\n                right = tempSeries.mean();\n            }\n\n            if (columnType === \"float32\" || columnType === \"int32\")\n                right = Number(right);\n            else if (columnType === \"boolean\")\n                right = right === \"true\" || right === \"True\" || right === \"1\";\n\n            mappingsObj[left] = right;\n        });\n\n        let series = df.column(column);\n        series = DanfoUtils.map(series, mappingsObj);\n        \n        // For renaming column if replaceColumn is not ticked,\n        // will prevent name collisions\n        let newCol = column;\n        if (!replaceColumn) {\n            let i = 1;\n            while (df.columns.includes(newCol) && i < 10000)\n                newCol = `${column}_${i++}`;\n        }\n\n        const newDf = df.copy();\n        newDf.addColumn(newCol,\n            replaceColumn ? series.values as ArrayType1D : series,\n            { inplace: true }) as DataFrame;\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst renameColumns: NodeType = {\n    id: \"rename-columns\",\n    name: \"Rename Columns\",\n    description: Descriptions.NodeSpecific.RenameColumns.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"mappings\",\n            description: Descriptions.Common.DataFrameModify.MappingsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.valueMapRegex, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const mappingsVal = properties[\"mappings\"] as string;\n        \n        let mappings: string[] | undefined;\n        if (Regexes.isMatch(mappingsVal, Regexes.valueMapRegex))\n            mappings = Regexes.processCommaDelimString(mappingsVal, Regexes.baseValueMapRegex);\n\n        if (!mappings || mappings.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"mappings\"));\n\n        if (!mappings || mappings.length <= 0)\n            return {\n                output: df\n            };\n            \n        const mappingsObj: {\n            [id: string]: string;\n        } = {};\n        mappings.forEach(map => {\n            const split = map.split(\":\");\n            const left: string = split[0];\n            let hasError = false;\n            if (!df.columns.includes(left)) {\n                errorHandler.error(Errors.ValueNotExists(left, \"column\"));\n                hasError = true;\n            }\n\n            const right: string = split[1];\n            if (df.columns.includes(right)) {\n                errorHandler.error(Errors.ValueExists(right, \"column\"));\n                hasError = true;\n            }\n\n            if (hasError)\n                return;\n\n            mappingsObj[left] = right;\n        });\n\n        if (!mappingsObj)\n            return {\n                output: df\n            };\n\n        const newDf = df.rename(mappingsObj) as DataFrame;\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst removeColumns: NodeType = {\n    id: \"remove-columns\",\n    name: \"Remove Columns\",\n    description: Descriptions.NodeSpecific.RemoveColumns.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"columns\",\n            description: Descriptions.Common.DataFrameModify.ColumnsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelCommaRegex, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const columnPattern = properties[\"columns\"] as string;\n\n        if (!Regexes.isMatch(columnPattern, Regexes.labelCommaRegex))\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"columns\"));\n\n        const columns = Regexes.processCommaDelimString(columnPattern, Regexes.baseLabelRegex);\n        if (columns.length <= 0)\n            return {\n                output: df\n            };\n\n        let hasError = false;\n        columns.forEach(col => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"column\"));\n                hasError = true;\n            }\n        });\n        if (hasError)\n            return {\n                output: df\n            };\n\n\n        const newDf = df.drop({ columns }) as DataFrame;\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst fillNaDataFrame: NodeType = {\n    id: \"fillna-dataframe\",\n    name: \"Fill Null DataFrame\",\n    description: Descriptions.NodeSpecific.FillNaDataFrame.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"mappings\",\n            description: Descriptions.NodeSpecific.FillNaDataFrame.MappingsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelValueMapRegex, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const mappingsVal = properties[\"mappings\"] as string;\n        \n        let mappings: string[] | undefined;\n        if (Regexes.isMatch(mappingsVal, Regexes.labelValueMapRegex))\n            mappings = Regexes.processCommaDelimString(mappingsVal, Regexes.baseLabelValueMapRegex);\n\n        if (!mappings || mappings.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"mappings\"));\n\n        if (!mappings || mappings.length <= 0)\n            return {\n                output: df\n            };\n            \n        const mappingsObj: {\n            [id: string]: string | number | boolean;\n        } = {};\n        mappings.forEach(map => {\n            const split = map.split(\":\");\n            const left: string = split[0];\n            const columnIndex = df.columns.indexOf(left);\n            if (columnIndex < 0) {\n                errorHandler.error(Errors.ValueNotExists(left, \"column\"));\n                return;\n            }\n\n            const right: string = split[1].replaceAll(\"'\", \"\");\n            const type = df.dtypes[columnIndex];\n            let newValue: string | number | boolean;\n            if (type === \"float32\" || type === \"int32\") {\n                if (right === \"$mean\") {\n                    newValue = df.column(left).mean();\n                    newValue = type === \"int32\" ? Math.round(newValue) : newValue;\n                }\n                else\n                    newValue = Number(right);\n            }\n            else if (type === \"boolean\")\n                newValue = right.toLowerCase() === \"true\" || right === \"1\";\n            else\n                newValue = right;\n            \n            mappingsObj[left] = newValue;\n        });\n\n        if (!mappingsObj)\n            return {\n                output: df\n            };\n\n        const newDf = DanfoUtils.fillna(df, Object.keys(mappingsObj), Object.values(mappingsObj));\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst sortDataFrame: NodeType = {\n    id: \"sort-dataframe\",\n    name: \"Sort DataFrame\",\n    description: Descriptions.NodeSpecific.SortDataFrame.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"sortByColumn\",\n            description: Descriptions.NodeSpecific.SortDataFrame.SortByColumnProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"isAscending\",\n            description: Descriptions.NodeSpecific.SortDataFrame.IsAscendingProperty,\n            type: \"boolean\",\n            defaultValue: true\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const sortByColumn = properties[\"sortByColumn\"] as string;\n        const isAscending = properties[\"isAscending\"] as boolean;\n\n        if (!Regexes.isMatch(sortByColumn, Regexes.labelRegex)) {\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"sortByColumn\"));\n            return {\n                output: df\n            };\n        }\n\n        if (!df.columns.includes(sortByColumn)) {\n            errorHandler.warning(Errors.ValueNotExists(sortByColumn, \"column\"));\n            return {\n                output: df\n            };\n        }\n\n        const newDf = df.sort_values({\n            by: sortByColumn,\n            ascending: isAscending,\n            inplace: false\n        }) as DataFrame;\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst mergeDataFrame: NodeType = {\n    id: \"merge-dataframe\",\n    name: \"Merge DataFrames\",\n    description: Descriptions.NodeSpecific.MergeDataFrames.Description,\n    style: {\n        width: 180\n    },\n    inputSlots: [\n        {\n            id: \"left\",\n            description: Descriptions.NodeSpecific.MergeDataFrames.LeftInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        },\n        {\n            id: \"right\",\n            description: Descriptions.NodeSpecific.MergeDataFrames.RightInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"onColumns\",\n            description: Descriptions.NodeSpecific.MergeDataFrames.OnColumnsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelCommaRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"joinType\",\n            description: Descriptions.NodeSpecific.MergeDataFrames.JoinTypeProperty,\n            type: \"string\",\n            regex: Regexes.combine(/^(left|right|outer|inner)$/, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"left\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"left\"));\n\n        if (Meta.isEmpty(input[\"right\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"right\"));\n\n        if (Meta.isEmpty(input[\"left\"]) || Meta.isEmpty(input[\"right\"]))\n            return {};\n\n        const left = input[\"left\"] as DataFrame | Series;\n        const right = input[\"right\"] as DataFrame | Series;\n        const onColumnsPattern = properties[\"onColumns\"] as string;\n        let joinType = properties[\"joinType\"] as string;\n\n        let onColumns: string[] | undefined;\n        if (Regexes.isMatch(onColumnsPattern, Regexes.labelCommaRegex))\n            onColumns = Regexes.processCommaDelimString(onColumnsPattern, Regexes.baseLabelRegex);\n\n        // Should simply concat on the column axis or if either are Series\n        if (!onColumns || onColumns.length <= 0 || left instanceof Series || right instanceof Series) {\n            const newDf = Danfo.concat({\n                dfList: [left, right],\n                axis: 1\n            });\n            return {\n                output: newDf\n            };\n        }\n\n        const invalidValues: string[] = [];\n        onColumns.forEach((col) => {\n            if (!left.columns.includes(col) || !right.columns.includes(col)) {\n                errorHandler.error(`The column '${col}' must exist on both the left and right dataframes.`);\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: left\n            };\n\n        if (!Regexes.isMatch(joinType, /^(left|right|outer|inner)$/))\n            joinType = \"inner\";\n\n        const newDf = Danfo.merge({\n            left: left as DataFrame,\n            right: right as DataFrame,\n            on: onColumns,\n            how: joinType as \"outer\" | \"inner\" | \"left\" | \"right\"\n        });\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst appendDataFrame: NodeType = {\n    id: \"append-dataframe\",\n    name: \"Append DataFrames\",\n    description: Descriptions.NodeSpecific.AppendDataFrame.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.NodeSpecific.AppendDataFrame.Input1Input,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.NodeSpecific.AppendDataFrame.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame | Series;\n        const input2 = input[\"input2\"] as DataFrame | Series;\n\n        const newDf = Danfo.concat({\n            dfList: [input1, input2],\n            axis: 0\n        });\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst ModifyNodes = [\n    mapDataFrame,\n    renameColumns,\n    removeColumns,\n    fillNaDataFrame,\n    sortDataFrame,\n    mergeDataFrame,\n    appendDataFrame\n];\n\nexport default ModifyNodes;","import DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport Series from \"danfojs/dist/danfojs-base/core/series\";\nimport { ArrayType1D } from \"danfojs/dist/danfojs-base/shared/types\";\nimport {\n    NodeType,\n    PrimitiveTree,\n    PrimitiveObject,\n    NodeErrorHandler\n} from \"../types\";\nimport DanfoUtils from \"../utils/DanfoUtils\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\n\nconst groupbyDataFrame: NodeType = {\n    id: \"groupby-dataframe\",\n    name: \"Group By\",\n    description: Descriptions.NodeSpecific.GroupByDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"keys\",\n            description:\n                Descriptions.NodeSpecific.GroupByDataFrame.KeysProperty,\n            type: \"string\",\n            regex: Regexes.valueCommaRegex\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const columns = properties[\"groupColumns\"] as string;\n        const keys = properties[\"keys\"] as string;\n\n        let columnsArr: string[] | undefined;\n        if (Regexes.isMatch(columns, Regexes.labelCommaRegex))\n            columnsArr = Regexes.processCommaDelimString(\n                columns,\n                Regexes.baseLabelRegex\n            );\n\n        let keysArr: string[] | undefined;\n        if (Regexes.isMatch(keys, Regexes.valueCommaRegex))\n            keysArr = Regexes.processCommaDelimString(\n                keys,\n                Regexes.baseValueRegex\n            );\n\n        if (!columnsArr || columnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!keysArr || keysArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"keys\"));\n\n        if (columnsArr && keysArr && columnsArr.length !== keysArr.length)\n            errorHandler.error(\n                Errors.ArrayLengthsNotEqual(\"groupColumns\", \"keys\")\n            );\n\n        if (\n            !columnsArr ||\n            columnsArr.length <= 0 ||\n            !keysArr ||\n            keysArr.length <= 0 ||\n            (columnsArr && keysArr && columnsArr.length !== keysArr.length)\n        )\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        columnsArr.forEach((col, index) => {\n            const colIndex = df.columns.indexOf(col);\n            if (colIndex < 0) {\n                errorHandler.error(Errors.ValueNotExists(col, \"column\"));\n                invalidValues.push(col);\n                return;\n            }\n\n            if (!keysArr) return;\n\n            const type = df.dtypes[colIndex];\n            let key: string | number | boolean = keysArr[index];\n            if (type === \"float32\" || type === \"int32\") key = Number(key);\n            else if (type === \"boolean\")\n                key = key.toLowerCase() === \"true\" || key === \"1\";\n\n            const dfUniques = df.column(col).unique().values as ArrayType1D;\n            if (!dfUniques.includes(key)) {\n                errorHandler.error(\n                    Errors.ValueNotExists(keysArr[index], \"key\")\n                );\n                invalidValues.push(keysArr[index]);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, columnsArr);\n        const newDf = group.getGroup(keysArr) as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupCountDataFrame: NodeType = {\n    id: \"group-count-dataframe\",\n    name: \"Group Count\",\n    description: Descriptions.NodeSpecific.GroupCountDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"isPercent\",\n            description:\n                Descriptions.NodeSpecific.GroupCountDataFrame.IsPercentProperty,\n            type: \"boolean\",\n            defaultValue: false\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const isPercent = properties[\"isPercent\"] as boolean;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(\n                groupColumns,\n                Regexes.baseLabelRegex\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col([groupColumnsArr[0]]).count() as DataFrame;\n        newDf.rename(\n            { [`${groupColumnsArr[0]}_count`]: \"Count\" },\n            { inplace: true }\n        );\n\n        if (isPercent) {\n            let countCol = newDf.column(\"Count\");\n            const total = countCol.sum();\n            countCol = countCol.div(total) as Series;\n            newDf.addColumn(\"Count\", countCol.values as ArrayType1D, {\n                inplace: true\n            });\n        }\n\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupCumMaxDataFrame: NodeType = {\n    id: \"group-cummax-dataframe\",\n    name: \"Group Cumulative Max\",\n    description: Descriptions.NodeSpecific.GroupCumMaxDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(\n                groupColumns,\n                Regexes.baseLabelRegex\n            );\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(\n                targetColumns,\n                Regexes.baseLabelRegex\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"targetColumns\")\n            );\n\n        if (\n            !groupColumnsArr ||\n            groupColumnsArr.length <= 0 ||\n            !targetColumnsArr ||\n            targetColumnsArr.length <= 0\n        )\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).cumMax() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupCumMinDataFrame: NodeType = {\n    id: \"group-cummin-dataframe\",\n    name: \"Group Cumulative Min\",\n    description: Descriptions.NodeSpecific.GroupCumMinDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(\n                groupColumns,\n                Regexes.baseLabelRegex\n            );\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(\n                targetColumns,\n                Regexes.baseLabelRegex\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"targetColumns\")\n            );\n\n        if (\n            !groupColumnsArr ||\n            groupColumnsArr.length <= 0 ||\n            !targetColumnsArr ||\n            targetColumnsArr.length <= 0\n        )\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).cumMin() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupCumSumDataFrame: NodeType = {\n    id: \"group-cumsum-dataframe\",\n    name: \"Group Cumulative Sum\",\n    description: Descriptions.NodeSpecific.GroupCumSumDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(\n                groupColumns,\n                Regexes.baseLabelRegex\n            );\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(\n                targetColumns,\n                Regexes.baseLabelRegex\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"targetColumns\")\n            );\n\n        if (\n            !groupColumnsArr ||\n            groupColumnsArr.length <= 0 ||\n            !targetColumnsArr ||\n            targetColumnsArr.length <= 0\n        )\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).cumSum() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupCumProdDataFrame: NodeType = {\n    id: \"group-cumprod-dataframe\",\n    name: \"Group Cumulative Product\",\n    description: Descriptions.NodeSpecific.GroupCumProdDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(\n                groupColumns,\n                Regexes.baseLabelRegex\n            );\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(\n                targetColumns,\n                Regexes.baseLabelRegex\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"targetColumns\")\n            );\n\n        if (\n            !groupColumnsArr ||\n            groupColumnsArr.length <= 0 ||\n            !targetColumnsArr ||\n            targetColumnsArr.length <= 0\n        )\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).cumProd() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupSumDataFrame: NodeType = {\n    id: \"group-sum-dataframe\",\n    name: \"Group Sum\",\n    description: Descriptions.NodeSpecific.GroupSumDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(\n                groupColumns,\n                Regexes.baseLabelRegex\n            );\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(\n                targetColumns,\n                Regexes.baseLabelRegex\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"targetColumns\")\n            );\n\n        if (\n            !groupColumnsArr ||\n            groupColumnsArr.length <= 0 ||\n            !targetColumnsArr ||\n            targetColumnsArr.length <= 0\n        )\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).sum() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupMeanDataFrame: NodeType = {\n    id: \"group-mean-dataframe\",\n    name: \"Group Mean\",\n    description: Descriptions.NodeSpecific.GroupMeanDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(\n                groupColumns,\n                Regexes.baseLabelRegex\n            );\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(\n                targetColumns,\n                Regexes.baseLabelRegex\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"targetColumns\")\n            );\n\n        if (\n            !groupColumnsArr ||\n            groupColumnsArr.length <= 0 ||\n            !targetColumnsArr ||\n            targetColumnsArr.length <= 0\n        )\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).mean();\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupMaxDataFrame: NodeType = {\n    id: \"group-max-dataframe\",\n    name: \"Group Max\",\n    description: Descriptions.NodeSpecific.GroupMaxDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(\n                groupColumns,\n                Regexes.baseLabelRegex\n            );\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(\n                targetColumns,\n                Regexes.baseLabelRegex\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"targetColumns\")\n            );\n\n        if (\n            !groupColumnsArr ||\n            groupColumnsArr.length <= 0 ||\n            !targetColumnsArr ||\n            targetColumnsArr.length <= 0\n        )\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).max() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupMinDataFrame: NodeType = {\n    id: \"group-min-dataframe\",\n    name: \"Group Min\",\n    description: Descriptions.NodeSpecific.GroupMinDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(\n                groupColumns,\n                Regexes.baseLabelRegex\n            );\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(\n                targetColumns,\n                Regexes.baseLabelRegex\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"targetColumns\")\n            );\n\n        if (\n            !groupColumnsArr ||\n            groupColumnsArr.length <= 0 ||\n            !targetColumnsArr ||\n            targetColumnsArr.length <= 0\n        )\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).min() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupStdDataFrame: NodeType = {\n    id: \"group-std-dataframe\",\n    name: \"Group Standard Deviation\",\n    description: Descriptions.NodeSpecific.GroupStdDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(\n                groupColumns,\n                Regexes.baseLabelRegex\n            );\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(\n                targetColumns,\n                Regexes.baseLabelRegex\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"targetColumns\")\n            );\n\n        if (\n            !groupColumnsArr ||\n            groupColumnsArr.length <= 0 ||\n            !targetColumnsArr ||\n            targetColumnsArr.length <= 0\n        )\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).std() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupVarDataFrame: NodeType = {\n    id: \"group-var-dataframe\",\n    name: \"Group Variance\",\n    description: Descriptions.NodeSpecific.GroupVarDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description:\n                Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (\n        input: PrimitiveTree,\n        properties: PrimitiveObject | undefined,\n        errorHandler: NodeErrorHandler | undefined\n    ): Promise<PrimitiveTree> => {\n        if (!errorHandler) return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(\n                groupColumns,\n                Regexes.baseLabelRegex\n            );\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(\n                targetColumns,\n                Regexes.baseLabelRegex\n            );\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"groupColumns\")\n            );\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(\n                Errors.EmptyNodePropertyNoEffect(\"targetColumns\")\n            );\n\n        if (\n            !groupColumnsArr ||\n            groupColumnsArr.length <= 0 ||\n            !targetColumnsArr ||\n            targetColumnsArr.length <= 0\n        )\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).var() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst GroupingNodes = [\n    groupbyDataFrame,\n    groupCountDataFrame,\n    groupCumMaxDataFrame,\n    groupCumMinDataFrame,\n    groupCumSumDataFrame,\n    groupCumProdDataFrame,\n    groupMaxDataFrame,\n    groupMinDataFrame,\n    groupMeanDataFrame,\n    groupSumDataFrame,\n    groupStdDataFrame,\n    groupVarDataFrame\n];\n\nexport default GroupingNodes;\n","import DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport Series from \"danfojs/dist/danfojs-base/core/series\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler, DataFrameOutput } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport MathUtils from \"../utils/MathUtils\";\nimport Meta from \"../utils/Meta\";\nimport { Types } from \"../utils/Types\";\n\nconst dataFrameOutput: NodeType = {\n    id: \"dataframe-output\",\n    name: \"DataFrame Output\",\n    description: Descriptions.NodeSpecific.DataFrameOutput.Description,\n    //variableName: \"dataFrameOutputResult\",\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.NodeSpecific.DataFrameOutput.Input,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"rowCount\",\n            description: Descriptions.NodeSpecific.DataFrameOutput.RowCountProperty,\n            type: \"number\",\n            defaultValue: 10\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const rowCount = properties[\"rowCount\"] as number;\n        const df = input[\"input\"] as DataFrame | Series;\n        const head = (df.shape[0] >= rowCount && rowCount > 0) ? df.head(rowCount) : df;\n        let values: string[][];\n        if (head.columns.length > 1) {\n            values = head.values.map(value1 => {\n                const val1 = value1 as string[] | (string | number | boolean)[] | number[] | boolean[];\n                return val1.map(value2 => {\n                    if (typeof value2 === \"number\")\n                        return `${MathUtils.toDecimal(value2, 4)}`;\n\n                    return `${value2}`;\n                });\n            });\n        } else {\n            values = head.values.map(value => {\n                const val = value as string | number | boolean;\n                return [`${val}`];\n            });\n        }\n        \n        const output: DataFrameOutput = {\n            type: \"dataframe\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            columns: head.columns,\n            indexes: head.index,\n            values\n        };\n        return output;\n    }\n};\n\nconst OutputNodes = [\n    dataFrameOutput\n];\n\nexport default OutputNodes;","import Errors from \"../utils/Errors\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\nimport * as random from \"random-seed\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport Meta from \"../utils/Meta\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Series from \"danfojs/dist/danfojs-base/core/series\";\nimport DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\n\nconst randomLabelsColumn: NodeType = {\n    id: \"random-labels-column\",\n    name: \"Random Labels\",\n    description: Descriptions.NodeSpecific.RandomLabels.Description,\n    style: {\n        width: 130\n    },\n    inputSlots: [\n        {\n            id: \"seed\",\n            description: Descriptions.Common.DataFrameDataGen.SeedInput,\n            type: Types.String,\n            defaultValue: \"SomeSeed\"\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.NodeSpecific.RandomLabels.LabelsOutput,\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"columnName\",\n            description: Descriptions.Common.DataFrameDataGen.ColumnNameProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"rowCount\",\n            description: Descriptions.Common.DataFrame.RowCountProperty,\n            type: \"number\",\n            defaultValue: 1\n        },\n        {\n            id: \"labels\",\n            description: Descriptions.NodeSpecific.RandomLabels.LabelsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"seed\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"seed\"));\n            return {};\n        }\n\n        const seed = input[\"seed\"] as string;\n        const columnName = properties[\"columnName\"] as string;\n        const rowCount = properties[\"rowCount\"] as number;\n        const labelPattern = properties[\"labels\"] as string;\n\n        if (rowCount <= 0)\n            errorHandler.error(Errors.NumberCannotBeZeroOrNegative(\"rowCount\", \"property\"));\n\n        if (!Regexes.isMatch(labelPattern, Regexes.labelCommaRegex))\n            errorHandler.error(Errors.CannotBeEmpty(\"labels\", \"property\"));\n\n        if (rowCount <= 0 || !Regexes.isMatch(labelPattern, Regexes.labelCommaRegex))\n            return {};\n\n        const rand = random.create(seed !== \"\" ? seed : undefined);\n            \n        let colName = columnName;\n        if (!Regexes.isMatch(columnName, Regexes.labelRegex))\n            colName = \"Labels\";\n\n        const labelNames = Regexes.processCommaDelimString(labelPattern, Regexes.baseLabelRegex);\n        const labels: string[] = [];\n        for (let i = 0; i < rowCount; i++) {\n            const randIndex = rand(labelNames.length);\n            labels.push(labelNames[randIndex]);\n        }\n\n        return {\n            labels: new Series(labels, { columns: [colName] })\n        };\n    }\n};\n\nconst randomData: NodeType = {\n    id: \"random-data-dataframe\",\n    name: \"Random Data\",\n    description: Descriptions.NodeSpecific.RandomData.Description,\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"seed\",\n            description: Descriptions.Common.DataFrameDataGen.SeedInput,\n            type: Types.String,\n            defaultValue: \"SomeSeed\"\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"data\",\n            description: Descriptions.NodeSpecific.RandomData.DataOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"columnNames\",\n            description: Descriptions.NodeSpecific.RandomData.ColumnNamesProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelCommaRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"rowCount\",\n            description: Descriptions.Common.DataFrame.RowCountProperty,\n            type: \"number\",\n            defaultValue: 1\n        },\n        {\n            id: \"minMax\",\n            description: Descriptions.NodeSpecific.RandomData.MinMaxProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.numberMapRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"isIntegers\",\n            description: Descriptions.NodeSpecific.RandomData.IsIntegersProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"seed\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"seed\"));\n            return {};\n        }\n\n        const seed = input[\"seed\"] as string;\n        const columnNamesPattern = properties[\"columnNames\"] as string;\n        const rowCount = properties[\"rowCount\"] as number;\n        const minMaxPattern = properties[\"minMax\"] as string;\n        const isIntegers = properties[\"isIntegers\"] as boolean;\n\n        if (rowCount <= 0) {\n            errorHandler.error(Errors.NumberCannotBeZeroOrNegative(\"rowCount\", \"property\"));\n            return {};\n        }\n\n        const rand = random.create(seed !== \"\" ? seed : undefined);\n\n        let columnNames: string[] = [];\n        let minMax: string[] = [];\n        if (columnNamesPattern === \"\" && minMaxPattern === \"\") {\n            columnNames = [\"Data\"];\n            minMax = [\"0:1\"];\n        } else if (columnNamesPattern === \"\" && minMaxPattern !== \"\") {\n            if (!Regexes.isMatch(minMaxPattern, Regexes.numberMapRegex)) {\n                errorHandler.error(Errors.DoesNotMatchPattern(\"minMax\", minMaxPattern, \"property\"));\n                return {};\n            }\n\n            minMax = Regexes.processCommaDelimString(minMaxPattern, Regexes.baseNumberMapRegex);\n            minMax.forEach((val, index) => {\n                columnNames.push(`Data_${index + 1}`);\n            });\n        } else if (columnNamesPattern !== \"\" && minMaxPattern === \"\") {\n            if (!Regexes.isMatch(columnNamesPattern, Regexes.labelCommaRegex)) {\n                errorHandler.error(Errors.DoesNotMatchPattern(\"columnNames\", columnNamesPattern, \"property\"));\n                return {};\n            }\n\n            columnNames = Regexes.processCommaDelimString(columnNamesPattern, Regexes.baseLabelRegex);\n            columnNames.forEach(() => {\n                minMax.push(\"0:1\");\n            });\n        } else {\n            let hasError = false;\n            if (!Regexes.isMatch(minMaxPattern, Regexes.numberMapRegex)) {\n                errorHandler.error(Errors.DoesNotMatchPattern(\"minMax\", minMaxPattern, \"property\"));\n                hasError = true;\n            }\n\n            if (!Regexes.isMatch(columnNamesPattern, Regexes.labelCommaRegex)) {\n                errorHandler.error(Errors.DoesNotMatchPattern(\"columnNames\", columnNamesPattern, \"property\"));\n                hasError = true;\n            }\n\n            if (hasError)\n                return {};\n\n            minMax = Regexes.processCommaDelimString(minMaxPattern, Regexes.baseNumberMapRegex);\n            columnNames = Regexes.processCommaDelimString(columnNamesPattern, Regexes.baseLabelRegex);\n        }\n\n        if (minMax.length !== columnNames.length) {\n            errorHandler.error(Errors.ArrayLengthsNotEqual(\"columnNames\", \"minMax\"));\n            return {};\n        }\n\n        const dataObj: {\n            [column: string]: number[];\n        } = {};\n\n        for (let i = 0; i < columnNames.length; i++) {\n            const minMaxSplit = minMax[i].split(\":\").map(val => Number(val));\n            const min = minMaxSplit[0];\n            const max = minMaxSplit[1];\n            if (min > max) {\n                errorHandler.error(Errors.MinCannotBeGreaterThanMax(minMax[i]));\n                return {};\n            }\n\n            const column = columnNames[i];\n            if (!dataObj[column])\n                dataObj[column] = [];\n\n            for (let j = 0; j < rowCount; j++) {\n                const baseRandomVal = (rand.random() * 0.5) + (rand.random() * 0.5);\n                let randomVal = baseRandomVal * (max - min) + min;\n                if (isIntegers)\n                    randomVal = Math.round(randomVal);\n                    \n                dataObj[column].push(randomVal);\n            }\n        }\n\n        return {\n            data: new DataFrame(dataObj)\n        };\n    }\n};\n\nconst arangeNode: NodeType = {\n    id: \"arange-dataframe\",\n    name: \"Array of Integers\",\n    description: Descriptions.NodeSpecific.ARange.Description,\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"arange\",\n            description: Descriptions.NodeSpecific.ARange.ARangeOutput,\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"columnName\",\n            description: Descriptions.Common.DataFrameDataGen.ColumnNameProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"start\",\n            description: Descriptions.NodeSpecific.ARange.StartProperty,\n            type: \"number\",\n            defaultValue: 0\n        },\n        {\n            id: \"stop\",\n            description: Descriptions.NodeSpecific.ARange.StopProperty,\n            type: \"number\",\n            defaultValue: 10\n        },\n        {\n            id: \"step\",\n            description: Descriptions.NodeSpecific.ARange.StepProperty,\n            type: \"number\",\n            defaultValue: 1\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        const columnName = properties[\"columnName\"] as string;\n        const start = properties[\"start\"] as number;\n        const stop = properties[\"stop\"] as number;\n        const step = properties[\"step\"] as number;\n\n        if (step === 0) {\n            errorHandler.error(Errors.NumberCannotBeZero(\"step\", \"property\"));\n            return {};\n        }\n\n        let hasError = false;\n        if (start < stop) {\n            if (step < 0) {\n                errorHandler.error(Errors.InvalidStartStopStepConfig(start, stop, step));\n                hasError = true;\n            }\n        } else {\n            if (step > 0) {\n                errorHandler.error(Errors.InvalidStartStopStepConfig(start, stop, step));\n                hasError = true;\n            }\n        }\n\n        if (hasError)\n            return {};\n\n        let colName = columnName;\n        if (!Regexes.isMatch(columnName, Regexes.labelRegex))\n            colName = \"Array\";\n\n        const arr: number[] = [];\n        for (let i = start; (start < stop) ? i < stop : i > stop; i += step)\n            arr.push(i);\n\n        return {\n            arange: new Series(arr, { columns: [colName] })\n        };\n    }\n};\n\nconst DataGenNodes = [\n    randomLabelsColumn,\n    randomData,\n    arangeNode\n];\n\nexport default DataGenNodes;","import BinaryOpsNodes from \"./DataFrameNodes.binary\";\nimport QueryNodes from \"./DataFrameNodes.query\";\nimport DataFrameDescriptiveNodes from \"./DataFrameNodes.descriptive\";\nimport ModifyNodes from \"./DataFrameNodes.modify\";\nimport GroupingNodes from \"./DataFrameNodes.grouping\";\nimport OutputNodes from \"./DataFrameNodes.output\";\nimport DataGenNodes from \"./DataFrameNodes.datagen\";\nimport { NodeCollection } from \"../types\";\n\n// Stats\n\n// Random\n\nconst DataFrameNodes: NodeCollection = {\n    id: \"dataframe\",\n    name: \"DataFrame Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"BinaryOps\",\n            types: BinaryOpsNodes\n        },\n        {\n            name: \"Descriptive\",\n            types: DataFrameDescriptiveNodes\n        },\n        {\n            name: \"Modify\",\n            types: ModifyNodes\n        },\n        {\n            name: \"Query\",\n            types: QueryNodes\n        },\n        {\n            name: \"Grouping\",\n            types: GroupingNodes\n        },\n        {\n            name: \"DataGen\",\n            types: DataGenNodes\n        },\n        {\n            name: \"Output\",\n            types: OutputNodes\n        }\n    ]\n};\nexport default DataFrameNodes;","import Series from \"danfojs/dist/danfojs-base/core/series\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport { Types } from \"../utils/Types\";\n\nconst countSeries: NodeType = {\n    id: \"count-column-dataframe\",\n    name: \"Count Series\",\n    description: Descriptions.NodeSpecific.CountSeries.Description,\n    style: {\n        width: 130\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"count\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    properties: [\n        {\n            id: \"skipNull\",\n            description: Descriptions.NodeSpecific.CountSeries.SkipNullProperty,\n            type: \"boolean\",\n            defaultValue: false\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const skipNull = properties[\"skipNull\"] as boolean;\n        const count = skipNull ? series.count() : series.size;\n        return {\n            count\n        };\n    }\n};\n\nconst cumMaxSeries: NodeType = {\n    id: \"cumulative-max-column-dataframe\",\n    name: \"Cumulative Max Series\",\n    description: Descriptions.NodeSpecific.CumMaxSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cumMax\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Series\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const cumMax = series.cumMax() as Series;\n\n        return {\n            cumMax\n        };\n    }\n};\n\nconst cumMinSeries: NodeType = {\n    id: \"cumulative-min-column-dataframe\",\n    name: \"Cumulative Min Series\",\n    description: Descriptions.NodeSpecific.CumMinSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cumMin\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Series\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const cumMin = series.cumMin() as Series;\n\n        return {\n            cumMin\n        };\n    }\n};\n\nconst cumSumSeries: NodeType = {\n    id: \"cumulative-sum-column-dataframe\",\n    name: \"Cumulative Sum Series\",\n    description: Descriptions.NodeSpecific.CumSumSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cumSum\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Series\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const cumSum = series.cumSum() as Series;\n\n        return {\n            cumSum\n        };\n    }\n};\n\nconst cumProdSeries: NodeType = {\n    id: \"cumulative-prod-column-dataframe\",\n    name: \"Cumulative Prod Series\",\n    description: Descriptions.NodeSpecific.CumProdSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cumProd\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Series\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const cumProd = series.cumProd() as Series;\n\n        return {\n            cumProd\n        };\n    }\n};\n\nconst maxSeries: NodeType = {\n    id: \"max-column-dataframe\",\n    name: \"Max Series\",\n    description: Descriptions.NodeSpecific.MaxSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"max\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const max = series.max();\n\n        return {\n            max\n        };\n    }\n};\n\nconst minSeries: NodeType = {\n    id: \"min-column-dataframe\",\n    name: \"Min Series\",\n    description: Descriptions.NodeSpecific.MinSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"min\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const min = series.min();\n\n        return {\n            min\n        };\n    }\n};\n\nconst meanSeries: NodeType = {\n    id: \"mean-column-dataframe\",\n    name: \"Mean Series\",\n    description: Descriptions.NodeSpecific.MeanSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"mean\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const mean = series.mean();\n\n        return {\n            mean\n        };\n    }\n};\n\nconst medianSeries: NodeType = {\n    id: \"median-column-dataframe\",\n    name: \"Median Series\",\n    description: Descriptions.NodeSpecific.MedianSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"median\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const median = series.median();\n\n        return {\n            median\n        };\n    }\n};\n\nconst modeSeries: NodeType = {\n    id: \"mode-column-dataframe\",\n    name: \"Mode Series\",\n    description: Descriptions.NodeSpecific.ModeSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"mode\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const mode = series.mode();\n\n        return {\n            mode\n        };\n    }\n};\n\nconst sumSeries: NodeType = {\n    id: \"sum-column-dataframe\",\n    name: \"Sum Series\",\n    description: Descriptions.NodeSpecific.SumSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"sum\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const sum = series.sum();\n\n        return {\n            sum\n        };\n    }\n};\n\nconst stdSeries: NodeType = {\n    id: \"std-column-dataframe\",\n    name: \"Standard Deviation Series\",\n    description: Descriptions.NodeSpecific.StdSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"std\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const std = series.std();\n\n        return {\n            std\n        };\n    }\n};\n\nconst varSeries: NodeType = {\n    id: \"var-column-dataframe\",\n    name: \"Variance Series\",\n    description: Descriptions.NodeSpecific.VarSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"var\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const variance = series.var();\n\n        return {\n            var: variance\n        };\n    }\n};\n\nconst nuniqueSeries: NodeType = {\n    id: \"nunique-column-dataframe\",\n    name: \"Num Unique Series\",\n    description: Descriptions.NodeSpecific.NUniqueSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"nunique\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const nunique = series.nUnique();\n\n        return {\n            nunique\n        };\n    }\n};\n\nconst SeriesDescriptiveNodes = [\n    countSeries,\n    cumMaxSeries,\n    cumMinSeries,\n    cumSumSeries,\n    cumProdSeries,\n    maxSeries,\n    minSeries,\n    meanSeries,\n    medianSeries,\n    modeSeries,\n    sumSeries,\n    stdSeries,\n    varSeries,\n    nuniqueSeries\n];\n\nexport default SeriesDescriptiveNodes;","import { NodeCollection } from \"../types\";\nimport SeriesDescriptiveNodes from \"./SeriesNodes.descriptive\";\n\nconst SeriesNodes: NodeCollection = {\n    id: \"series\",\n    name: \"Series Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"Descriptive\",\n            types: SeriesDescriptiveNodes\n        }\n    ]\n};\nexport default SeriesNodes;","import DataFrame from \"danfojs/dist/danfojs-base/core/frame\";\nimport Series from \"danfojs/dist/danfojs-base/core/series\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler, NodeCollection } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\n\nconst dataFrameToSeries: NodeType = {\n    id: \"dataframe-to-series\",\n    name: \"DataFrame To Series\",\n    description: Descriptions.NodeSpecific.DataFrameToSeries.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"column\",\n            description: Descriptions.NodeSpecific.DataFrameToSeries.ColumnProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const column = properties[\"column\"] as string;\n\n        if (!df.columns.includes(column)) {\n            errorHandler.error(Errors.ValueNotExists(column, \"column\"));\n            return {\n                output: df\n            };\n        }\n\n        const newDf = df.column(column) as Series;\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst seriesToDataFrame: NodeType = {\n    id: \"series-to-dataframe\",\n    name: \"Series To DataFrame\",\n    description: Descriptions.NodeSpecific.SeriesToDataFrame.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const newDf = new DataFrame({ [series.columns[0]]: series.values });\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst ConverterNodes: NodeCollection = {\n    id: \"converter\",\n    name: \"Converter Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"\",\n            types: [\n                dataFrameToSeries,\n                seriesToDataFrame\n            ]\n        }\n    ]\n};\nexport default ConverterNodes;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./assets/app.css\";\nimport \"./assets/main.css\";\nimport \"./assets/github.css\";\nimport \"./assets/github-markdown.css\";\nimport \"./assets/material.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { HashRouter } from \"react-router-dom\";\nimport store from \"./app/store\";\nimport App from \"./app/App\";\nimport { Provider } from \"react-redux\";\nimport NodeTypeManager from \"./managers/NodeTypeManager\";\nimport MathNodes from \"./nodeTypes/MathNodes\";\nimport BaseNodes from \"./nodeTypes/BaseNodes\";\nimport ChartNodes from \"./nodeTypes/ChartNodes\";\nimport DataFrameNodes from \"./nodeTypes/DataFrameNodes\";\nimport SeriesNodes from \"./nodeTypes/SeriesNodes\";\nimport { Chart, registerables } from \"chart.js\";\nimport { ViolinController } from \"@sgratzl/chartjs-chart-boxplot\";\nimport ConverterNodes from \"./nodeTypes/ConverterNodes\";\n\n// Initialize anything global\nNodeTypeManager.addNodeCollections(\n    MathNodes,\n    BaseNodes,\n    ChartNodes,\n    DataFrameNodes,\n    SeriesNodes,\n    ConverterNodes\n);\n\nChart.register(...registerables, ViolinController);\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}