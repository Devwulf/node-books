{"version":3,"sources":["serviceWorker.ts","utils/Types.ts","db/models.ts","utils/DanfoUtils.ts","data/DataService.ts","db/seedDB.ts","db/DBService.ts","db/AceDB.ts","utils/Cookies.ts","features/users/userSlice.ts","features/notebooks/notebookSlice.ts","app/store.ts","managers/CodeMirrorManager.ts","utils/Meta.ts","managers/NodeTypeManager.ts","managers/NodeExecManager.ts","utils/Colors.ts","components/CustomComponents.tsx","components/InsertCellDropZone.tsx","components/MarkdownCell.tsx","utils/KonvaUtils.ts","components/KonvaComponents.tsx","components/KonvaForm.tsx","managers/NodeConnectionManager.ts","components/Node.tsx","components/GridArray.tsx","components/NodeConnection.tsx","components/NodeCellControls.tsx","components/NodeCellDropZone.tsx","components/NodeCell.tsx","components/ParentCell.tsx","components/Notebook.tsx","components/SourceSidebar.tsx","components/NotebookSidebar.tsx","utils/Regexes.ts","components/PropertiesSidebar.tsx","components/Sidebar.tsx","components/VariableSidebar.tsx","components/Topbar.tsx","assets/nodebooks-logo-low-3.png","pages/MainPage.tsx","pages/UsersPage.tsx","app/OfflineApp.tsx","pages/LoginPage.tsx","app/App.tsx","utils/Descriptions.ts","utils/Errors.ts","utils/MathUtils.ts","nodeTypes/MathNodes.ts","nodeTypes/BaseNodes.ts","nodeTypes/ChartNodes.ts","nodeTypes/DataFrameNodes.binary.ts","nodeTypes/DataFrameNodes.query.ts","nodeTypes/DataFrameNodes.descriptive.ts","nodeTypes/DataFrameNodes.modify.ts","nodeTypes/DataFrameNodes.grouping.ts","nodeTypes/DataFrameNodes.output.ts","nodeTypes/DataFrameNodes.datagen.ts","nodeTypes/DataFrameNodes.ts","nodeTypes/SeriesNodes.descriptive.ts","nodeTypes/SeriesNodes.ts","nodeTypes/ConverterNodes.ts","index.tsx"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","VisibleTypes","InternalTypes","Functions","OR","types","length","join","ARRAY","type","includes","Types","VariableKeys","Object","keys","SourceTypes","isTypeEqual","keyType","valueType","entries","i","entry","UserModel","name","userId","notebooks","this","userObj","forEach","value","push","toObject","obj","model","notebook","notebookModel","NotebookModel","fromObject","notebookId","dateCreated","dateModified","cells","sources","variables","notebookObj","cell","cellModel","CellModel","cellId","source","sourceModel","DataSourceModel","sourceId","variable","variableModel","VariableModel","variableId","nextCell","nodes","connections","cellObj","node","nodeModel","NodeModel","nodeId","connection","connectionModel","NodeConnectionModel","connectionId","fromNodeId","fromSlotId","toNodeId","toSlotId","coords","properties","inputValues","x","y","DanfoUtils","arr","uniqueArr","Set","Array","from","df","columns","groupby","undefined","isNaN","ReferenceError","mapping","values","Error","col","newData","oldValues","valueArr","columnIndex","indexOf","replaceWith","isEmpty","DataFrame","index","dtypes","newDf","copy","apply","map","Number","NaN","toLowerCase","axis","series","mappings","nanByDefault","data","val","sf","$setValues","astype","dtype","rows","_rowIndexes","_columnIndexes","_data","_index","_rows","Series","isArray","temp","startsWith","replace","start","end","rowSplit","split","slice","indexValue","rowsIndexToUse","isBoolean","rowIndex","_columnNames","columnSplit","columnName","newIndex","newColumnNames","newDtypes","rowIndx","rowData","newRowDataWithRequiredCols","j","colIndx","getDataByAxis","isLowMemoryMode","rowLen","colLen","newArr","_elem","transposeArray","$dataIncolumnFormat","cleanValues","filter","getData","countArr","LocalDataSource","DBService","db","jsonObj","Danfo","download","format","buffer","TextEncoder","encode","JSON","stringify","addData","id","_id","_df","CSVSource","csvFile","a","parse","TextDecoder","decode","Promise","resolve","Papa","header","dynamicTyping","complete","results","parsedData","df2","rebuildDataFrame","CSVUrlSource","csvUrl","DataService","_sources","loadToDf","err","titanicSourceId","loadTitanic","url","process","csv","saveToDB","loadTutorialUser","fetch","response","text","jsonStr","user","DBType","AceDB","dbType","readyListeners","Offline","AceBase","WithIndexedDB","removeVoidProperties","Online","localDb","AceBaseClient","cache","host","port","https","dbname","ready","mapToClass","setupSchema","fn","bind","creator","snap","key","ref","serializer","schema","set","root","count","tutorialUser","json","write","str","export","snapshot","remove","get","transaction","query","include","snaps","users","now","Date","notebookRef","exclude","snapshots","exists","String","newCell","lastCellKey","linkedCells","currentKey","currentCell","find","reverse","insertNextToCellId","cellsToLinkedList","cellToMoveIndex","findIndex","cellToMove","prevCell","insertCellToIndex","insertCellTo","insertNextTo","firstCell","cellToRemove","refs","cellSnap","slotId","slotIndex","propertyId","_db","_isRunning","Test","Cookies","date","setTime","getTime","days","document","cookie","toUTCString","parts","pop","shift","initialState","userList","currentUser","createSlice","reducers","addUser","action","payload","removeUser","userIndex","splice","setUserList","setCurrentUser","removeCurrentUser","updateUserName","actions","createNewUserAsync","dispatch","getState","createNewUser","deleteOfflineUserAsync","setCurrentOfflineUserAsync","getUserDetail","setCookie","updateUserNameAsync","getCurrentUser","userSlice","reducer","notebookDetails","currentNotebook","selectedNode","selectedNodeTypeHelp","isDraggingSource","isDraggingVariable","isDraggingCell","openNotebook","closeNotebook","setNotebookDetails","updateNotebookName","addNotebook","removeNotebook","addDataSource","updateDataSourceName","removeDataSource","sourceIndex","setIsDraggingSource","addVariable","updateVariableName","updateVariableValue","removeVariable","variableIndex","setIsDraggingVariable","addCell","lastCellIndex","updateCellType","cellIndex","removeCell","updateCellValue","insertCell","targetCellId","targetCellIndex","prevCellIndex","insertCellToTop","nextCells","topCellIndex","setIsDraggingCell","addNode","removeNode","nodeIndex","newConns","conn","updateNodeName","updateNodeCoords","selectNode","clearSelectedNode","selectNodeType","nodeType","clearSelectedNodeType","setNodeInputValue","inputVals","setNodeProperty","propertyIndex","addConnection","removeConnection","connectionIndex","removeConnectionWithId","openNotebookAsync","isNotebookOpen","getNotebook","updateNotebookNameAsync","createNewNotebookAsync","createNewNotebook","deleteNotebookAsync","isNotebookInList","createNewDataSourceAsync","getCurrentNotebook","createNewDataSource","sourceObj","updateDataSourceNameAsync","deleteDataSourceAsync","removeData","setIsDraggingSourceAsync","createNewVariableAsync","createNewVariable","variableObj","updateVariableNameAsync","updateVariableValueAsync","deleteVariableAsync","setIsDraggingVariableAsync","createNewCellAsync","createNewCell","updateCellTypeAsync","deleteCellAsync","updateCellValueAsync","updateMarkdownCell","insertCellAsync","insertCellToTopAsync","setIsDraggingCellAsync","createNewNodeAsync","createNewNode","addNodeAsync","cuid","deleteNodeAsync","updateNodeNameAsync","updateNodeCoordsAsync","selectNodeAsync","clearSelectedNodeAsync","selectNodeTypeAsync","clearSelectedNodeTypeAsync","createNewConnectionAsync","createNewNodeConnection","deleteConnectionWithIdAsync","removeNodeConnectionWithId","getNotebookDetails","getNodes","getNodeById","getSelectedNode","getSeparateConnectionsByNodeId","fromConnections","toConnections","notebookSlice","store","configureStore","delayFocusKey","currentNotebookId","subscribe","onStoreUpdate","reset","focus","view","Meta","empty","isPrimitive","constructor","call","defaultValues","description","inputSlots","outputSlots","isDeletable","isHiddenFromList","style","width","height","nodeFunction","input","assignDefaults","defaults","result","isFunction","innerResult","defaultTypeValues","string","number","boolean","NodeTypeManager","collections","collection","nodeGroups","group","addNodeType","coll","addNodeCollection","collId","defaultVals","defaultValue","typeName","customDefaultVal","defaultVal","NodeExecManager","outputs","errors","cellExecs","v","exec","execs","runFunc","nodeIds","runInSequence","all","savedOutput","getType","getInputs","slot","connIndex","nodeInputValIndex","nodeInputValue","output","property","prop","propIndex","nodeProperty","propertyObj","errorFunctionCreator","message","errorHandler","debug","warning","Colors","hex","m","r","g","b","parseInt","opacity","rgb","hexToRGB","rgba","Gray","Red","Orange","Yellow","Green","Teal","Blue","Indigo","Purple","Pink","PrimaryButton","props","uniqueId","className","twMerge","isDisabled","disabled","onClick","icon","tooltip","place","effect","SecondaryButton","CancelButton","OKButton","FileButton","useRef","current","click","accept","display","onChange","event","target","files","file","TextArea","boxShadow","regex","isMatch","border","label","readonly","minRows","onKeyDown","wordWrap","CustomModal","Modal","top","left","transform","renderBackdrop","children","Input","placeholder","textOverflow","Checkbox","checkType","onToggle","Dropdown","control","provided","borderRadius","borderWidth","backgroundColor","borderBottomWidth","fontSize","menu","option","isSelected","isFocused","styles","options","isSearchable","ContextMenuItem","InsertCellDropZone","isHovering","onDrop","preventDefault","setState","dataTransfer","currentCellId","bottom","onDragEnter","onDragOver","onDragLeave","React","Component","MarkdownCell","createRef","savedInput","isEditing","onSubmit","onSaveCell","onEdit","shiftKey","CodeMirrorManager","delayedFocus","minHeight","addRef","extensions","basicSetup","oneDarkHighlightStyle","markdown","update","docChanged","doc","toString","right","onDoubleClick","remarkPlugins","remarkGfm","rehypePlugins","rehypeHighlight","KonvaUtils","cursorType","stage","getStage","container","cursor","KonvaButton","cornerRadius","textOffsetY","textColor","onMouseEnter","cancelBubble","setCursor","onMouseLeave","fill","offsetY","fontStyle","align","verticalAlign","KonvaForm","cancelInput","cancelDropdown","showInput","onHover","onHoverExit","padding","hoverColor","zIndex","isEditable","scale","scaleX","boundingRect","getBoundingClientRect","absolutePosition","createElement","body","appendChild","position","Math","max","min","paddingLeft","color","onchange","ev","inputElement","layer","currentTarget","getLayer","setAttr","draw","bgColor","onTap","parentNode","removeChild","defaultProps","selectedIndex","showDropdown","dropdown","innerText","add","dropdownElement","connectionRefs","layerRef","moveToInitialPos","getConnectionById","fromNode","toNode","connRef","setFromCoords","setToCoords","batchDraw","NodeHandle","startPosition","onDragStart","onDragMove","onDragEnd","onConnect","isSlotTypeEqual","isOtherInputSlotConnected","isGraphCyclic","cancel","parent","startPos","getPosition","endPos","pathData","path","Konva","Path","stroke","strokeWidth","setZIndex","isInput","midpointPos","thisCircle","destroy","pointerPos","getPointerPosition","screenX","floor","screenY","elements","getAllIntersections","otherNodeId","otherSlotId","elem","getAttr","element","otherNode","otherNodeType","nodeSlot","otherNodeSlot","inputSlotTypes","outputSlotType","startNodeId","endNodeId","isConnected","radius","listening","rotation","strokeEnabled","draggable","evt","Slot","labelWidth","typeWidth","offsetX","Node","unsubscribe","isDragging","updateNode","onClickNode","onDragNodeStart","onDragNode","onDragNodeEnd","onUpdateName","onDeleteNode","pos","NodeConnectionManager","moveConnections","newPos","nodeWidth","topBarHeight","nodeHeight","numSlots","selector","enabled","shadowEnabled","shadowColor","shadowBlur","GridArray","currentIndex","containerWidth","setPos","setScale","setContainerWidth","round","WIDTH","GridArrayInner","generateColumns","diff","ceil","cols","indexToCoord","n","useImage","image","Fragment","NodeConnection","fromNodeWidth","fromSlotHeight","toSlotHeight","fromCoords","toCoords","onDeleteConnection","fromNodeType","toNodeType","fromSlotIndex","slotHeight","toSlotIndex","removeRef","NodeConnectionInner","lineSlack","useState","isHovered","setIsHovered","midPoint","visible","AddNodeItem","typeId","onAddNode","AddNodeGroup","isOpen","toggleGroup","prevState","child","marginLeft","marginRight","AddNodeModal","nextPosIndex","onHideModal","addEventListener","prevProps","show","removeEventListener","onHide","stagePos","nextPos","typeIds","getVisibleTypeIds","objCreator","partialId","partialGroup","fullId","ids","partial","typeObj","minWidth","NodeControls","showModal","onRunCell","NodeCellControls","onZoomIn","onZoomOut","onReset","NodeCellDropZoneInner","dataType","NodeCellDropZone","connect","NodeCell","gridArray","outputBox","minScale","maxScale","fitToParent","zoomInView","zoomOutView","resetView","onZoom","runCell","addCellExec","stageObj","newScale","scaleY","oldScale","pointer","mousePosition","deltaY","resetCellOutputs","setters","endsWith","setter","runFunction","outputNodes","sort","aOrderIndex","bOrderIndex","runFunctions","getErrors","onResize","offsetWidth","offsetHeight","tabIndex","onWheel","setLayerRef","ErrorItem","ShowResult","currentStyle","resultType","typedResult","colors","maxWidth","chartType","labels","datasets","dataLabels","rgbaToStr","hexToRGBA","borderColor","plugins","title","scales","ticks","precision","beginAtZero","stacked","line","tension","isSmooth","stack","indexAxis","itemRadius","outlierStyle","indexes","autoHeight","autoHeightMax","row","index2","ParentCell","isHover","isOptions","isDelete","changeCellType","showDeleteModal","hideDeleteModal","deleteCell","stopPropagation","setData","next","Toggle","meta","toggle","Menu","flip","NotebookInner","scrollbarRef","updateNotebook","createNodeCell","createMarkdownCell","direction","selectedNodeType","runCells","maxHeight","replaceAll","isHidden","Notebook","SourceItem","isRename","renameValue","isPreview","preview","outputOrder","onDragSourceStart","showRenameModal","hideRenameModal","renameSource","deleteSource","showPreviewModal","hidePreviewModal","head","shape","value1","value2","SourceSidebar","isAddingSource","sourceName","sourceType","sourceFile","showAddSourceModal","hideAddSourceModal","onChooseCSVFile","onAddSource","NotebookItem","renameNotebook","deleteNotebook","to","NotebookSidebar","isAddingNotebook","notebookName","showAddNotebookModal","hideAddNotebookModal","sortedNotebooks","localeCompare","Regexes","baseLabelRegex","labelRegex","RegExp","labelCommaRegex","labelSliceRegex","baseValueRegex","valueRegex","valueCommaRegex","baseLabelMapRegex","labelMapRegex","baseValueMapRegex","valueMapRegex","baseLabelValueMapRegex","labelValueMapRegex","conditionRegex","baseNumberRegex","numberRegex","numberCommaRegex","numberSliceRegex","baseNumberMapRegex","numberMapRegex","emptyRegex","combine","regexes","processCommaDelimString","baseRegex","trim","processCommaDelimNumber","SidebarTabState","PropertiesSidebarInner","newPropertyValues","inputs","newInputValues","onStringPropertyChange","onNumberPropertyChange","onBooleanPropertyToggle","saveAllProperties","resetAllProperties","saveAllInputs","resetAllInputs","newValue","isInvalid","updateValues","keyVal","inputObj","valIndex","isPropertyDisabled","isInputDisabled","marginTop","onStringInputChange","onNumberInputChange","onBooleanInputToggle","isReadOnly","PropertiesSidebar","VariableItem","isChangeValue","onDragVariableStart","renameVariable","deleteVariable","showChangeValueModal","hideChangeValueModal","onStringValueChange","onNumberValueChange","onBooleanValueToggle","changeValue","varDf","getVariable","VariableSidebar","isAddingVariable","variableName","variableType","showAddVariableModal","hideAddVariableModal","onAddVariable","variableOptions","SidebarInner","currentState","Notebooks","onNotebookTabClick","onSourcesTabClick","onVariablesTabClick","onPropertiesTabClick","getNotebookDetailsByUser","Properties","newState","None","Sources","Variables","Sidebar","Topbar","src","deleteCookie","MainPage","exact","component","NotebookWrapper","useParams","UserItem","renameUser","deleteUser","UsersPageInner","isAddingUser","userName","showAddUserModal","hideAddUserModal","getAllUsers","sortedUsers","UsersPage","OfflineAppInner","isDbLoading","onDBReady","onReady","seedDatabase","getCookie","OfflineApp","App","AppWrapper","connectivity","basename","baseName","library","fas","fab","Descriptions","NodeSpecific","PrimitiveOutput","Description","LineChart","IsSmoothProperty","StackedLineChart","BarChart","HorizontalBarChart","StackedBarChart","ViolinPlot","BoxPlot","AddDataFrame","SubtractDataFrame","MultiplyDataFrame","DivideDataFrame","ModDataFrame","PowerDataFrame","AbsoluteDataFrame","RoundDataFrame","RandomLabels","LabelsOutput","LabelsProperty","RandomData","DataOutput","ColumnNamesProperty","MinMaxProperty","IsIntegersProperty","ARange","ARangeOutput","StartProperty","StopProperty","StepProperty","DescribeDataFrame","Histogram","CountOutput","NameProperty","BinsProperty","HeadDataFrame","TailDataFrame","CountDataFrame","CountRowsOutput","CountColumnsOutput","GroupByDataFrame","KeysProperty","GroupCountDataFrame","IsPercentProperty","GroupCumMaxDataFrame","GroupCumMinDataFrame","GroupCumSumDataFrame","GroupCumProdDataFrame","GroupMeanDataFrame","GroupSumDataFrame","GroupMaxDataFrame","GroupMinDataFrame","GroupStdDataFrame","GroupVarDataFrame","MapDataFrame","ColumnProperty","MappingsProperty","ReplaceColumnProperty","RenameColumns","RemoveColumns","FillNaDataFrame","SortDataFrame","SortByColumnProperty","IsAscendingProperty","MergeDataFrames","LeftInput","RightInput","OnColumnsProperty","JoinTypeProperty","AppendDataFrame","Input1Input","Input2Input","DataFrameOutput","RowCountProperty","DataFrameLoc","ColumnsProperty","RowsProperty","ResetIndexProperty","DataFrameiLoc","GetNumericalColumns","CountSeries","SkipNullProperty","CumMaxSeries","CumMinSeries","CumSumSeries","CumProdSeries","MaxSeries","MinSeries","MeanSeries","MedianSeries","ModeSeries","SumSeries","StdSeries","VarSeries","NUniqueSeries","DataFrameToSeries","SeriesToDataFrame","AddNumbers","Addend1Input","Addend2Input","SubtractNumbers","MinuendInput","SubtrahendInput","MultiplyNumbers","MultiplicandInput","MultiplierInput","DivideNumbers","DividendInput","DivisorInput","ModuloNumbers","PowerNumbers","BaseInput","ExponentInput","SqrtNumber","LogNumbers","NumberInput","AbsNumber","InvertNumber","FloorNumber","RoundNumber","CeilingNumber","RandomNumber","MinProperty","MaxProperty","PiConstant","Output","EConstant","EulerConstant","Root2Constant","GoldenRatioConstant","SineNumber","CosineNumber","TangentNumber","ArcSineNumber","ArcCosineNumber","ArcTangentNumber","CosecantNumber","SecantNumber","CotangentNumber","Common","InputValueToOutput","OutputOrderProperty","ResultOutput","DataFrameInput","SeriesInput","Chart","LabelsInput","DataInput","DataWithLabelInput","TitleProperty","LabelsColumnProperty","IgnoreDenseLabelsProperty","DataFrameBinary","IsRowAxisProperty","DataFrameDataGen","SeedInput","ColumnNameProperty","DataFrameDescriptive","DataFrameGrouping","GroupColumnsProperty","TargetColumnsProperty","DataFrameModify","InputNumber","Errors","MissingNodeProperties","MissingNodeInput","inputName","EmptyNodePropertyNoEffect","propertyName","EmptyArray","modifier","ValueNotExists","ValueExists","CannotBeEmpty","NumberCannotBeZero","NumberCannotBeNegative","NumberCannotBeZeroOrNegative","ArrayLengthsNotEqual","arr1","arr2","ColumnValueWrongType","column","DataFrameNullColumnsCannotDescribe","DataFrameNumericalColumnsOnly","DataFrameOnlyOneNonNumericalColumn","dfName","DataFrameMismatchShape","df1Name","df1Shape","df2Name","df2Shape","DataFrameSeriesMismatchShape","dfSize","seriesName","seriesSize","DenseUniqueLabels","DoesNotMatchPattern","MinCannotBeGreaterThanMax","pair","InvalidStartStopStepConfig","stop","step","MathUtils","num","places","addNumbers","addend1","addend2","sum","subtractNumbers","minuend","subtrahend","difference","multiplyNumbers","multiplicand","multiplier","product","divideNumbers","dividend","divisor","quotient","moduloNumbers","modulo","mod","powerNumbers","base","exponent","power","pow","sqrtNumber","radicand","sqrt","logNumbers","absNumber","abs","invertNumber","invert","floorNumber","roundNumber","ceilingNumber","ceiling","randomNumber","random","piConstant","pi","PI","eConstant","e","E","eulerConstant","euler","root2Constant","root2","goldenRatioConstant","goldenRatio","sineNumber","sine","sin","cosineNumber","cosine","cos","tangentNumber","tangent","tan","arcsineNumber","arcsine","asin","arccosineNumber","arccosine","acos","arctangentNumber","arctangent","atan","cosecantNumber","cosecant","secantNumber","secant","cotangentNumber","cotangent","MathNodes","primitiveOutputNode","inputType","csvSourceNode","outputMsg","inputStr","getStringVariableNode","setStringVariableNode","inputVal","setVariable","getNumberVariableNode","setNumberVariableNode","getBooleanVariableNode","setBooleanVariableNode","getDataFrameVariableNode","setDataFrameVariableNode","getSeriesVariableNode","setSeriesVariableNode","BaseNodes","lineChartOutputNode","invalidColumns","stackedLineChartOutputNode","barChartOutputNode","horizontalBarChartOutputNode","stackedBarChartOutputNode","violinPlotOutputNode","labelsColumn","ignoreDenseLabels","dfNoLabel","drop","uniqueLabels","unique","resultData","loc","eq","boxPlotOutputNode","ChartNodes","addDataFrame","input1","input2","isRowAxis","invalidColumns1","invalidColumns2","size","subtractDataFrame","sub","multiplyDataFrame","mul","divideDataFrame","div","modDataFrame","powerDataFrame","absDataFrame","roundDataFrame","numDecimal","BinaryOpsNodes","getConditionMask","cond","comp","gt","ge","lt","le","ne","locNode","columnPattern","rowPattern","resetIndex","reset_index","ilocNode","iloc","getNumericalColumns","validColumns","QueryNodes","describeDataFrame","nullCols","describe","histogram","bins","colName","fraction","headDataFrame","rowCount","tailDataFrame","tail","countDataFrame","countRows","countColumns","DataFrameDescriptiveNodes","mapDataFrame","replaceColumn","mappingsVal","columnType","mappingsObj","mean","newCol","addColumn","inplace","renameColumns","hasError","rename","mapper","removeColumns","fillNaDataFrame","fillna","sortDataFrame","sortByColumn","isAscending","sort_values","by","ascending","mergeDataFrame","onColumnsPattern","joinType","onColumns","df_list","invalidValues","on","how","appendDataFrame","ModifyNodes","groupbyDataFrame","columnsArr","keysArr","colIndex","get_groups","groupCountDataFrame","groupColumns","isPercent","groupColumnsArr","countCol","total","groupCumMaxDataFrame","targetColumns","targetColumnsArr","cummax","groupCumMinDataFrame","cummin","groupCumSumDataFrame","cumsum","groupCumProdDataFrame","cumprod","groupSumDataFrame","groupMeanDataFrame","groupMaxDataFrame","groupMinDataFrame","groupStdDataFrame","std","groupVarDataFrame","var","GroupingNodes","dataFrameOutput","toDecimal","OutputNodes","randomLabelsColumn","seed","labelPattern","rand","labelNames","randIndex","randomData","columnNamesPattern","minMaxPattern","isIntegers","columnNames","minMax","dataObj","minMaxSplit","baseRandomVal","randomVal","arangeNode","arange","DataFrameNodes","countSeries","skipNull","cumMaxSeries","cumMax","cumMinSeries","cumMin","cumSumSeries","cumSum","cumProdSeries","cumProd","maxSeries","minSeries","meanSeries","medianSeries","median","modeSeries","mode","sumSeries","stdSeries","varSeries","variance","nuniqueSeries","nunique","SeriesNodes","dataFrameToSeries","seriesToDataFrame","ConverterNodes","addNodeCollections","registerables","ViolinController","ReactDOM","render","StrictMode","getElementById","URL","href","origin","headers","contentType","status","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.01c09bf3.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(\n            process.env.PUBLIC_URL,\n            window.location.href\n        );\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === \"installed\") {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log(\"Content is cached for offline use.\");\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error(\"Error during service worker registration:\", error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { \"Service-Worker\": \"script\" }\n    })\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get(\"content-type\");\n            if (\n                response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                \"No internet connection found. App is running in offline mode.\"\n            );\n        });\n}\n\nexport function unregister() {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready\n            .then(registration => {\n                registration.unregister();\n            })\n            .catch(error => {\n                console.error(error.message);\n            });\n    }\n}\n","const VisibleTypes = {\n    \"String\": \"string\",\n    \"Number\": \"number\",\n    \"Boolean\": \"boolean\",\n    \"DataFrame\": \"DataFrame\",\n    \"Series\": \"Series\"\n};\n\nconst HiddenTypes = {\n    \"Output\": \"Output\"\n};\n\nconst InternalTypes = {\n    \"NoType\": \"_noType_\"\n};\n\nconst Functions = {\n    OR: (...types: string[]): string => {\n        if (types.length < 1)\n            return InternalTypes.NoType;\n        return types.join(\" | \");\n    },\n    ARRAY: (type: string): string => {\n        if (type.includes(\"|\"))\n            return `(${type})[]`;\n        return `${type}[]`;\n    }\n};\n\nexport const Types = {\n    ...VisibleTypes,\n    ...HiddenTypes,\n    ...Functions\n};\n\nexport type VariableType = keyof typeof VisibleTypes;\nexport const VariableKeys = Object.keys(VisibleTypes);\n\nexport const SourceTypes = {\n    \"CSV\": \"csv\",\n};\n\nexport type SourceType = keyof typeof SourceTypes;\nexport const SourceKeys = Object.keys(SourceTypes);\n\n// This should only be used when the keyType is something like 'Number'\n// but the valueType is something like 'number'\nexport function isTypeEqual(keyType: string, valueType: string): boolean {\n    const entries = Object.entries(Types);\n    for (let i = 0; i < entries.length; i++) {\n        const entry = entries[i];\n        if (entry[0] === keyType && entry[1] === valueType)\n            return true;\n    }\n\n    return false;\n}","import { NodeInputValue, NodeProperty, Primitives, Vector2 } from \"../types\";\n\ninterface IObjectConvertible<TModel, TObject> {\n    toObject(): TObject;\n}\n\nexport type UserObject = {\n    userId: string;\n    name: string;\n    notebooks: NotebookObject[];\n}\n\nexport class UserModel implements IObjectConvertible<UserModel, UserObject> {\n    public userId = \"\";\n    public name: string;\n    public notebooks?: {\n        [key: string]: NotebookModel;\n    }\n\n    constructor(\n        name: string\n    ) {\n        this.name = name;\n    }\n\n    static fromObject(obj: UserObject): UserModel {\n        const model = new UserModel(obj.name);\n        model.userId = obj.userId;\n        \n        const notebooks: {\n            [key: string]: NotebookModel;\n        } = {};\n        obj.notebooks.forEach(notebook => {\n            const notebookModel = NotebookModel.fromObject(notebook);\n            notebooks[notebookModel.notebookId] = notebookModel;\n        });\n\n        model.notebooks = notebooks;\n        return model;\n    }\n\n    toObject(): UserObject {\n        const userObj: UserObject = {\n            userId: this.userId,\n            name: this.name,\n            notebooks: []\n        };\n\n        if (this.notebooks) {\n            const notebooks: NotebookObject[] = [];\n            Object.entries(this.notebooks).forEach(([key, value]) => {\n                notebooks.push(value.toObject());\n            });\n            userObj.notebooks = notebooks;\n        }\n\n\n        return userObj;\n    }\n}\n\nexport type NotebookObject = {\n    notebookId: string;\n    name: string; // sort\n    dateCreated: number; // sort\n    dateModified: number; // sort\n    cells: CellObject[];\n    sources: DataSourceObject[];\n    variables: VariableObject[];\n}\n\nexport class NotebookModel implements IObjectConvertible<NotebookModel, NotebookObject> {\n    public notebookId = \"\";\n    public name: string; // sort\n    public dateCreated: number; // sort\n    public dateModified: number; // sort\n    public cells?: {\n        [key: string]: CellModel;\n    };\n    public sources?: {\n        [key: string]: DataSourceModel;\n    };\n    public variables?: {\n        [key: string]: VariableModel;\n    };\n\n    constructor(\n        name: string,\n        dateCreated: number, \n        dateModified: number\n    ) {\n        this.name = name;\n        this.dateCreated = dateCreated;\n        this.dateModified = dateModified;\n    }\n    \n    static fromObject(obj: NotebookObject): NotebookModel {\n        const model = new NotebookModel(obj.name, obj.dateCreated, obj.dateModified);\n        model.notebookId = obj.notebookId;\n        \n        const cells: {\n            [key: string]: CellModel;\n        } = {};\n        obj.cells.forEach(cell => {\n            const cellModel = CellModel.fromObject(cell);\n            cells[cellModel.cellId] = cellModel;\n        });\n\n        const sources: {\n            [key: string]: DataSourceModel;\n        } = {};\n        obj.sources.forEach(source => {\n            const sourceModel = DataSourceModel.fromObject(source);\n            sources[sourceModel.sourceId] = sourceModel;\n        });\n\n        const variables: {\n            [key: string]: VariableModel;\n        } = {};\n        obj.variables.forEach(variable => {\n            const variableModel = VariableModel.fromObject(variable);\n            variables[variableModel.variableId] = variableModel;\n        });\n\n        model.cells = cells;\n        model.sources = sources;\n        model.variables = variables;\n        return model;\n    }\n    \n    toObject(): NotebookObject {\n        const notebookObj: NotebookObject = {\n            notebookId: this.notebookId,\n            name: this.name,\n            dateCreated: this.dateCreated,\n            dateModified: this.dateModified,\n            cells: [],\n            sources: [],\n            variables: []\n        };\n\n        if (this.cells) {\n            const cells: CellObject[] = [];\n            Object.entries(this.cells).forEach(([key, value]) => {\n                cells.push(value.toObject());\n            });\n            notebookObj.cells = cells;\n        }\n\n        if (this.sources) {\n            const sources: DataSourceObject[] = [];\n            Object.entries(this.sources).forEach(([key, value]) => {\n                sources.push(value.toObject());\n            });\n            notebookObj.sources = sources;\n        }\n\n        if (this.variables) {\n            const variables: VariableObject[] = [];\n            Object.entries(this.variables).forEach(([key, value]) => {\n                variables.push(value.toObject());\n            });\n            notebookObj.variables = variables;\n        }\n\n        return notebookObj;\n    }\n}\n\nexport type DataSourceObject = {\n    sourceId: string;\n    name: string;\n    type: string;\n}\n\n// TODO: Eventually add details like source URL depending on the type of data source\nexport class DataSourceModel implements IObjectConvertible<DataSourceModel, DataSourceObject> {\n    public sourceId = \"\";\n    public name: string;\n    public type: string;\n\n    constructor(name: string, type: string) {\n        this.name = name;\n        this.type = type;\n    }\n    \n    static fromObject(obj: DataSourceObject): DataSourceModel {\n        const model = new DataSourceModel(obj.name, obj.type);\n        model.sourceId = obj.sourceId;\n        return model;\n    }\n    \n    toObject(): DataSourceObject {\n        return {\n            sourceId: this.sourceId,\n            name: this.name,\n            type: this.type\n        };\n    }\n}\n\nexport type VariableObject = {\n    variableId: string;\n    name: string;\n    type: string;\n    value?: string | number | boolean;\n}\n\nexport class VariableModel implements IObjectConvertible<VariableModel, VariableObject> {\n    public variableId = \"\";\n    public name: string;\n    public type: string;\n    public value?: string | number | boolean;\n\n    constructor(name: string, type: string, value?: string | number | boolean) {\n        this.name = name;\n        this.type = type;\n        this.value = value;\n    }\n    \n    static fromObject(obj: VariableObject): VariableModel {\n        const model = new VariableModel(obj.name, obj.type, obj.value);\n        model.variableId = obj.variableId;\n        return model;\n    }\n    \n    toObject(): VariableObject {\n        return {\n            variableId: this.variableId,\n            name: this.name,\n            type: this.type,\n            value: this.value\n        };\n    }\n}\n\nexport type CellObject = {\n    cellId: string;\n    nextCell: string;\n    type: string;\n    value?: string;\n    nodes: NodeObject[];\n    connections: NodeConnectionObject[];\n}\n\nexport class CellModel implements IObjectConvertible<CellModel, CellObject> {\n    public cellId = \"\";\n    public nextCell = \"\";\n    public type: string;\n    public value?: string;\n    public nodes?: {\n        [key: string]: NodeModel;\n    };\n    public connections?: {\n        [key: string]: NodeConnectionModel;\n    };\n\n    constructor(  \n        type: string\n    ) {\n        this.type = type;\n        if (type === \"markdown\")\n            this.value = \"\";\n    }\n    \n    static fromObject(obj: CellObject): CellModel {\n        const model = new CellModel(obj.type);\n        model.cellId = obj.cellId;\n        model.nextCell = obj.nextCell;\n        model.value = obj.value;\n\n        const nodes: {\n            [key: string]: NodeModel;\n        } = {};\n        obj.nodes.forEach(node => {\n            const nodeModel = NodeModel.fromObject(node);\n            nodes[nodeModel.nodeId] = nodeModel;\n        });\n\n        const connections: {\n            [key: string]: NodeConnectionModel;\n        } = {};\n        obj.connections.forEach(connection => {\n            const connectionModel = NodeConnectionModel.fromObject(connection);\n            connections[connectionModel.connectionId] = connectionModel;\n        });\n\n        model.nodes = nodes;\n        model.connections = connections;\n        return model;\n    }\n    \n    toObject(): CellObject {\n        const cellObj: CellObject = {\n            cellId: this.cellId,\n            nextCell: this.nextCell,\n            type: this.type,\n            value: this.value,\n            nodes: [],\n            connections: []\n        };\n\n        if (this.nodes) {\n            const nodes: NodeObject[] = [];\n            Object.entries(this.nodes).forEach(([key, value]) => {\n                nodes.push(value.toObject());\n            });\n            cellObj.nodes = nodes;\n        }\n\n        if (this.connections) {\n            const connections: NodeConnectionObject[] = [];\n            Object.entries(this.connections).forEach(([key, value]) => {\n                connections.push(value.toObject());\n            });\n            cellObj.connections = connections;\n        }\n\n        return cellObj;\n    }\n}\n\nexport type NodeConnectionObject = {\n    connectionId: string;\n    fromNodeId: string;\n    fromSlotId: string;\n    toNodeId: string;\n    toSlotId: string;\n}\n\nexport class NodeConnectionModel implements IObjectConvertible<NodeConnectionModel, NodeConnectionObject> {\n    public connectionId = \"\";\n    public fromNodeId: string;\n    public fromSlotId: string;\n    public toNodeId: string;\n    public toSlotId: string;\n\n    constructor(\n        fromNodeId: string, \n        fromSlotId: string, \n        toNodeId: string, \n        toSlotId: string\n    ) {\n        this.fromNodeId = fromNodeId;\n        this.fromSlotId = fromSlotId;\n        this.toNodeId = toNodeId;\n        this.toSlotId = toSlotId;\n    }\n    \n    static fromObject(obj: NodeConnectionObject): NodeConnectionModel {\n        const model = new NodeConnectionModel(obj.fromNodeId, obj.fromSlotId, obj.toNodeId, obj.toSlotId);\n        model.connectionId = obj.connectionId;\n        return model;\n    }\n    \n    toObject(): NodeConnectionObject {\n        return {\n            connectionId: this.connectionId,\n            fromNodeId: this.fromNodeId,\n            fromSlotId: this.fromSlotId,\n            toNodeId: this.toNodeId,\n            toSlotId: this.toSlotId\n        };\n    }\n}\n\nexport type NodeObject = {\n    nodeId: string;\n    name: string; // update\n    type: string; // used to infer entry and exit slots\n    coords: Vector2; // update\n    properties: NodeProperty[];\n    inputValues: NodeInputValue[];\n}\n\nexport class NodeModel implements IObjectConvertible<NodeModel, NodeObject> {\n    public nodeId = \"\";\n    public name: string; // update\n    public type: string; // used to infer entry and exit slots\n    public coords: Vector2; // update\n    public properties: NodeProperty[] = [];\n    public inputValues: NodeInputValue[] = [];\n\n    constructor(\n        name: string, \n        type: string,\n        coords?: Vector2\n    ) {\n        this.name = name;\n        this.type = type;\n        this.coords = coords ?? { x: 0, y: 0 };\n    }\n\n    static fromObject(obj: NodeObject): NodeModel {\n        const model = new NodeModel(obj.name, obj.type, obj.coords);\n        model.nodeId = obj.nodeId;\n        model.properties = obj.properties;\n        model.inputValues = obj.inputValues;\n        return model;\n    }\n\n    toObject(): NodeObject {\n        return {\n            nodeId: this.nodeId,\n            name: this.name,\n            type: this.type,\n            coords: this.coords,\n            properties: this.properties,\n            inputValues: this.inputValues\n        };\n    }\n}","import { DataFrame, Series } from \"danfojs\";\nimport { ArrayType1D, ArrayType2D } from \"danfojs/types/shared/types\";\nimport { GroupBy } from \"danfojs/types/core/groupby\";\n\ntype StringMapping = {\n    [id: string]: string;\n};\n\ntype Mapping = {\n    [id: string]: string | number | boolean;\n}\n\nexport default class DanfoUtils {\n    public static unique(arr: ArrayType1D): ArrayType1D {\n        const uniqueArr = new Set(arr);\n        return Array.from(uniqueArr);\n    }\n\n    public static groupby(df: DataFrame, columns: string[]): GroupBy {\n        /* eslint-disable @typescript-eslint/ban-ts-comment */\n        // @ts-ignore\n        return df.groupby(columns);\n        /* eslint-enable @typescript-eslint/ban-ts-comment */\n    }\n\n    public static isEmpty(value: any): boolean {\n        return value === undefined || value === null || (isNaN(value) && typeof value !== \"string\") || (value === \"\" && typeof value === \"string\");\n    }\n\n    public static mapColumnsToTypes(columns: string[], types: string[]): StringMapping {\n        if (columns.length <= 0 || types.length <= 0)\n            throw ReferenceError(\"Either columns or types parameter is empty\");\n\n        if (columns.length !== types.length)\n            throw ReferenceError(\"The length of both columns and types must be equal\");\n\n        const mapping: StringMapping = {};\n        for (let i = 0; i < columns.length; i++)\n            mapping[columns[i]] = types[i];\n\n        return mapping;\n    }\n\n    public static fillna(df: DataFrame, columns: string[], values: (string | number | boolean)[]): DataFrame {\n        if (columns.length <= 0 || values.length <= 0)\n            throw Error(\"ParamError: either columns or values parameter is empty\");\n\n        if (values.length !== columns.length)\n            throw Error(\"ParamError: specified column and values must have the same length\");\n\n        columns.forEach(col => {\n            if (!df.columns.includes(col)) {\n                throw Error(`ValueError: Specified column \"${col}\" must be one of ${df.columns}`);\n            }\n        });\n    \n        const newData = [];\n        const oldValues = [...df.values] as (string[] | (string | number | boolean)[] | number[] | boolean[])[];\n\n        for (let i = 0; i < oldValues.length; i++) {\n            const valueArr = oldValues[i];\n\n            for (let i = 0; i < columns.length; i++) {\n                const columnIndex = df.columns.indexOf(columns[i]);\n                const replaceWith = values[i];\n                valueArr[columnIndex] = DanfoUtils.isEmpty(valueArr[columnIndex]) ? replaceWith : valueArr[columnIndex];\n            }\n\n            newData.push(valueArr);\n        }\n    \n        const newDf = new DataFrame(newData, {\n            index: [...df.index],\n            columns: [...df.columns],\n            dtypes: [...df.dtypes],\n            config: { ...df.config }\n        });\n        return newDf;\n    }\n\n    // Types are string, float32, int32, boolean\n    public static rebuildDataFrame(df: DataFrame, types: string[]): DataFrame {\n        let newDf = df.copy();\n        newDf = newDf.apply((col: string[]) => {\n            let i = 0;\n            return col.map(value => {\n                const type = types[i];\n                i++;\n\n                if (type === \"float32\" || type === \"int32\")\n                    return value !== \"\" ? Number(value) : NaN;\n                else if (type === \"boolean\")\n                    return value.toLowerCase() === \"true\" || value === \"1\";\n                else\n                    return value === \"\" ? \"\" : value;\n            }) as ArrayType1D;\n        }, { axis: 0 }) as DataFrame;\n        return newDf;\n    }\n\n    public static map(series: Series, mappings: Mapping, nanByDefault = false): Series {\n        const data = series.values.map(val => {\n            const value = `${val}`;\n            if (value in mappings) {\n                return mappings[value];\n            } else {\n                if (nanByDefault)\n                    return NaN;\n                else\n                    return val as string | number | boolean;\n            }\n        });\n    \n        let sf = series.copy();\n        sf.$setValues(data);\n        sf = sf.astype(sf.dtype as (\"string\" | \"boolean\" | \"undefined\" | \"float32\" | \"int32\")) as Series;\n        return sf;\n    }\n\n    public static loc(df: DataFrame, columns?: string[], rows?: Series | ArrayType1D): DataFrame {\n        let _rowIndexes;\n        let _columnIndexes;\n\n        const _data = df.values;\n        const _index = df.index;\n\n        const _rows: ArrayType1D | undefined = rows instanceof Series ? rows.values as ArrayType1D : rows;\n\n        if (_rows !== undefined && !Array.isArray(_rows)) {\n            throw new Error(\"rows parameter must be an Array. For example: rows: [1,2] or rows: [\\\"0:10\\\"]\");\n        }\n\n        if (columns !== undefined && !Array.isArray(columns)) {\n            throw new Error(\"columns parameter must be an Array. For example: columns: [\\\"a\\\",\\\"b\\\"] or columns: [\\\"a:c\\\"]\");\n        }\n\n        if (!_rows) {\n            _rowIndexes = _index.map((indexValue) => _index.indexOf(indexValue)); // Return all row index\n        } else if (_rows.length === 1 && typeof _rows[0] === \"string\") {\n\n            if (_rows[0].indexOf(\":\") === -1) { // Input type ==> [\"1\"] or [`\"1\"`]\n                let temp;\n                if (_rows[0].startsWith(\"\\\"\") || _rows[0].startsWith(\"'\") || _rows[0].startsWith(\"`\")) {\n                    temp = _index.indexOf(_rows[0].replace(/['\"`]/g, \"\"));\n                } else if (typeof _rows[0] === \"string\") {\n                    temp = _index.indexOf(_rows[0]);\n                } else {\n                    temp = _index.indexOf(Number(_rows[0]));\n                }\n\n                if (temp === -1) {\n                    throw new Error(`IndexError: Specified index (${_rows[0]}) not found`);\n                }\n\n                _rowIndexes = [temp];\n\n            } else {\n                // Input type ==> [\"1:2\"] or [`\"1\":\"4\"`]\n                const rowSplit = _rows[0].split(\":\");\n\n                if (rowSplit.length != 2) {\n                    throw new Error(\"Invalid row split parameter: If using row split string, it must be of the form; rows: [\\\"start:end\\\"]\");\n                }\n\n                let start;\n                let end;\n\n                if (rowSplit[0] === \"\") {\n                    start = _index.indexOf(_index[0]);\n                } else {\n                    if (rowSplit[0].startsWith(\"\\\"\") || rowSplit[0].startsWith(\"'\") || rowSplit[0].startsWith(\"`\")) {\n                        start = _index.indexOf(rowSplit[0].replace(/['\"`]/g, \"\"));\n                    } else {\n                        start = _index.indexOf(Number(rowSplit[0]));\n                    }\n                }\n\n                if (rowSplit[1] === \"\") {\n                    end = _index.indexOf(_index[_index.length - 1]) + 1;\n                } else {\n                    if (rowSplit[1].startsWith(\"\\\"\") || rowSplit[1].startsWith(\"'\") || rowSplit[1].startsWith(\"`\")) {\n                        end = _index.indexOf(rowSplit[1].replace(/['\"`]/g, \"\"));\n                    } else {\n                        end = _index.indexOf(Number(rowSplit[1]));\n                    }\n\n                }\n\n                if (start === -1) {\n                    throw new Error(\"IndexError: Specified start index not found\");\n                }\n\n                if (end === -1) {\n                    throw new Error(\"IndexError: Specified end index not found\");\n                }\n\n                _rowIndexes = _index.slice(start, (end + 1) >= _index.length ? undefined : end + 1)\n                    .map((indexValue) => _index.indexOf(indexValue));\n            }\n\n        } else {\n            // Input type ==> [\"1\", \"2\"] or [1, 5] or [true, false]\n            const rowsIndexToUse = [];\n            for (let i = 0; i < _rows.length; i++) {\n                const isBoolean = typeof _rows[i] === \"boolean\";\n                if (isBoolean && _rows[i]) {\n                    rowsIndexToUse.push(_index.indexOf(_index[i]));\n                }\n\n                if (!isBoolean) {\n                    const rowIndex = _index.indexOf(_rows[i] as string | number);\n                    if (rowIndex === -1) {\n                        throw new Error(`IndexError: Specified index (${_rows[i]}) not found`);\n                    }\n                    rowsIndexToUse.push(rowIndex);\n                }\n            }\n\n            _rowIndexes = rowsIndexToUse;\n        }\n\n        const _columnNames = df.columns;\n\n        if (!columns) {\n            _columnIndexes = _columnNames.map((columnName) => _columnNames.indexOf(columnName));// Return all column index\n\n        } else if (columns.length == 1) {\n            if (typeof columns[0] !== \"string\") {\n                throw new Error(\"ColumnIndexError: columns parameter must be an array of a string name. For example: columns: [\\\"b\\\"]\");\n            }\n\n            if (columns[0].indexOf(\":\") == -1) { // Input type ==> [\"A\"]\n                _columnIndexes = [_columnNames.indexOf(columns[0])];\n\n            } else { // Input type ==> [\"a:b\"] or [`\"col1\":\"col5\"`]\n                const columnSplit = columns[0].split(\":\");\n\n                if (columnSplit.length != 2) {\n                    throw new Error(\"ColumnIndexError: Invalid row split parameter. If using row split string, it must be of the form; rows: [\\\"start:end\\\"]\");\n                }\n\n                const start = columnSplit[0] == \"\" ? _columnNames.indexOf(_columnNames[0]) : _columnNames.indexOf(columnSplit[0]);\n                const end = columnSplit[1] == \"\" ? _columnNames.indexOf(_columnNames[_columnNames.length - 1]) : _columnNames.indexOf(columnSplit[1]);\n\n                if (start === -1) {\n                    throw new Error(\"ColumnIndexError: Specified start index not found\");\n                }\n\n                if (end === -1) {\n                    throw new Error(\"ColumnIndexError: Specified end index not found\");\n                }\n                _columnIndexes = _columnNames.slice(start, (end + 1) >= _columnNames.length ? undefined : end + 1)\n                    .map((columnName) => _columnNames.indexOf(columnName));\n\n            }\n        } else { // Input type ==> [\"A\", \"B\"] or [\"col1\", \"col2\"]\n            for (let i = 0; i < columns.length; i++) {\n                if (_columnNames.indexOf(columns[i]) === -1) {\n                    throw new Error(`ColumnIndexError: Specified column (${columns[i]}) not found`);\n                }\n            }\n            _columnIndexes = columns.map((columnName) => _columnNames.indexOf(columnName));\n        }\n\n        const newData = [];\n        const newIndex = [];\n        const newColumnNames = [];\n        const newDtypes = [];\n\n        for (let i = 0; i < _rowIndexes.length; i++) {\n            const rowIndx = _rowIndexes[i];\n            const rowData = _data[rowIndx] as ArrayType1D;\n            const newRowDataWithRequiredCols: ArrayType1D = [];\n\n            for (let j = 0; j < _columnIndexes.length; j++) {\n                const colIndx = _columnIndexes[j];\n                newRowDataWithRequiredCols.push(rowData[colIndx]);\n            }\n            newData.push(newRowDataWithRequiredCols);\n            newIndex.push(_index[rowIndx]);\n        }\n\n        for (let i = 0; i < _columnIndexes.length; i++) {\n            const colIndx = _columnIndexes[i];\n            newColumnNames.push(df.columns[colIndx]);\n            newDtypes.push(df.dtypes[colIndx]);\n\n        }\n\n        const newDf = new DataFrame(\n            newData,\n            {\n                index: newIndex,\n                columns: newColumnNames,\n                dtypes: newDtypes,\n                config: df.config\n            });\n        return newDf;\n    }\n\n    public static count(df: DataFrame, axis?: number): Series {\n        const transposeArray = (arr: ArrayType2D) => {\n            if (arr.length === 0) return arr;\n\n            const rowLen = arr.length;\n            if (Array.isArray(arr[0])) {\n                const colLen = arr[0].length;\n                const newArr = [];\n\n                for (let i = 0; i <= colLen - 1; i++) {\n                    const temp = [];\n                    for (let j = 0; j < rowLen; j++) {\n                        const _elem = (arr)[j][i];\n                        temp.push(_elem);\n                    }\n                    newArr.push(temp);\n                }\n                return newArr;\n            } else {\n                return arr;\n            }\n        };\n\n        const getDataByAxis = (axis?: number) => {\n            axis = axis === 0 ? 1 : 0;\n            if (axis === 1) {\n                return df.values;\n            } else {\n                let dfValues;\n                if (df.config.isLowMemoryMode) {\n                    dfValues = transposeArray(df.values as ArrayType2D);\n                } else {\n                    /* eslint-disable @typescript-eslint/ban-ts-comment */\n                    // @ts-ignore\n                    dfValues = df.$dataIncolumnFormat;\n                    /* eslint-enable @typescript-eslint/ban-ts-comment */\n                }\n                return dfValues;\n            }\n        };\n\n        const removeMissingValues = (arr: ArrayType1D) => {\n            const values = arr.filter((val) => {\n                return !(DanfoUtils.isEmpty(val));\n            });\n            return values;\n        };\n\n        const getData = (axis?: number) => {\n            const oldValues = getDataByAxis(axis);\n            const cleanValues = [];\n            for (let i = 0; i < oldValues.length; i++) {\n                const values = oldValues[i];\n                cleanValues.push(removeMissingValues(values as ArrayType1D));\n            }\n            return cleanValues;\n        };\n\n        const newData = getData(axis);\n\n        const countArr = newData.map((arr) => arr.length);\n        if (axis === 1) {\n            return new Series(countArr, { index: df.columns });\n        } else {\n            return new Series(countArr, { index: df.index });\n        }\n    }\n}","import * as Danfo from \"danfojs\";\nimport * as Papa from \"papaparse\";\nimport DBService from \"../db/DBService\";\nimport DanfoUtils from \"../utils/DanfoUtils\";\n\nabstract class DataSource {\n    private _id: string;\n    protected _df?: Danfo.DataFrame;\n\n    constructor(id: string) {\n        this._id = id;\n    }\n\n    get id(): string {\n        return this._id;\n    }\n\n    get df(): Danfo.DataFrame | undefined {\n        return this._df;\n    }\n\n    public abstract loadToDf(): Promise<boolean>;\n}\n\nabstract class LocalDataSource extends DataSource {\n    public async saveToDB(): Promise<boolean> {\n        if (!this.df)\n            return false;\n        \n        if (!DBService.db)\n            throw new ReferenceError(\"The DBService has not been started yet.\");\n            \n        const jsonObj = Danfo.to_json(this.df, { download: false, format: \"row\" });\n        const buffer = new TextEncoder().encode(JSON.stringify(jsonObj));\n        await DBService.db.addData(this.id, buffer);\n        return true;\n    }\n}\n\nexport class CSVSource extends LocalDataSource {\n    private csvFile: File | undefined;\n\n    constructor(id: string, csvFile?: File) {\n        super(id);\n        this.csvFile = csvFile;\n    }\n\n    async loadToDf(): Promise<boolean> {\n        if (!DBService.db)\n            throw new ReferenceError(\"The DBService has not been started yet.\");\n\n        const data = await DBService.db.getData(this.id);\n        if (data) {\n            const jsonObj = JSON.parse(new TextDecoder().decode(data));\n            const df = new Danfo.DataFrame(jsonObj);\n            this._df = df;\n            return true;\n        }\n\n        // Data isn't saved in db yet, check pathToCsv and save to db\n        if (!this.csvFile)\n            return false;\n\n        const csvFile: File = this.csvFile;\n        const parsedData = await new Promise(resolve => {\n            Papa.parse(csvFile, {\n                header: true,\n                dynamicTyping: false,\n                complete: results => {\n                    resolve(results.data);\n                }\n            });\n        });\n\n        const df = new Danfo.DataFrame(parsedData);\n        const df2 = DanfoUtils.rebuildDataFrame(df, df.dtypes);\n        this._df = df2;\n        return true;\n    }\n}\n\nexport class CSVUrlSource extends LocalDataSource {\n    private csvUrl: string | undefined;\n\n    constructor(id: string, csvUrl?: string) {\n        super(id);\n        this.csvUrl = csvUrl;\n    }\n\n    async loadToDf(): Promise<boolean> {\n        if (!DBService.db)\n            throw new ReferenceError(\"The DBService has not been started yet.\");\n\n        const data = await DBService.db.getData(this.id);\n        if (data) {\n            const jsonObj = JSON.parse(new TextDecoder().decode(data));\n            const df = new Danfo.DataFrame(jsonObj);\n            this._df = df;\n            return true;\n        }\n\n        // Data isn't saved in db yet, check pathToCsv and save to db\n        if (!this.csvUrl)\n            return false;\n\n        const csvUrl = this.csvUrl;\n        const parsedData = await new Promise(resolve => {\n            Papa.parse(csvUrl, {\n                download: true,\n                header: true,\n                dynamicTyping: false,\n                complete: results => {\n                    resolve(results.data);\n                }\n            });\n        });\n\n        const df = new Danfo.DataFrame(parsedData);\n        const df2 = DanfoUtils.rebuildDataFrame(df, df.dtypes);\n        this._df = df2;\n        return true;\n    }\n}\n\nclass DataService {\n    private _sources: {\n        [id: string]: DataSource\n    } = {};\n\n    addSource(source: DataSource) {\n        this._sources[source.id] = source;\n    }\n\n    getSource(sourceId: string): DataSource | null {\n        try {\n            const source = this._sources[sourceId];\n            if (!source)\n                throw new ReferenceError(\"Source not found\");\n            if (!source.df && !source.loadToDf())\n                throw new ReferenceError(\"Source not initialized\");\n    \n            return source;\n        } catch (err) {\n            console.error(err);\n            return null;\n        }\n    }\n\n    getAllSources(): DataSource[] {\n        return Object.values(this._sources);\n    }\n\n    async loadAllSources(userId: string, notebookId: string): Promise<void> {\n        return;\n        /*\n        try {\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n            \n            this.clearSources();\n\n            const ids = await DBService.db.getDataIds(userId, notebookId);\n            ids.forEach(async id => {\n                const csv = new CSVSource(id);\n                const result = await csv.loadToDf();\n                if (result)\n                    this._sources[id] = csv;\n            });\n        } catch (err) {\n            console.error(err);\n        }\n        /**/\n    }\n\n    clearSources(): void {\n        this._sources = {};\n    }\n}\n\nexport default new DataService();","import { CSVUrlSource } from \"../data/DataService\";\nimport { UserModel } from \"./models\";\n\nconst titanicSourceId = \"ky7ukwew00003f61vd3yuohz\";\n\nexport async function loadTitanic() {\n    const url = `${process.env.PUBLIC_URL}/titanic.csv`;\n    const csv = new CSVUrlSource(titanicSourceId, url);\n    const loadResult = await csv.loadToDf();\n    const saveResult = loadResult ? await csv.saveToDB() : false;\n}\n\nexport async function loadTutorialUser(): Promise<UserModel> {\n    const response = await fetch(`${process.env.PUBLIC_URL}/exported-db.json`);\n    const jsonStr = await response.text(); \n    const user = JSON.parse(jsonStr) as UserModel;\n    return user;\n}","import { Primitives, Vector2 } from \"../types\";\nimport AceDB from \"./AceDB\";\nimport { CellModel, DataSourceModel, NodeConnectionModel, NodeModel, NotebookModel, UserModel, VariableModel } from \"./models\";\n\nexport enum DBType {\n    Test,\n    Offline,\n    Online\n}\n\nexport interface DBInterface {\n    // Users\n    createNewUser(name: string): Promise<UserModel>;\n    removeUser(userId: string): Promise<void>;\n    updateUserName(userId: string, name: string): Promise<void>;\n    getAllUsers(): Promise<UserModel[]>;\n    getUserDetail(userId: string): Promise<UserModel>;\n\n    // Notebooks\n    createNewNotebook(userId: string, name: string): Promise<NotebookModel>;\n    addNotebook(userId: string, notebook: NotebookModel): Promise<void>;\n    removeNotebook(userId: string, notebookId: string): Promise<void>;\n    updateNotebookName(userId: string, notebookId: string, name: string): Promise<void>;\n    getNotebook(userId: string, notebookId: string): Promise<NotebookModel>;\n    getNotebooksByUser(userId: string): Promise<NotebookModel[]>;\n    getNotebookDetailsByUser(userId: string): Promise<NotebookModel[]>;\n\n    // Data Sources\n    createNewDataSource(userId: string, notebookId: string, name: string, type: string): Promise<DataSourceModel>;\n    updateDataSourceName(userId: string, notebookId: string, sourceId: string, name: string): Promise<void>;\n    removeDataSource(userId: string, notebookId: string, sourceId: string): Promise<void>;\n    getDataSource(userId: string, notebookId: string, sourceId: string): Promise<DataSourceModel>;\n    getDataSources(userId: string, notebookId: string): Promise<DataSourceModel[]>;\n\n    // Data\n    addData(sourceId: string, data: Uint8Array): Promise<void>;\n    removeData(sourceId: string): Promise<void>;\n    getData(sourceId: string): Promise<Uint8Array | undefined>;\n    isDataExists(sourceId: string): Promise<boolean>;\n\n    // Variables\n    createNewVariable(userId: string, notebookId: string, name: string, type: string): Promise<VariableModel>;\n    updateVariableName(userId: string, notebookId: string, variableId: string, name: string): Promise<void>;\n    updateVariableValue(userId: string, notebookId: string, variableId: string, value: string | number | boolean): Promise<void>;\n    removeVariable(userId: string, notebookId: string, variableId: string): Promise<void>;\n    getVariable(userId: string, notebookId: string, variableId: string): Promise<VariableModel>;\n    getVariables(userId: string, notebookId: string): Promise<VariableModel[]>;\n\n    // Generic Cell\n    createNewCell(userId: string, notebookId: string, type: \"markdown\" | \"node\"): Promise<CellModel | undefined>;\n    insertCell(userId: string, notebookId: string, cellId: string, insertNextToCellId: string): Promise<void>;\n    insertCellWithIndex(userId: string, notebookId: string, cellId: string, insertNextTo: number): Promise<void>;\n    insertCellToTop(userId: string, notebookId: string, cellId: string): Promise<void>;\n    removeCell(userId: string, notebookId: string, cellId: string): Promise<void>;\n    updateCellType(userId: string, notebookId: string, cellId: string, type: \"markdown\" | \"node\"): Promise<void>;\n    getCellsByNotebook(userId: string, notebookId: string): Promise<CellModel[]>;\n\n    // Markdown Cell\n    updateMarkdownCell(userId: string, notebookId: string, cellId: string, value: string): Promise<void>;\n\n    // Node Cell nodes\n    createNewNode(userId: string, notebookId: string, cellId: string, name: string, type: string, coords?: Vector2): Promise<NodeModel>;\n    addNode(userId: string, notebookId: string, cellId: string, node: NodeModel): Promise<void>;\n    removeNode(userId: string, notebookId: string, cellId: string, nodeId: string): Promise<void>;\n    updateNodeName(userId: string, notebookId: string, cellId: string, nodeId: string, name: string): Promise<void>;\n    updateNodeCoords(userId: string, notebookId: string, cellId: string, nodeId: string, coords: Vector2): Promise<void>;\n    setNodeInputValue(userId: string, notebookId: string, cellId: string, nodeId: string, slotId: string, value: Primitives): Promise<void>;\n    setNodeProperty(userId: string, notebookId: string, cellId: string, nodeId: string, propertyId: string, value: string | number | boolean): Promise<void>;\n\n    // Node Cell connections\n    createNewNodeConnection(userId: string, notebookId: string, cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string): Promise<NodeConnectionModel>;\n    removeNodeConnection(userId: string, notebookId: string, cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string): Promise<void>;\n    removeNodeConnectionWithId(userId: string, notebookId: string, cellId: string, connectionId: string): Promise<void>;\n\n    setupSchema(): Promise<void>;\n    seedDatabase(): Promise<void>;\n    exportDatabase(): Promise<string>;\n    onReady(fn: () => Promise<void>): void;\n}\n\nclass DBService {\n    private _db: DBInterface | undefined;\n    private _isRunning = false;\n\n    public async start(dbType: DBType): Promise<void> {\n        if (this._isRunning)\n            return;\n\n        this._db = new AceDB(dbType);\n        if (dbType === DBType.Test)\n            await this._db.setupSchema();\n\n        this._isRunning = true;\n    }\n\n    public get isRunning() {\n        return this._isRunning;\n    }\n\n    public get db() {\n        return this._db;\n    }\n}\n\nexport default new DBService();","import { AceBase } from \"acebase\";\nimport { AceBaseClient } from \"acebase-client\";\nimport { DataReferencesArray, DataSnapshotsArray, ID } from \"acebase-core\";\nimport { NodeInputValue, NodeProperty, Primitives, Vector2 } from \"../types\";\nimport { isTypeEqual, Types } from \"../utils/Types\";\nimport { DBInterface, DBType } from \"./DBService\";\nimport { UserObject, UserModel, NotebookModel, DataSourceModel, VariableModel, CellModel, NodeModel, NodeConnectionModel } from \"./models\";\nimport { loadTitanic, loadTutorialUser } from \"./seedDB\";\n\nexport default class AceDB implements DBInterface {\n    private db: AceBase;\n    private dbType: DBType;\n    private readyListeners: (() => Promise<void>)[] = [];\n\n    constructor(dbType: DBType, db?: AceBase) {\n        if (db)\n            this.db = db;\n        else {\n            if (dbType === DBType.Offline) {\n                this.db = AceBase.WithIndexedDB(\"node-ml-offline\", { removeVoidProperties: true });\n            } else if (dbType === DBType.Online) {\n                const localDb = AceBase.WithIndexedDB(\"node-ml-online\", { removeVoidProperties: true });\n                this.db = new AceBaseClient({\n                    cache: { db: localDb },\n                    host: \"test\",\n                    port: 443,\n                    https: true,\n                    dbname: \"node-ml\",\n                });\n            } else {\n                this.db = AceBase.WithIndexedDB(\"node-ml-test\", { removeVoidProperties: true });\n            }\n        }\n\n        this.dbType = dbType;\n        this.db.ready(async () => {\n            this.mapToClass();\n            await this.setupSchema();\n\n            this.readyListeners.forEach(async fn => {\n                await fn();\n            });\n        });\n    }\n\n    onReady(fn: () => Promise<void>): void {\n        this.readyListeners.push(fn);\n    }\n\n    mapToClass(): void {\n        this.db.types.bind(\"users\", UserModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const user = new UserModel(\n                    obj.name\n                );\n                user.userId = key;\n                user.notebooks = obj.notebooks;\n                return user;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    name: obj.name,\n                    notebooks: obj.notebooks\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks\", NotebookModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const notebook = new NotebookModel(\n                    obj.name,\n                    obj.dateCreated, \n                    obj.dateModified\n                );\n                notebook.notebookId = key;\n                notebook.cells = obj.cells;\n                notebook.sources = obj.sources;\n                notebook.variables = obj.variables;\n                return notebook;\n            },\n            serializer: (ref, obj) => {\n                return { \n                    name: obj.name, \n                    dateCreated: obj.dateCreated, \n                    dateModified: obj.dateModified,\n                    cells: obj.cells,\n                    sources: obj.sources,\n                    variables: obj.variables\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks/*/sources\", DataSourceModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const source = new DataSourceModel(obj.name, obj.type);\n                source.sourceId = key;\n                return source;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    name: obj.name,\n                    type: obj.type\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks/*/variables\", VariableModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const variable = new VariableModel(obj.name, obj.type, obj.value);\n                variable.variableId = key;\n                return variable;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    name: obj.name,\n                    type: obj.type,\n                    value: obj.value\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks/*/cells\", CellModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const cell = new CellModel(\n                    obj.type\n                );\n                cell.cellId = key;\n                cell.value = obj.value;\n                cell.nodes = obj.nodes;\n                cell.connections = obj.connections;\n                cell.nextCell = obj.nextCell;\n                return cell;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    type: obj.type,\n                    value: obj.value,\n                    nextCell: obj.nextCell,\n                    nodes: obj.nodes,\n                    connections: obj.connections\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks/*/cells/*/nodes\", NodeModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const node = new NodeModel(\n                    obj.name,\n                    obj.type,\n                    obj.coords\n                );\n                node.nodeId = key;\n                node.properties = obj.properties;\n                node.inputValues = obj.inputValues;\n                return node;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    name: obj.name,\n                    type: obj.type,\n                    coords: obj.coords,\n                    properties: obj.properties,\n                    inputValues: obj.inputValues\n                };\n            }\n        });\n        this.db.types.bind(\"users/*/notebooks/*/cells/*/connections\", NodeConnectionModel, {\n            creator: snap => {\n                const key = snap.ref.key;\n                const obj = snap.val();\n                const connection = new NodeConnectionModel(\n                    obj.fromNodeId,\n                    obj.fromSlotId,\n                    obj.toNodeId,\n                    obj.toSlotId\n                );\n                connection.connectionId = key;\n                return connection;\n            },\n            serializer: (ref, obj) => {\n                return {\n                    fromNodeId: obj.fromNodeId,\n                    fromSlotId: obj.fromSlotId,\n                    toNodeId: obj.toNodeId,\n                    toSlotId: obj.toSlotId\n                };\n            }\n        });\n    }\n\n    async setupSchema(): Promise<void> {\n        await this.db.schema.set(\"users/$userId\", {\n            name: \"string\",\n            \"notebooks?\": {\n                \"$notebookId\": {\n                    name: \"string\",\n                    dateCreated: \"number\",\n                    dateModified: \"number\",\n                    \"cells?\": {\n                        \"$cellId\": {\n                            type: \"string\",\n                            nextCell: \"string\",\n                            \"value?\": \"string\",\n                            \"nodes?\": {\n                                \"$nodeId\": {\n                                    name: \"string\",\n                                    type: \"string\",\n                                    coords: \"{ x: number, y: number }\",\n                                    properties: \"{ id: string, value: string | number | boolean }[]\",\n                                    inputValues: \"{ id: string, value: any }[]\"\n                                }\n                            },\n                            \"connections?\": {\n                                \"$connectionId\": {\n                                    fromNodeId: \"string\",\n                                    fromSlotId: \"string\",\n                                    toNodeId: \"string\",\n                                    toSlotId: \"string\"\n                                }\n                            }\n                        }\n                    },\n                    \"sources?\": {\n                        \"$sourceId\": {\n                            name: \"string\",\n                            type: \"string\"\n                        }\n                    },\n                    \"variables?\": {\n                        \"$variableId\": {\n                            name: \"string\",\n                            type: \"string\",\n                            \"value?\": \"string | number | boolean\"\n                        }\n                    }\n                }\n            }\n        });\n    }\n\n    async seedDatabase(): Promise<void> {\n        const childCount = await this.db.root.count();\n        if (childCount > 0)\n            return;\n\n        const tutorialUser = await loadTutorialUser();\n        await this.db.ref(\"users\").push(tutorialUser);\n\n        await loadTitanic();\n    }\n\n    async exportDatabase(): Promise<string> {\n        let json = \"\";\n        const write = (str: string) => {\n            json += str;\n        };\n        await this.db.ref(\"users\").export({ write });\n        return json;\n    }\n\n    async clearDatabase(): Promise<void> {\n        await this.db.root.forEach(async snapshot => {\n            await this.db.ref(snapshot.key as string).remove();\n        });\n    }\n\n    // TODO: The parameters of all operations that change the data should be validated\n\n    /// Users\n\n    async createNewUser(name: string): Promise<UserModel> {\n        const user = new UserModel(name);\n        const ref = await this.db.ref(\"users\").push(user);\n        const snap = await ref.get();\n        return snap.val() as UserModel;\n    }\n\n    async removeUser(userId: string): Promise<void> {\n        await this.db.ref(`users/${userId}`).remove();\n    }\n\n    async updateUserName(userId: string, name: string): Promise<void> {\n        await this.db.ref(`users/${userId}/name`)\n            .transaction(snap => {\n                return name;\n            });\n    }\n\n    // Only for offline use, where there are multiple offline users\n    async getAllUsers(): Promise<UserModel[]> {\n        if (this.dbType === DBType.Online)\n            return [];\n\n        const snaps = await this.db.query(\"users\")\n            .get({ include: [\"*/name\"] }) as DataSnapshotsArray;\n\n        const users: UserModel[] = [];\n        snaps.forEach(snap => users.push(snap.val() as UserModel));\n        return users;\n    }\n\n    async getUserDetail(userId: string): Promise<UserModel> {\n        const snap = await this.db.ref(`users/${userId}`).get({ include: [\"name\"] });\n        return snap.val() as UserModel;\n    }\n\n    /// Notebooks\n    \n    async createNewNotebook(userId: string, name: string): Promise<NotebookModel> {\n        const now = Date.now();\n        const notebook = new NotebookModel(name, now, now);\n        const notebookRef = await this.db.ref(`users/${userId}/notebooks`).push(notebook);\n        // Create a markdown cell to new notebooks by default\n        const cell = new CellModel(\"markdown\");\n        await this.db.ref(`users/${userId}/notebooks/${notebookRef.key}/cells`).push(cell);\n\n        const snapshot = await notebookRef.get();\n        return snapshot.val() as NotebookModel;\n    }\n\n    async addNotebook(userId: string, notebook: NotebookModel): Promise<void> {\n        if (notebook.notebookId !== \"\")\n            await this.db.ref(`users/${userId}/notebooks/${notebook.notebookId}`).set(notebook);\n        else\n            await this.db.ref(`users/${userId}/notebooks`).push(notebook);\n    }\n\n    async removeNotebook(userId: string, notebookId: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}`).remove();\n    }\n\n    async updateNotebookName(userId: string, notebookId: string, name: string): Promise<void> {\n        const now = Date.now();\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/name`)\n            .transaction(snapshot => {\n                return name;\n            });\n\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/dateModified`)\n            .transaction(snapshot => {\n                return now;\n            });\n    }\n\n    async getNotebook(userId: string, notebookId: string): Promise<NotebookModel> {\n        const snap = await this.db.ref(`users/${userId}/notebooks/${notebookId}`).get();\n        return snap.val() as NotebookModel;\n    }\n\n    async getNotebooksByUser(userId: string): Promise<NotebookModel[]> {\n        const notebooks: NotebookModel[] = [];\n        const snaps = await this.db.query(`users/${userId}/notebooks`).get();\n        snaps.forEach(snap => notebooks.push(snap.val() as NotebookModel));\n        return notebooks;\n    }\n\n    async getNotebookDetailsByUser(userId: string): Promise<NotebookModel[]> {\n        const notebooks: NotebookModel[] = [];\n        const snaps = await this.db.query(`users/${userId}/notebooks`).get({ exclude: [\"cells\"], snapshots: true }) as DataSnapshotsArray;\n        snaps.forEach(snap => notebooks.push(snap.val() as NotebookModel));\n        return notebooks;\n    }\n\n    /// Data Sources\n\n    async createNewDataSource(userId: string, notebookId: string, name: string, type: string): Promise<DataSourceModel> {\n        const source = new DataSourceModel(name, type);\n        const ref = await this.db.ref(`users/${userId}/notebooks/${notebookId}/sources`).push(source);\n        const snap = await ref.get();\n        return snap.val() as DataSourceModel;\n    }\n\n    async updateDataSourceName(userId: string, notebookId: string, sourceId: string, name: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/sources/${sourceId}/name`)\n            .transaction(snapshot => {\n                return name;\n            });\n    }\n\n    async removeDataSource(userId: string, notebookId: string, sourceId: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/sources/${sourceId}`).remove();\n    }\n\n    async getDataSource(userId: string, notebookId: string, sourceId: string): Promise<DataSourceModel> {\n        const snap = await this.db.ref(`users/${userId}/notebooks/${notebookId}/sources/${sourceId}`).get();\n        return snap.val() as DataSourceModel;\n    }\n\n    async getDataSources(userId: string, notebookId: string): Promise<DataSourceModel[]> {\n        const sources: DataSourceModel[] = [];\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/sources`).get();\n        snaps.forEach(snap => sources.push(snap.val() as DataSourceModel));\n        return sources;\n    }\n\n    /// Data\n\n    async addData(sourceId: string, data: Uint8Array): Promise<void> {\n        await this.db.ref(`data/${sourceId}`)\n            .set(data);\n    }\n\n    async removeData(sourceId: string): Promise<void> {\n        await this.db.ref(`data/${sourceId}`).remove();\n    }\n\n    async getData(sourceId: string): Promise<Uint8Array | undefined> {\n        const snap = await this.db.ref(`data/${sourceId}`).get();\n        if (snap.exists())\n            return snap.val() as Uint8Array;\n    }\n\n    async isDataExists(sourceId: string): Promise<boolean> {\n        const ref = this.db.ref(`data/${sourceId}`);\n        return await ref.exists();\n    }\n\n    /// Variables\n\n    async createNewVariable(userId: string, notebookId: string, name: string, type: string, value?: string | number | boolean): Promise<VariableModel> {\n        let val = value;\n        if (val == null) {\n            if (isTypeEqual(type, Types.String))\n                val = \"\";\n            else if (isTypeEqual(type, Types.Number))\n                val = 0;\n            else if (isTypeEqual(type, Types.Boolean))\n                val = false;\n            else\n                val = undefined;\n        }\n\n        const variable = new VariableModel(name, type, val);\n        const ref = await this.db.ref(`users/${userId}/notebooks/${notebookId}/variables`).push(variable);\n        const snap = await ref.get();\n        return snap.val() as VariableModel;\n    }\n\n    async updateVariableName(userId: string, notebookId: string, variableId: string, name: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/variables/${variableId}/name`)\n            .transaction(snapshot => {\n                return name;\n            });\n    }\n\n    async updateVariableValue(userId: string, notebookId: string, variableId: string, value: string | number | boolean): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/variables/${variableId}/value`)\n            .transaction(snapshot => {\n                return value;\n            });\n    }\n\n    async removeVariable(userId: string, notebookId: string, variableId: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/variables/${variableId}`).remove();\n    }\n\n    async getVariable(userId: string, notebookId: string, variableId: string): Promise<VariableModel> {\n        const snap = await this.db.ref(`users/${userId}/notebooks/${notebookId}/variables/${variableId}`).get();\n        return snap.val() as VariableModel;\n    }\n\n    async getVariables(userId: string, notebookId: string): Promise<VariableModel[]> {\n        const variables: VariableModel[] = [];\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/variables`).get();\n        snaps.forEach(snap => variables.push(snap.val() as VariableModel));\n        return variables;\n    }\n\n    /// Cells\n\n    async createNewCell(userId: string, notebookId: string, type: \"node\" | \"markdown\"): Promise<CellModel | undefined> {\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`)\n            .filter(\"nextCell\", \"==\", \"\")\n            .get();\n        if (snaps.length > 1)\n            return;\n\n        // Update very last cell in linked list to point to this new cell\n        const cell = new CellModel(type);\n        const ref = await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells`).push(cell);\n        const snap = await ref.get();\n        const newCell = snap.val() as CellModel;\n        // No other cells in the notebook\n        if (snaps.length <= 0)\n            return newCell;\n\n        const lastCellKey = snaps[0].key;\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${lastCellKey}/nextCell`)\n            .transaction(snapshot => {\n                return newCell.cellId;\n            });\n\n        return newCell;\n    }\n\n    cellsToLinkedList(cells: CellModel[]): CellModel[] {\n        // Recreate the linked list as an array\n        const linkedCells: CellModel[] = [];\n        let currentKey: string | undefined = \"\";\n        for(let i = 0; i < cells.length; i++) {\n            const currentCell = cells.find(cell => cell.nextCell === currentKey);\n            if (!currentCell)\n                return []; // Some cells are not linked\n\n            linkedCells.push(currentCell);\n            currentKey = currentCell.cellId;\n        }\n        linkedCells.reverse();\n        return linkedCells;\n    }\n\n    async insertCell(userId: string, notebookId: string, cellId: string, insertNextToCellId: string): Promise<void> {\n        if (cellId === insertNextToCellId)\n            return;\n            \n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`)\n            .get({ snapshots: true }) as DataSnapshotsArray;\n\n        const cells: CellModel[] = [];\n        snaps.forEach(snap => cells.push(snap.val() as CellModel));\n\n        const linkedCells = this.cellsToLinkedList(cells);\n        if (linkedCells.length <= 0)\n            return;\n\n        const cellToMoveIndex = linkedCells.findIndex(cell => cell.cellId === cellId);\n        const cellToMove = linkedCells[cellToMoveIndex];\n        const prevCell = linkedCells[cellToMoveIndex - 1];\n        const insertCellToIndex = linkedCells.findIndex(cell => cell.cellId === insertNextToCellId);\n        const insertCellTo = linkedCells[insertCellToIndex];\n        if (prevCell && prevCell.cellId === insertCellTo.cellId) // Didn't move cell\n            return;\n\n\n        // Change prevCell's nextCell to cellToMove's nextCell\n        if (prevCell)\n            await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${prevCell.cellId}/nextCell`)\n                .transaction(snap => {\n                    return cellToMove.nextCell;\n                });\n\n        // Change cellToMove's nextCell to insertCellTo's nextCell\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellToMove.cellId}/nextCell`)\n            .transaction(snap => {\n                return insertCellTo.nextCell;\n            });\n\n        // Change insertCellTo's nextCell to cellToMove's cellId\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${insertCellTo.cellId}/nextCell`)\n            .transaction(snap => {\n                return cellToMove.cellId;\n            }); \n    }\n\n    // Cell inserted immediately after the cell at the given 'insertNextTo' index\n    async insertCellWithIndex(userId: string, notebookId: string, cellId: string, insertNextTo: number): Promise<void> {\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`)\n            .get({ snapshots: true }) as DataSnapshotsArray;\n\n        const cells: CellModel[] = [];\n        snaps.forEach(snap => cells.push(snap.val() as CellModel));\n\n        const linkedCells = this.cellsToLinkedList(cells);\n        if (linkedCells.length <= 0)\n            return;\n\n        const cellToMoveIndex = linkedCells.findIndex(cell => cell.cellId === cellId);\n        const cellToMove = linkedCells[cellToMoveIndex];\n        const prevCell = linkedCells[cellToMoveIndex - 1];\n        const insertCellTo = linkedCells[insertNextTo];\n        if (prevCell.cellId === insertCellTo.cellId) // Didn't move cell\n            return;\n\n        // Change prevCell's nextCell to cellToMove's nextCell\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${prevCell.cellId}/nextCell`)\n            .transaction(snap => {\n                return cellToMove.nextCell;\n            });\n\n        // Change cellToMove's nextCell to insertCellTo's nextCell\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellToMove.cellId}/nextCell`)\n            .transaction(snap => {\n                return insertCellTo.nextCell;\n            });\n\n        // Change insertCellTo's nextCell to cellToMove's cellId\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${insertCellTo.cellId}/nextCell`)\n            .transaction(snap => {\n                return cellToMove.cellId;\n            }); \n    }\n\n    async insertCellToTop(userId: string, notebookId: string, cellId: string): Promise<void> {\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`)\n            .get({ snapshots: true }) as DataSnapshotsArray;\n\n        const cells: CellModel[] = [];\n        snaps.forEach(snap => cells.push(snap.val() as CellModel));\n\n        const linkedCells = this.cellsToLinkedList(cells);\n        if (linkedCells.length <= 0)\n            return;\n\n        const cellToMoveIndex = linkedCells.findIndex(cell => cell.cellId === cellId);\n        if (cellToMoveIndex <= 0)\n            return;\n\n        const cellToMove = linkedCells[cellToMoveIndex];\n        const prevCell = linkedCells[cellToMoveIndex - 1];\n        const firstCell = linkedCells[0];\n\n        // Change prevCell's nextCell to cellToMove's nextCell\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${prevCell.cellId}/nextCell`)\n            .transaction(snap => {\n                return cellToMove.nextCell;\n            });\n\n        // Change cellToMove's nextCell to firstCell's cellId\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellToMove.cellId}/nextCell`)\n            .transaction(snap => {\n                return firstCell.cellId;\n            });\n    }\n\n    async removeCell(userId: string, notebookId: string, cellId: string): Promise<void> {\n        const snap = await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}`).get();\n        if (!snap.val())\n            return;\n        const cellToRemove = snap.val() as CellModel;\n\n        // Should change next cell reference of previous cell to the next cell of the deleted cell\n        const refs = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`)\n            .filter(\"nextCell\", \"==\", cellToRemove.cellId)\n            .get({snapshots: false}) as DataReferencesArray;\n        if (refs.length != 1)\n            return;\n\n        const lastCellKey = refs[0].key;\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${lastCellKey}/nextCell`)\n            .transaction(snap => {\n                return cellToRemove.nextCell;\n            });\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}`).remove();\n    }\n\n    async updateCellType(userId: string, notebookId: string, cellId: string, type: \"node\" | \"markdown\"): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/type`)\n            .transaction(snap => {\n                return type;\n            });\n    }\n\n    async getCellsByNotebook(userId: string, notebookId: string): Promise<CellModel[]> {\n        const cells: CellModel[] = [];\n        const snaps = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells`).get();\n        snaps.forEach(snap => cells.push(snap.val() as CellModel));\n        return cells;\n    }\n\n    async updateMarkdownCell(userId: string, notebookId: string, cellId: string, value: string): Promise<void> {\n        const cellSnap = await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}`).get();\n        const cell = cellSnap.val() as CellModel;\n\n        if (cell.type === \"markdown\") {\n            await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/value`).transaction(snap => {\n                return value;\n            });\n        }\n    }\n\n    /// Nodes\n\n    async createNewNode(userId: string, notebookId: string, cellId: string, name: string, type: string, coords?: Vector2): Promise<NodeModel> {\n        const node = new NodeModel(name, type, coords);\n        const ref = await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes`).push(node);\n        const snap = await ref.get();\n        return snap.val() as NodeModel;\n    }\n\n    async addNode(userId: string, notebookId: string, cellId: string, node: NodeModel): Promise<void> {\n        if (node.nodeId !== \"\")\n            await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${node.nodeId}`).set(node);\n        else\n            await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes`).push(node);\n    }\n\n    async removeNode(userId: string, notebookId: string, cellId: string, nodeId: string): Promise<void> {\n        // Delete all the connections to this node as well\n        await this.db.query(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/connections`)\n            .filter(\"fromNodeId\", \"==\", nodeId)\n            .remove();\n\n        await this.db.query(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/connections`)\n            .filter(\"toNodeId\", \"==\", nodeId)\n            .remove();\n\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${nodeId}`).remove();\n    }\n\n    async updateNodeName(userId: string, notebookId: string, cellId: string, nodeId: string, name: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${nodeId}/name`)\n            .transaction(snap => {\n                return name;\n            });\n    }\n\n    async updateNodeCoords(userId: string, notebookId: string, cellId: string, nodeId: string, coords: Vector2): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${nodeId}/coords`)\n            .transaction(snap => {\n                return coords;\n            });\n    }\n\n    async setNodeInputValue(userId: string, notebookId: string, cellId: string, nodeId: string, slotId: string, value: Primitives): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${nodeId}/inputValues`)\n            .transaction(snap => {\n                const values = snap.val() as NodeInputValue[];\n                const slotIndex = values.findIndex(value => value.id === slotId);\n                if (slotIndex < 0)\n                    values.push({ id: slotId, value: value });\n                else\n                    values[slotIndex].value = value;\n\n                return values;\n            });\n    }\n\n    async setNodeProperty(userId: string, notebookId: string, cellId: string, nodeId: string, propertyId: string, value: string | number | boolean): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/nodes/${nodeId}/properties`)\n            .transaction(snap => {\n                const values = snap.val() as NodeProperty[];\n                const slotIndex = values.findIndex(value => value.id === propertyId);\n                if (slotIndex < 0)\n                    values.push({ id: propertyId, value });\n                else\n                    values[slotIndex].value = value;\n\n                return values;\n            });\n    }\n\n    /// Node Connections\n\n    async createNewNodeConnection(userId: string, notebookId: string, cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string): Promise<NodeConnectionModel> {\n        const connection = new NodeConnectionModel(fromNodeId, fromSlotId, toNodeId, toSlotId);\n        const ref = await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/connections`).push(connection);\n        const snap = await ref.get();\n        return snap.val() as NodeConnectionModel;\n    }\n\n    async removeNodeConnection(userId: string, notebookId: string, cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string): Promise<void> {\n        const refs = await this.db.query(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/connections`)\n            .filter(\"fromNodeId\", \"==\", fromNodeId)\n            .filter(\"fromSlotId\", \"==\", fromSlotId)\n            .filter(\"toNodeId\", \"==\", toNodeId)\n            .filter(\"toSlotId\", \"==\", toSlotId)\n            .get({ snapshots: false }) as DataReferencesArray;\n        if (refs.length <= 0)\n            return;\n\n        refs.forEach(async ref => {\n            await ref.remove();\n        });\n    }\n\n    async removeNodeConnectionWithId(userId: string, notebookId: string, cellId: string, connectionId: string): Promise<void> {\n        await this.db.ref(`users/${userId}/notebooks/${notebookId}/cells/${cellId}/connections/${connectionId}`).remove();\n    }\n}","export default class Cookies {\n    static setCookie(name: string, val: string): void {\n        const date = new Date();\n        const value = val;\n    \n        const days = 1;\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n        document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=/`;\n    }\n    \n    static getCookie(name: string): string | undefined {\n        const value = \"; \" + document.cookie;\n        const parts = value.split(\"; \" + name + \"=\");\n        \n        if (parts.length == 2) {\n            return parts.pop()?.split(\";\").shift();\n        }\n    }\n    \n    static deleteCookie(name: string): void {\n        const date = new Date();\n        date.setTime(date.getTime() + (-1 * 24 * 60 * 60 * 1000));\n        document.cookie = `${name}=; expires=${date.toUTCString()}; path=/`;\n    }\n}","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport DBService from \"../../db/DBService\";\nimport { UserObject } from \"../../db/models\";\nimport Cookies from \"../../utils/Cookies\";\n\n// Should contain only the necessary user details, like:\n// - user name\n// - user settings\n// - user id\n// - auth token\n\nexport type UserState = {\n    userList: UserObject[];\n    currentUser: UserObject | undefined;\n};\n\nconst initialState: UserState = {\n    userList: [],\n    currentUser: undefined\n};\n\n// Payload Types\ntype UpdateUserNamePayload = {\n    userId: string;\n    name: string;\n}\n\nexport const slice = createSlice({\n    name: \"users\",\n    initialState: initialState,\n    reducers: {\n        addUser: (state, action: PayloadAction<UserObject>) => {\n            state.userList.push(action.payload);\n        },\n        removeUser: (state, action: PayloadAction<string>) => {\n            const id = action.payload;\n            const userIndex = state.userList.findIndex(user => user.userId === id);\n            if (userIndex < 0)\n                return;\n\n            const newArr = state.userList.slice();\n            newArr.splice(userIndex, 1);\n            state.userList = newArr;\n\n            if (state.currentUser && state.currentUser.userId === id)\n                state.currentUser = undefined;\n        },\n        setUserList: (state, action: PayloadAction<UserObject[]>) => {\n            state.userList = action.payload;\n        },\n        setCurrentUser: (state, action: PayloadAction<UserObject>) => {\n            state.currentUser = action.payload;\n        },\n        removeCurrentUser: (state, action: PayloadAction<undefined>) => {\n            state.currentUser = undefined;\n        },\n        updateUserName: (state, action: PayloadAction<UpdateUserNamePayload>) =>{\n            const payload = action.payload;\n            if (state.currentUser && state.currentUser.userId === payload.userId)\n                state.currentUser.name = payload.name;\n\n            const userIndex = state.userList.findIndex(user => user.userId === payload.userId);\n            if (userIndex < 0)\n                return;\n\n            state.userList[userIndex].name = payload.name;\n        }\n    }\n});\n\n// Actions\nexport const { addUser, removeUser, setUserList, setCurrentUser, removeCurrentUser, updateUserName } = slice.actions;\n\n// Thunks\nexport const fetchOfflineUsersAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const users = await DBService.db.getAllUsers();\n            dispatch(setUserList(users.map(user => user.toObject())));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const createNewUserAsync = (name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const user = await DBService.db.createNewUser(name);\n            dispatch(addUser(user.toObject()));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteOfflineUserAsync = (userId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // TODO: Should check if the update succeeded\n            await DBService.db.removeUser(userId);\n            dispatch(removeUser(userId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setCurrentOfflineUserAsync = (userId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const user = await DBService.db.getUserDetail(userId);\n            Cookies.setCookie(\"user_id\", user.userId);\n            dispatch(setCurrentUser(user.toObject()));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const removeCurrentOfflineUserAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            Cookies.deleteCookie(\"user_id\");\n            dispatch(removeCurrentUser());\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateUserNameAsync = (userId: string, name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const users = await DBService.db.updateUserName(userId, name);\n            dispatch(updateUserName({ userId, name }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n// Selectors\nexport const getCurrentUser = (state: RootState): UserObject | undefined => state.user.currentUser;\nexport const getUserList = (state: RootState): UserObject[] => state.user.userList;\nexport const hasCurrentUser = (state: RootState): boolean => state.user.currentUser !== undefined;\n\nconst userSlice = slice.reducer;\nexport default userSlice;","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport DBService from \"../../db/DBService\";\nimport { CellObject, DataSourceObject, NodeConnectionObject, NodeModel, NodeObject, NotebookObject, VariableObject } from \"../../db/models\";\nimport { getCurrentUser } from \"../users/userSlice\";\nimport cuid from \"cuid\";\nimport { SourceType, VariableType } from \"../../utils/Types\";\nimport { Primitives, Vector2 } from \"../../types\";\nimport { WritableDraft } from \"@reduxjs/toolkit/node_modules/immer/dist/internal\";\n\n// Model\nexport type NotebookState = {\n    notebookDetails: NotebookObject[];\n    currentNotebook: NotebookObject | undefined;\n    selectedNode: {\n        cellId: string;\n        nodeId: string;\n    } | undefined;\n    selectedNodeTypeHelp: string | undefined;\n    isDraggingSource: boolean;\n    isDraggingVariable: boolean;\n    isDraggingCell: boolean;\n}\n\nconst initialState: NotebookState = {\n    notebookDetails: [],\n    currentNotebook: undefined,\n    selectedNode: undefined,\n    selectedNodeTypeHelp: undefined,\n    isDraggingSource: false,\n    isDraggingVariable: false,\n    isDraggingCell: false\n};\n\n// Payload Types\n/// Notebooks\ntype UpdateNotebookNamePayload = {\n    notebookId: string;\n    name: string;\n}\n\ntype UpdateDataSourceNamePayload = {\n    sourceId: string;\n    name: string;\n}\n\ntype UpdateVariableNamePayload = {\n    variableId: string;\n    name: string;\n}\n\ntype UpdateVariableValuePayload = {\n    variableId: string;\n    value: string | number | boolean;\n}\n\n/// Cells\ntype UpdateCellTypePayload = {\n    cellId: string;\n    type: \"node\" | \"markdown\";\n}\n\ntype UpdateCellValuePayload = {\n    cellId: string;\n    value: string;\n}\n\ntype InsertCellPayload = {\n    cellId: string;\n    targetCellId: string;\n}\n\n/// Nodes\ntype AddNodePayload = {\n    cellId: string;\n    node: NodeObject;\n}\n\ntype RemoveNodePayload = {\n    cellId: string;\n    nodeId: string;\n}\n\ntype UpdateNodeNamePayload = {\n    cellId: string;\n    nodeId: string;\n    name: string;\n}\n\ntype UpdateNodeCoordsPayload = {\n    cellId: string;\n    nodeId: string;\n    coords: Vector2;\n}\n\ntype SelectNodePayload = {\n    cellId: string;\n    nodeId: string;\n}\n\ntype SetNodeInputValuePayload = {\n    cellId: string;\n    nodeId: string;\n    slotId: string;\n    value: Primitives;\n}\n\ntype SetNodePropertyPayload = {\n    cellId: string;\n    nodeId: string;\n    propertyId: string;\n    value: string | number | boolean;\n}\n\n/// Connections\ntype AddConnectionPayload = {\n    cellId: string;\n    connection: NodeConnectionObject;\n}\n\ntype RemoveConnectionPayload = {\n    cellId: string;\n    fromNodeId: string;\n    fromSlotId: string;\n    toNodeId: string;\n    toSlotId: string;\n}\n\ntype RemoveConnectionWithIdPayload = {\n    cellId: string;\n    connectionId: string;\n}\n\nexport const slice = createSlice({\n    name: \"notebooks\",\n    initialState: initialState,\n    reducers: {\n        // Notebooks\n        openNotebook: (state, action: PayloadAction<NotebookObject>) => {\n            state.currentNotebook = action.payload;\n        },\n        closeNotebook: (state, action: PayloadAction<undefined>) => {\n            state.currentNotebook = undefined;\n        },\n        setNotebookDetails: (state, action: PayloadAction<NotebookObject[]>) => {\n            state.notebookDetails = action.payload;\n        },\n        updateNotebookName: (state, action: PayloadAction<UpdateNotebookNamePayload>) => {\n            const payload = action.payload;\n            const index = state.notebookDetails.findIndex(notebook => notebook.notebookId === payload.notebookId);\n            if (index < 0)\n                return;\n\n            const notebook = state.notebookDetails[index];\n            const now = Date.now();\n            notebook.name = payload.name;\n            notebook.dateModified = now;\n        },\n        addNotebook: (state, action: PayloadAction<NotebookObject>) => {\n            const notebook: NotebookObject = {\n                ...action.payload,\n                cells: []\n            };\n            state.notebookDetails.push(notebook);\n        },\n        removeNotebook: (state, action: PayloadAction<string>) => {\n            const id = action.payload;\n            const index = state.notebookDetails.findIndex(notebook => notebook.notebookId === id);\n            if (index < 0)\n                return;\n\n            const newArr = state.notebookDetails.slice();\n            newArr.splice(index, 1);\n            state.notebookDetails = newArr;\n        },\n\n        // Data Sources\n        addDataSource: (state, action: PayloadAction<DataSourceObject>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.currentNotebook.sources = [...state.currentNotebook.sources, payload];\n        },\n        updateDataSourceName: (state, action: PayloadAction<UpdateDataSourceNamePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const index = state.currentNotebook.sources.findIndex(source => source.sourceId === payload.sourceId);\n            if (index < 0)\n                return;\n\n            state.currentNotebook.sources[index].name = payload.name;\n        },\n        removeDataSource: (state, action: PayloadAction<string>) => {\n            const id = action.payload;\n            if (!state.currentNotebook || state.currentNotebook.sources.length <= 0)\n                return;\n\n            const sourceIndex = state.currentNotebook.sources.findIndex(source => source.sourceId === id);\n            if (sourceIndex < 0)\n                return;\n\n            const newArr = state.currentNotebook.sources.slice();\n            newArr.splice(sourceIndex, 1);\n            state.currentNotebook.sources = newArr;\n        },\n        setIsDraggingSource: (state, action: PayloadAction<boolean>) => {\n            const value = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.isDraggingSource = value;\n        },\n\n        // Variables\n        addVariable: (state, action: PayloadAction<VariableObject>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.currentNotebook.variables = [...state.currentNotebook.variables, payload];\n        },\n        updateVariableName: (state, action: PayloadAction<UpdateVariableNamePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const index = state.currentNotebook.variables.findIndex(variable => variable.variableId === payload.variableId);\n            if (index < 0)\n                return;\n\n            state.currentNotebook.variables[index].name = payload.name;\n        },\n        updateVariableValue: (state, action: PayloadAction<UpdateVariableValuePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const index = state.currentNotebook.variables.findIndex(variable => variable.variableId === payload.variableId);\n            if (index < 0)\n                return;\n\n            state.currentNotebook.variables[index].value = payload.value;\n        },\n        removeVariable: (state, action: PayloadAction<string>) => {\n            const id = action.payload;\n            if (!state.currentNotebook || state.currentNotebook.variables.length <= 0)\n                return;\n\n            const variableIndex = state.currentNotebook.variables.findIndex(variable => variable.variableId === id);\n            if (variableIndex < 0)\n                return;\n\n            const newArr = state.currentNotebook.variables.slice();\n            newArr.splice(variableIndex, 1);\n            state.currentNotebook.variables = newArr;\n        },\n        setIsDraggingVariable: (state, action: PayloadAction<boolean>) => {\n            const value = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.isDraggingVariable = value;\n        },\n\n        // Cells\n        addCell: (state, action: PayloadAction<CellObject>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const lastCellIndex = state.currentNotebook.cells.findIndex(cell => cell.nextCell === \"\");\n            if (state.currentNotebook.cells.length > 0 && lastCellIndex >= 0)\n                state.currentNotebook.cells[lastCellIndex].nextCell = payload.cellId;\n\n            state.currentNotebook.cells = [...state.currentNotebook.cells, payload];\n        },\n        updateCellType: (state, action: PayloadAction<UpdateCellTypePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            state.currentNotebook.cells[cellIndex].type = payload.type;\n        },\n        removeCell: (state, action: PayloadAction<string>) => {\n            const id = action.payload;\n            if (!state.currentNotebook || state.currentNotebook.cells.length <= 0)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === id);\n            if (cellIndex < 0)\n                return;\n\n            const lastCellIndex = state.currentNotebook.cells.findIndex(cell => cell.nextCell === id);\n            if (state.currentNotebook.cells.length > 1 && lastCellIndex >= 0)\n                state.currentNotebook.cells[lastCellIndex].nextCell = state.currentNotebook.cells[cellIndex].nextCell;\n\n            const newArr = state.currentNotebook.cells.slice();\n            newArr.splice(cellIndex, 1);\n            state.currentNotebook.cells = newArr;\n        },\n        updateCellValue: (state, action: PayloadAction<UpdateCellValuePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            state.currentNotebook.cells[cellIndex].value = payload.value;\n        },\n        insertCell: (state, action: PayloadAction<InsertCellPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            if (payload.cellId === payload.targetCellId)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n            \n            const targetCellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.targetCellId);\n            if (targetCellIndex < 0)\n                return;\n\n            const prevCellIndex = state.currentNotebook.cells.findIndex(cell => cell.nextCell === payload.cellId);\n\n            const nextCell = state.currentNotebook.cells[cellIndex].nextCell;\n            const cells = state.currentNotebook.cells.slice();\n            if (cells[targetCellIndex].nextCell === cells[cellIndex].cellId)\n                return;\n\n            cells[cellIndex].nextCell = cells[targetCellIndex].nextCell;\n            cells[targetCellIndex].nextCell = cells[cellIndex].cellId;\n            if (prevCellIndex >= 0)\n                cells[prevCellIndex].nextCell = nextCell;\n\n            state.currentNotebook.cells = cells;\n        },\n        insertCellToTop: (state, action: PayloadAction<string>) => {\n            const cellId = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n            if (cellIndex < 0)\n                return;\n\n            const prevCellIndex = state.currentNotebook.cells.findIndex(cell => cell.nextCell === cellId);\n            if (prevCellIndex < 0)\n                return;\n\n            const nextCells = state.currentNotebook.cells.map(cell => cell.nextCell);\n            let topCellIndex = -1;\n            for (let i = 0; i < state.currentNotebook.cells.length; i++) {\n                const cell = state.currentNotebook.cells[i];\n                if (!nextCells.includes(cell.cellId)) {\n                    topCellIndex = i;\n                    break;\n                }\n            }\n            if (topCellIndex < 0)\n                return;\n\n            if (topCellIndex === cellIndex)\n                return;\n\n            const cells = state.currentNotebook.cells.slice();\n            cells[prevCellIndex].nextCell = cells[cellIndex].nextCell;\n            cells[cellIndex].nextCell = cells[topCellIndex].cellId;\n\n            state.currentNotebook.cells = cells;\n        },\n        setIsDraggingCell: (state, action: PayloadAction<boolean>) => {\n            const value = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.isDraggingCell = value;\n        },\n\n        // Nodes\n        addNode: (state, action: PayloadAction<AddNodePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodes = state.currentNotebook.cells[cellIndex].nodes;\n            state.currentNotebook.cells[cellIndex].nodes = [...nodes, payload.node];\n        },\n        removeNode: (state, action: PayloadAction<RemoveNodePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodeIndex = state.currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === payload.nodeId);\n            if (nodeIndex < 0)\n                return;\n\n            // Delete the connections to this node as well\n            const newConns = state.currentNotebook.cells[cellIndex].connections\n                .filter(conn => conn.fromNodeId !== payload.nodeId && conn.toNodeId !== payload.nodeId);\n            state.currentNotebook.cells[cellIndex].connections = newConns;\n            \n            const newArr = state.currentNotebook.cells[cellIndex].nodes.slice();\n            newArr.splice(nodeIndex, 1);\n            state.currentNotebook.cells[cellIndex].nodes = newArr;\n        },\n        updateNodeName: (state, action: PayloadAction<UpdateNodeNamePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodeIndex = state.currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === payload.nodeId);\n            if (nodeIndex < 0)\n                return;\n            \n            state.currentNotebook.cells[cellIndex].nodes[nodeIndex].name = payload.name;\n        },\n        updateNodeCoords: (state, action: PayloadAction<UpdateNodeCoordsPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodeIndex = state.currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === payload.nodeId);\n            if (nodeIndex < 0)\n                return;\n            \n            state.currentNotebook.cells[cellIndex].nodes[nodeIndex].coords = payload.coords;\n        },\n        selectNode: (state, action: PayloadAction<SelectNodePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.selectedNode = { cellId: payload.cellId, nodeId: payload.nodeId };\n        },\n        clearSelectedNode: (state, action: PayloadAction<undefined>) => {\n            state.selectedNode = undefined;\n        },\n        selectNodeType: (state, action: PayloadAction<string>) => {\n            const nodeType = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            state.selectedNodeTypeHelp = nodeType;\n        },\n        clearSelectedNodeType: (state, action: PayloadAction<undefined>) => {\n            state.selectedNodeTypeHelp = undefined;\n        },\n        setNodeInputValue: (state, action: PayloadAction<SetNodeInputValuePayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodeIndex = state.currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === payload.nodeId);\n            if (nodeIndex < 0)\n                return;\n\n            const slotIndex = state.currentNotebook.cells[cellIndex].nodes[nodeIndex].inputValues.findIndex(val => val.id === payload.slotId);\n            if (slotIndex < 0) {\n                const inputVals = state.currentNotebook.cells[cellIndex].nodes[nodeIndex].inputValues;\n                state.currentNotebook.cells[cellIndex].nodes[nodeIndex].inputValues = [...inputVals, { id: payload.slotId, value: payload.value }];\n            } \n            else\n                state.currentNotebook.cells[cellIndex].nodes[nodeIndex].inputValues[slotIndex].value = payload.value;\n        },\n        setNodeProperty: (state, action: PayloadAction<SetNodePropertyPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const nodeIndex = state.currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === payload.nodeId);\n            if (nodeIndex < 0)\n                return;\n\n            const propertyIndex = state.currentNotebook.cells[cellIndex].nodes[nodeIndex].properties.findIndex(val => val.id === payload.propertyId);\n            if (propertyIndex < 0) {\n                const properties = state.currentNotebook.cells[cellIndex].nodes[nodeIndex].properties;\n                state.currentNotebook.cells[cellIndex].nodes[nodeIndex].properties = [...properties, { id: payload.propertyId, value: payload.value }];\n            } \n            else\n                state.currentNotebook.cells[cellIndex].nodes[nodeIndex].properties[propertyIndex].value = payload.value;\n        },\n\n        // Connections\n        addConnection: (state, action: PayloadAction<AddConnectionPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const connections = state.currentNotebook.cells[cellIndex].connections;\n            state.currentNotebook.cells[cellIndex].connections = [...connections, payload.connection];\n        },\n        removeConnection: (state, action: PayloadAction<RemoveConnectionPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const connections = state.currentNotebook.cells[cellIndex].connections\n                .filter(connection => connection.fromNodeId === payload.fromNodeId &&\n                                      connection.fromSlotId === payload.fromSlotId &&\n                                      connection.toNodeId === payload.toNodeId &&\n                                      connection.toSlotId === payload.toSlotId);\n            if (connections.length <= 0)\n                return;\n\n            const newArr = state.currentNotebook.cells[cellIndex].connections.slice();\n            connections.forEach(connection => {\n                const connectionIndex = newArr.findIndex(conn => conn.connectionId === connection.connectionId);\n                if (connectionIndex < 0)\n                    return;\n\n                newArr.splice(connectionIndex, 1);\n            });\n\n            state.currentNotebook.cells[cellIndex].connections = newArr;\n        },\n        removeConnectionWithId: (state, action: PayloadAction<RemoveConnectionWithIdPayload>) => {\n            const payload = action.payload;\n            if (!state.currentNotebook)\n                return;\n\n            const cellIndex = state.currentNotebook.cells.findIndex(cell => cell.cellId === payload.cellId);\n            if (cellIndex < 0)\n                return;\n\n            const connectionIndex = state.currentNotebook.cells[cellIndex].connections.findIndex(connection => connection.connectionId === payload.connectionId);\n            if (connectionIndex < 0)\n                return;\n\n            const newArr = state.currentNotebook.cells[cellIndex].connections.slice();\n            newArr.splice(connectionIndex, 1);\n            state.currentNotebook.cells[cellIndex].connections = newArr;\n        }\n    }\n});\n\n// Notebook Actions\nexport const { openNotebook, closeNotebook, setNotebookDetails, updateNotebookName, addNotebook, removeNotebook } = slice.actions;\n// Data Source Actions\nexport const { addDataSource, updateDataSourceName, removeDataSource, setIsDraggingSource } = slice.actions;\n// Variable Actions\nexport const { addVariable, updateVariableName, updateVariableValue, removeVariable, setIsDraggingVariable } = slice.actions;\n// Cell Actions\nexport const { addCell, updateCellType, removeCell, updateCellValue, insertCell, insertCellToTop, setIsDraggingCell } = slice.actions;\n// Node Actions\nexport const { addNode, removeNode, updateNodeName, updateNodeCoords, selectNode, clearSelectedNode, selectNodeType, clearSelectedNodeType, setNodeInputValue, setNodeProperty } = slice.actions;\n// Connection Actions\nexport const { addConnection, removeConnection, removeConnectionWithId } = slice.actions;\n\n// Thunks\n/// Notebooks\nexport const fetchNotebookDetailsAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const notebooks = await DBService.db.getNotebookDetailsByUser(user.userId);\n            dispatch(setNotebookDetails(notebooks.map(notebook => notebook.toObject())));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const openNotebookAsync = (notebookId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            // Don't open a currently opened notebook\n            if (isNotebookOpen(getState(), notebookId))\n                return;\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            const notebook = await DBService.db.getNotebook(user.userId, notebookId);\n            dispatch(openNotebook(notebook.toObject()));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const closeNotebookAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            dispatch(closeNotebook());\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateNotebookNameAsync = (notebookId: string, name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateNotebookName(user.userId, notebookId, name);\n            dispatch(updateNotebookName({ notebookId, name }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const createNewNotebookAsync = (name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const notebook = await DBService.db.createNewNotebook(user.userId, name);\n            dispatch(addNotebook(notebook.toObject()));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteNotebookAsync = (notebookId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            if (!isNotebookInList(getState(), notebookId))\n                return;\n            \n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeNotebook(user.userId, notebookId);\n            dispatch(removeNotebook(notebookId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n/// Data Sources\n\nexport const createNewDataSourceAsync = (name: string, type: SourceType) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<DataSourceObject | undefined> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const source = await DBService.db.createNewDataSource(user.userId, notebook.notebookId, name, type);\n            if (!source)\n                throw new ReferenceError(\"An error has occured when creating a data source.\");\n\n            const sourceObj = source.toObject();\n            dispatch(addDataSource(sourceObj));\n            return sourceObj;\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateDataSourceNameAsync = (sourceId: string, name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateDataSourceName(user.userId, notebook.notebookId, sourceId, name);\n            dispatch(updateDataSourceName({ sourceId, name }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteDataSourceAsync = (sourceId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeData(sourceId);\n            await DBService.db.removeDataSource(user.userId, notebook.notebookId, sourceId);\n            dispatch(removeDataSource(sourceId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setIsDraggingSourceAsync = (value: boolean) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(setIsDraggingSource(value));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n/// Variables\n\nexport const createNewVariableAsync = (name: string, type: VariableType) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<VariableObject | undefined> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const variable = await DBService.db.createNewVariable(user.userId, notebook.notebookId, name, type);\n            if (!variable)\n                throw new ReferenceError(\"An error has occured when creating a variable.\");\n\n            const variableObj = variable.toObject();\n            dispatch(addVariable(variableObj));\n            return variableObj;\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateVariableNameAsync = (variableId: string, name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateVariableName(user.userId, notebook.notebookId, variableId, name);\n            dispatch(updateVariableName({ variableId, name }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateVariableValueAsync = (variableId: string, value: string | number | boolean) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateVariableValue(user.userId, notebook.notebookId, variableId, value);\n            dispatch(updateVariableValue({ variableId, value }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteVariableAsync = (variableId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeVariable(user.userId, notebook.notebookId, variableId);\n            dispatch(removeVariable(variableId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setIsDraggingVariableAsync = (value: boolean) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(setIsDraggingVariable(value));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n/// Cells\n\nexport const createNewCellAsync = (type: \"markdown\" | \"node\") => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<CellObject | undefined> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const cell = await DBService.db.createNewCell(user.userId, notebook.notebookId, type);\n            if (!cell)\n                throw new ReferenceError(\"An error has occured when creating a cell.\");\n\n            const cellObj = cell.toObject();\n            dispatch(addCell(cellObj));\n            return cellObj;\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateCellTypeAsync = (cellId: string, type: \"node\" | \"markdown\") => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateCellType(user.userId, notebook.notebookId, cellId, type);\n            dispatch(updateCellType({ cellId, type }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteCellAsync = (cellId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeCell(user.userId, notebook.notebookId, cellId);\n            dispatch(removeCell(cellId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateCellValueAsync = (cellId: string, value: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateMarkdownCell(user.userId, notebook.notebookId, cellId, value);\n\n            dispatch(updateCellValue({ cellId, value }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const insertCellAsync = (cellId: string, targetCellId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.insertCell(user.userId, notebook.notebookId, cellId, targetCellId);\n            dispatch(insertCell({ cellId, targetCellId }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const insertCellToTopAsync = (cellId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.insertCellToTop(user.userId, notebook.notebookId, cellId);\n            dispatch(insertCellToTop(cellId));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setIsDraggingCellAsync = (value: boolean) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(setIsDraggingCell(value));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n/// Nodes\nexport const createNewNodeAsync = (cellId: string, name: string, type: string, coords: Vector2 = { x: 0, y: 0 }) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const node = await DBService.db.createNewNode(user.userId, notebook.notebookId, cellId, name, type, coords);\n            dispatch(addNode({ cellId, node: node.toObject() }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const addNodeAsync = (cellId: string, node: NodeObject) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            if (node.nodeId === \"\")\n                node.nodeId = cuid();\n            await DBService.db.addNode(user.userId, notebook.notebookId, cellId, NodeModel.fromObject(node));\n            dispatch(addNode({ cellId, node }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteNodeAsync = (cellId: string, nodeId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeNode(user.userId, notebook.notebookId, cellId, nodeId);\n            dispatch(removeNode({ cellId, nodeId }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateNodeNameAsync = (cellId: string, nodeId: string, name: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateNodeName(user.userId, notebook.notebookId, cellId, nodeId, name);\n            dispatch(updateNodeName({ cellId, nodeId, name }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const updateNodeCoordsAsync = (cellId: string, nodeId: string, coords: Vector2) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.updateNodeCoords(user.userId, notebook.notebookId, cellId, nodeId, coords);\n            dispatch(updateNodeCoords({ cellId, nodeId, coords }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const selectNodeAsync = (cellId: string, nodeId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(selectNode({ cellId, nodeId }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const clearSelectedNodeAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(clearSelectedNode());\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const selectNodeTypeAsync = (nodeType: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(selectNodeType(nodeType));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const clearSelectedNodeTypeAsync = () => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            dispatch(clearSelectedNodeType());\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setNodeInputValueAsync = (cellId: string, nodeId: string, slotId: string, value: Primitives) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.setNodeInputValue(user.userId, notebook.notebookId, cellId, nodeId, slotId, value);\n            dispatch(setNodeInputValue({ cellId, nodeId, slotId, value }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const setNodePropertyAsync = (cellId: string, nodeId: string, propertyId: string, value: string | number | boolean) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.setNodeProperty(user.userId, notebook.notebookId, cellId, nodeId, propertyId, value);\n            dispatch(setNodeProperty({ cellId, nodeId, propertyId, value }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n/// Connections\nexport const createNewConnectionAsync = (cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            const connection = await DBService.db.createNewNodeConnection(user.userId, notebook.notebookId, cellId, fromNodeId, fromSlotId, toNodeId, toSlotId);\n            dispatch(addConnection({ cellId, connection: connection.toObject() }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteConnectionAsync = (cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeNodeConnection(user.userId, notebook.notebookId, cellId, fromNodeId, fromSlotId, toNodeId, toSlotId);\n            dispatch(removeConnection({ cellId, fromNodeId, fromSlotId, toNodeId, toSlotId }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\nexport const deleteConnectionWithIdAsync = (cellId: string, connectionId: string) => {\n    return async (dispatch: AppDispatch, getState: () => RootState): Promise<void> => {\n        try {\n            const user = getCurrentUser(getState());\n            if (!user)\n                throw new ReferenceError(\"No user is currently logged in.\");\n\n            const notebook = getCurrentNotebook(getState());\n            if (!notebook)\n                throw new ReferenceError(\"No notebook currently selected.\");\n\n            // Write any async API calls here\n            // Either from a server or from IndexedDb\n            if (!DBService.db)\n                throw new ReferenceError(\"The DBService has not been started yet.\");\n\n            // Update both database and our local state\n            // TODO: Don't update if updating somehow failed\n            await DBService.db.removeNodeConnectionWithId(user.userId, notebook.notebookId, cellId, connectionId);\n            dispatch(removeConnectionWithId({ cellId, connectionId }));\n        } catch (err) {\n            console.log(err);\n        }\n    };\n};\n\n// Selectors\n/// Notebooks\nexport const getNotebookDetails = (state: RootState): NotebookObject[] => state.notebook.notebookDetails;\nexport const getCurrentNotebook = (state: RootState): NotebookObject | undefined => state.notebook.currentNotebook;\nexport const isNotebookOpen = (state: RootState, notebookId: string): boolean => {\n    const currentNotebook = getCurrentNotebook(state);\n    return currentNotebook?.notebookId === notebookId;\n};\nexport const isNotebookInList = (state: RootState, notebookId: string): boolean => {\n    const notebookDetails = getNotebookDetails(state);\n    const notebookIndex = notebookDetails.findIndex(notebook => notebook.notebookId === notebookId);\n    return notebookIndex > -1;\n};\n\n/// Data Sources\nexport const getDataSources = (state: RootState): DataSourceObject[] => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return [];\n\n    return currentNotebook.sources;\n};\n\nexport const getIsDraggingSource = (state: RootState): boolean => state.notebook.isDraggingSource;\n\n/// Variables\nexport const getVariables = (state: RootState): VariableObject[] => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return [];\n\n    return currentNotebook.variables;\n};\n\nexport const getIsDraggingVariable = (state: RootState): boolean => state.notebook.isDraggingVariable;\n\n/// Cells\nexport const getCells = (state: RootState): CellObject[] => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return [];\n\n    return currentNotebook.cells;\n};\n\n/// Nodes\nexport const getNodes = (state: RootState, cellId: string): NodeObject[] => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return [];\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return [];\n\n    return currentNotebook.cells[cellIndex].nodes;\n};\n\nexport const getNodeById = (state: RootState, cellId: string, nodeId: string): NodeObject | undefined => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return;\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return;\n\n    const nodeIndex = currentNotebook.cells[cellIndex].nodes.findIndex(node => node.nodeId === nodeId);\n    if (nodeIndex < 0)\n        return;\n\n    return currentNotebook.cells[cellIndex].nodes[nodeIndex];\n};\n\nexport const getSelectedNode = (state: RootState): { cellId: string; nodeId: string; } | undefined => state.notebook.selectedNode;\n\n/// Connections\nexport const getConnections = (state: RootState, cellId: string): NodeConnectionObject[] => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return [];\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return [];\n\n    return currentNotebook.cells[cellIndex].connections;\n};\n\nexport const getConnection = (state: RootState, cellId: string, fromNodeId: string, fromSlotId: string, toNodeId: string, toSlotId: string): NodeConnectionObject | undefined => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return;\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return;\n\n    const connectionIndex = currentNotebook.cells[cellIndex].connections\n        .findIndex(connection => connection.fromNodeId === fromNodeId &&\n                                 connection.fromSlotId === fromSlotId &&\n                                 connection.toNodeId === toNodeId &&\n                                 connection.toSlotId === toSlotId);\n    if (connectionIndex < 0)\n        return;\n\n    return currentNotebook.cells[cellIndex].connections[connectionIndex];\n};\n\nexport const getConnectionById = (state: RootState, cellId: string, connectionId: string): NodeConnectionObject | undefined => {\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return;\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return;\n\n    const connectionIndex = currentNotebook.cells[cellIndex].connections.findIndex(connection => connection.connectionId === connectionId);\n    if (connectionIndex < 0)\n        return;\n\n    return currentNotebook.cells[cellIndex].connections[connectionIndex];\n};\n\nexport const getSeparateConnectionsByNodeId = (state: RootState, cellId: string, nodeId: string): {\n    fromConnections: NodeConnectionObject[];\n    toConnections: NodeConnectionObject[];\n} => {\n    const fromConnections: NodeConnectionObject[] = [];\n    const toConnections: NodeConnectionObject[] = [];\n    const currentNotebook = getCurrentNotebook(state);\n    if (!currentNotebook)\n        return { fromConnections: [], toConnections: [] };\n\n    const cellIndex = currentNotebook.cells.findIndex(cell => cell.cellId === cellId);\n    if (cellIndex < 0)\n        return { fromConnections: [], toConnections: [] };\n\n    const connections = currentNotebook.cells[cellIndex].connections;\n    connections.forEach(conn => {\n        if (conn.fromNodeId === nodeId)\n            fromConnections.push(conn);\n        else if (conn.toNodeId === nodeId)\n            toConnections.push(conn);\n    });\n\n    return { fromConnections, toConnections };\n};\n\nconst notebookSlice = slice.reducer;\nexport default notebookSlice;","import { configureStore } from \"@reduxjs/toolkit\";\nimport notebookSlice from \"../features/notebooks/notebookSlice\";\nimport userSlice from \"../features/users/userSlice\";\nconst store = configureStore({\n    reducer: {\n        notebook: notebookSlice,\n        user: userSlice\n    }\n});\n\n// Infer the `RootState` and `AppDispatch` types from the store itself\nexport type RootState = ReturnType<typeof store.getState>;\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;","import { ReactCodeMirrorRef } from \"@uiw/react-codemirror\";\nimport store from \"../app/store\";\n\nclass CodeMirrorManager {\n    private refs: {\n        [key: string]: ReactCodeMirrorRef\n    } = {};\n    private delayFocusKey = \"\";\n    private currentNotebookId = \"\";\n\n    constructor() {\n        store.subscribe(this.onStoreUpdate);\n    }\n\n    onStoreUpdate(): void {\n        const currentNotebook = store.getState().notebook.currentNotebook;\n        if (!currentNotebook || !this)\n            return;\n\n        if (this.currentNotebookId !== currentNotebook.notebookId)\n            this.reset();\n    }\n\n    addRef(key: string, ref: ReactCodeMirrorRef): void {\n        this.refs[key] = ref;\n        if (key === this.delayFocusKey)\n            this.focus(key);\n    }\n\n    focus(key: string): void {\n        if (this.refs[key])\n            this.refs[key].view?.focus();\n    }\n\n    delayedFocus(key: string): void {\n        this.delayFocusKey = key;\n    }\n\n    reset(): void {\n        this.refs = {};\n        this.delayFocusKey = \"\";\n    }\n}\n\nexport default new CodeMirrorManager();","export default class Meta {\n    static isEmpty(obj: any): boolean {\n        let empty = true;\n        for (const i in obj) {\n            empty = false;\n            break;\n        }\n        return !Meta.isPrimitive(obj) && empty;\n    }\n\n    static isPrimitive(obj: any): boolean {\n        return obj !== Object(obj);\n    }\n\n    static isFunction(obj: any): boolean {\n        return !!(obj && obj.constructor && obj.call && obj.apply);\n    }\n}","import cuid from \"cuid\";\nimport { DefinedNodeType, NodeCollection, NodeType, PrimitiveTree } from \"../types\";\nimport Meta from \"../utils/Meta\";\n\nconst defaultValues: DefinedNodeType = {\n    id: cuid(),\n    name: cuid(),\n    description: \"\",\n    inputSlots: [],\n    outputSlots: [],\n    properties: [],\n    isDeletable: true,\n    isHiddenFromList: false,\n    style: {\n        width: 200,\n        height: -1\n    },\n    nodeFunction: async input => { return {}; }\n};\n\nfunction assignDefaults(type: Record<string, unknown>, defaults: Record<string, unknown>): Record<string, unknown> {\n    const result = {...defaults};\n    for (const key of Object.keys(type)) {\n        if (result[key] == null || type[key] == null)\n            continue;\n\n        if (!Meta.isPrimitive(type[key]) && !Meta.isFunction(type[key])) {\n            if (Array.isArray(type[key])) {\n                result[key] = type[key];\n                continue;\n            }\n\n            const innerResult = assignDefaults(type[key] as Record<string, unknown>, result[key] as Record<string, unknown>);\n            if (innerResult == undefined)\n                continue;\n\n            result[key] = innerResult;\n            continue;\n        }\n\n        result[key] = type[key];\n    }\n\n    return result;\n}\n\nconst defaultTypeValues: {\n    [id: string]: string | number | boolean | string[] | number[] | boolean[]\n} = {\n    string: \"\",\n    number: 0,\n    boolean: false,\n    \"string[]\": [] as string[],\n    \"number[]\": [] as number[],\n    \"boolean[]\": [] as boolean[]\n};\n\nclass NodeTypeManager {\n    private collections: {\n        [id: string]: NodeCollection\n    } = {};\n    private types: {\n        [id: string]: DefinedNodeType\n    } = {};\n\n    addNodeCollection(collection: NodeCollection): void {\n        collection.nodeGroups.forEach(group => {\n            group.types.forEach(type => this.addNodeType(group.name === \"\" ? collection.id : `${collection.id}:${group.name}`, type, collection.defaultValues));\n        });\n        this.collections[collection.id] = collection;\n    }\n\n    addNodeCollections(...collections: NodeCollection[]): void {\n        collections.forEach(coll => {\n            this.addNodeCollection(coll);\n        });\n    }\n\n    private addNodeType(collId: string, type: NodeType, defaultVals?: PrimitiveTree): void {\n        //console.log(`Adding '${type.id}' type...`);\n        const result = assignDefaults(type, defaultValues) as DefinedNodeType;\n        if (!result)\n            return;\n        result.id = `${collId}:${result.id}`;\n\n        // Initialize input slots default value if null\n        for (let i = 0; i < result.inputSlots.length; i++) {\n            if (result.inputSlots[i].defaultValue != null)\n                continue;\n\n            const typeName = result.inputSlots[i].type;\n            const customDefaultVal = defaultVals != null ? defaultVals[typeName] : undefined;\n            const defaultVal = defaultTypeValues[typeName];\n            if (customDefaultVal == null && defaultVal == null)\n                continue;\n\n            result.inputSlots[i].defaultValue = customDefaultVal ?? defaultVal;\n        }\n\n        // Initialize properties default value if null\n        for (let i = 0; i < result.properties.length; i++) {\n            if (result.properties[i].defaultValue != null)\n                continue;\n\n            const typeName = result.properties[i].type;\n            const customDefaultVal = defaultVals != null ? defaultVals[typeName] : undefined;\n            const defaultVal = defaultTypeValues[typeName];\n            if (customDefaultVal == null && defaultVal == null)\n                continue;\n\n            result.properties[i].defaultValue = (customDefaultVal ?? defaultVal) as string | number | boolean;\n        }\n\n        this.types[result.id] = result;\n    }\n\n    getType(id: string): DefinedNodeType | undefined {\n        if (id === \"\")\n            return;\n\n        const type = this.types[id];\n        if (!type)\n            return;\n        \n        return type;\n    }\n\n    getVisibleTypeIds(): string[] {\n        return Object.values(this.types).filter(type => !type.isHiddenFromList).map(type => type.id);\n    }\n}\n\nexport default new NodeTypeManager();","import { Series } from \"danfojs\";\nimport store from \"../app/store\";\nimport { getCurrentNotebook, getNodeById, getSeparateConnectionsByNodeId } from \"../features/notebooks/notebookSlice\";\nimport { PrimitiveTree, Primitives, NodeError, Slot, Property, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport NodeTypeManager from \"./NodeTypeManager\";\n\nclass NodeExecManager {\n    private outputs: {\n        [cellId: string]: {\n            [nodeId: string]: PrimitiveTree\n        }\n    } = {};\n    private variables: {\n        [variableId: string]: Primitives | Series\n    } = {};\n    private errors: {\n        [cellId: string]: NodeError[]\n    } = {};\n    private cellExecs: {\n        [cellId: string]: () => Promise<void>;\n    } = {};\n\n    private currentNotebookId = \"\";\n\n    constructor() {\n        this.onStoreUpdate = this.onStoreUpdate.bind(this);\n        store.subscribe(this.onStoreUpdate);\n    }\n\n    onStoreUpdate(): void {\n        const currentNotebook = store.getState().notebook.currentNotebook;\n        if (!currentNotebook)\n            return;\n\n        if (this.currentNotebookId !== currentNotebook.notebookId) {\n            this.reset();\n            this.currentNotebookId = currentNotebook.notebookId;\n        }\n    }\n\n    reset() {\n        this.outputs = {};\n        this.variables = {};\n        this.errors = {};\n    }\n\n    resetCellOutputs(cellId: string) {\n        this.outputs[cellId] = {};\n        this.errors[cellId] = [];\n    }\n    \n    getVariable(variableId: string): Primitives | Series | undefined {\n        let variable: Primitives | Series | undefined = this.variables[variableId];\n        if (variable == null) {\n            const notebook = getCurrentNotebook(store.getState());\n            if (!notebook)\n                return variable;\n            \n            const variableIndex = notebook.variables.findIndex(v => v.variableId === variableId);\n            if (variableIndex < 0)\n                return variable;\n\n            const variableObj = notebook.variables[variableIndex];\n            variable = variableObj.value;\n        }\n\n        return variable;\n    }\n\n    setVariable(variableId: string, value: Primitives | Series): void {\n        this.variables[variableId] = value;\n    }\n\n    getErrors(cellId: string): NodeError[] {\n        if (!this.errors[cellId])\n            this.errors[cellId] = [];\n\n        return this.errors[cellId];\n    }\n\n    addCellExec(cellId: string, exec: () => Promise<void>): void {\n        this.cellExecs[cellId] = exec;\n    }\n\n    async runCells(notebookId: string) {\n        const execs: (() => Promise<void>)[] = [];\n        const notebook = getCurrentNotebook(store.getState());\n        if (!notebook || notebook?.notebookId !== notebookId)\n            return;\n\n        notebook.cells.forEach(cell => {\n            if (this.cellExecs[cell.cellId])\n                execs.push(this.cellExecs[cell.cellId]);\n        });\n\n        this.variables = {};\n\n        for (let i = 0; i < execs.length; i++) {\n            const exec = execs[i];\n            await exec();\n        }\n    }\n\n    async runFunction(cellId: string, nodeId: string): Promise<PrimitiveTree> {\n        // Reset the saved outputs and errors\n        return await this.runFunc(cellId, nodeId);\n    }\n\n    async runFunctions(cellId: string, nodeIds: string[], runInSequence = false): Promise<PrimitiveTree[]> {\n        // Reset the saved outputs and errors\n        let results: PrimitiveTree[] = [];\n        if (runInSequence) {\n            for (const nodeId of nodeIds) {\n                const result = await this.runFunc(cellId, nodeId);\n                results.push(result);\n            }\n        } else {\n            const actions = nodeIds.map(nodeId => this.runFunc(cellId, nodeId));\n            results = await Promise.all(actions);\n        }\n\n        return results;\n    }\n    \n    private async runFunc(cellId: string, nodeId: string): Promise<PrimitiveTree> {\n        // Use cached output if found\n        const savedOutput = this.outputs[cellId][nodeId];\n        if (savedOutput != null)\n            return savedOutput;\n\n        const node = getNodeById(store.getState(), cellId, nodeId);\n        if (!node)\n            return {};\n\n        const type = NodeTypeManager.getType(node.type);\n        if (!type)\n            return {};\n\n        const connections = getSeparateConnectionsByNodeId(store.getState(), cellId, nodeId);\n\n        type Result = {\n            slotId: string;\n            result: Primitives | Series\n        }\n\n        const connectionIndex = (slotId: string) => {\n            return connections.toConnections.findIndex(conn => conn.toNodeId === nodeId && conn.toSlotId === slotId);\n        };\n\n        const getInputs = async (slot: Slot): Promise<Result | undefined> => {\n            const connIndex = connectionIndex(slot.id);\n            if (connIndex < 0) {\n                // Get default value instead\n                let nodeInputValue;\n                const nodeInputValIndex = node.inputValues.findIndex(val => val.id === slot.id);\n                if (nodeInputValIndex >= 0)\n                    nodeInputValue = node.inputValues[nodeInputValIndex].value;\n                else\n                    nodeInputValue = slot.defaultValue;\n\n                if (nodeInputValue == null)\n                    return { slotId: slot.id, result: {} };\n\n                return { slotId: slot.id, result: nodeInputValue };\n            }\n\n            const connection = connections.toConnections[connIndex];\n            const output = await this.runFunc(cellId, connection.fromNodeId);\n\n            return { slotId: slot.id, result: output[connection.fromSlotId]};\n        };\n\n        const actions = type.inputSlots.map(getInputs);\n        const results = await Promise.all(actions);\n\n        const input: PrimitiveTree = {};\n        for (let i = 0; i < results.length; i++) {\n            const result = results[i];\n            if (!result)\n                return {};\n\n            // If no result but is still connected\n            if (!result.result && connectionIndex(result.slotId) >= 0)\n                return {};\n\n            input[result.slotId] = result.result;\n        }\n\n        const properties: Property[] = [];\n        if (type) {\n            type.properties.forEach(property => {\n                let prop: Property = property;\n                if (node) {\n                    const propIndex = node.properties.findIndex(prop => prop.id === property.id);\n                    if (propIndex >= 0) {\n                        const nodeProperty = node.properties[propIndex];\n                        prop = { id: property.id, type: property.type, defaultValue: nodeProperty.value };\n                    }\n                }\n\n                if (prop.defaultValue != null)\n                    properties.push(prop);\n            });\n        }\n        const propertyObj: PrimitiveObject = {};\n        properties.forEach(property => {\n            if (property.defaultValue != null)\n                propertyObj[property.id] = property.defaultValue;\n        });\n\n        const errorFunctionCreator = (type: \"debug\" | \"info\" | \"warning\" | \"error\") => {\n            return (message: string) => {\n                this.errors[cellId].push({\n                    type,\n                    message: `'${node.name}' Node: ${message}`\n                });\n            };\n        };\n\n        const errorHandler: NodeErrorHandler = {\n            debug: errorFunctionCreator(\"debug\"),\n            log: errorFunctionCreator(\"info\"),\n            warning: errorFunctionCreator(\"warning\"),\n            error: errorFunctionCreator(\"error\")\n        };\n\n        try {\n            const output = await type.nodeFunction(input, propertyObj === {} ? undefined : propertyObj, errorHandler);\n            // Store function outputs in a lookup table\n            this.outputs[cellId][nodeId] = output;\n\n            return output;\n        } catch(err) {\n            console.error(err);\n            return {};\n        }\n    }\n}\n\nexport default new NodeExecManager();","export type RGB = {\n    r: number;\n    g: number;\n    b: number;\n}\n\nexport type RGBA = RGB & {\n    a: number;\n}\n\nexport default class Colors {\n    static Gray = {\n        100: \"#f7fafc\",\n        200: \"#edf2f7\",\n        300: \"#e2e8f0\",\n        400: \"#cbd5e0\",\n        500: \"#a0aec0\",\n        600: \"#718096\",\n        700: \"#4a5568\",\n        800: \"#2d3748\",\n        900: \"#1a202c\",\n    };\n    static Red = {\n        100: \"#fff5f5\",\n        200: \"#fed7d7\",\n        300: \"#feb2b2\",\n        400: \"#fc8181\",\n        500: \"#f56565\",\n        600: \"#e53e3e\",\n        700: \"#c53030\",\n        800: \"#9b2c2c\",\n        900: \"#742a2a\",\n    };\n    static Orange = {\n        100: \"#fffaf0\",\n        200: \"#feebc8\",\n        300: \"#fbd38d\",\n        400: \"#f6ad55\",\n        500: \"#ed8936\",\n        600: \"#dd6b20\",\n        700: \"#c05621\",\n        800: \"#9c4221\",\n        900: \"#7b341e\",\n    };\n    static Yellow = {\n        100: \"#fffff0\",\n        200: \"#fefcbf\",\n        300: \"#faf089\",\n        400: \"#f6e05e\",\n        500: \"#ecc94b\",\n        600: \"#d69e2e\",\n        700: \"#b7791f\",\n        800: \"#975a16\",\n        900: \"#744210\",\n    };\n    static Green = {\n        100: \"#f0fff4\",\n        200: \"#c6f6d5\",\n        300: \"#9ae6b4\",\n        400: \"#68d391\",\n        500: \"#48bb78\",\n        600: \"#38a169\",\n        700: \"#2f855a\",\n        800: \"#276749\",\n        900: \"#22543d\",\n    };\n    static Teal = {\n        100: \"#e6fffa\",\n        200: \"#b2f5ea\",\n        300: \"#81e6d9\",\n        400: \"#4fd1c5\",\n        500: \"#38b2ac\",\n        600: \"#319795\",\n        700: \"#2c7a7b\",\n        800: \"#285e61\",\n        900: \"#234e52\",\n    };\n    static Blue = {\n        100: \"#ebf8ff\",\n        200: \"#bee3f8\",\n        300: \"#90cdf4\",\n        400: \"#63b3ed\",\n        500: \"#4299e1\",\n        600: \"#3182ce\",\n        700: \"#2b6cb0\",\n        800: \"#2c5282\",\n        900: \"#2a4365\",\n    };\n    static Indigo = {\n        100: \"#ebf4ff\",\n        200: \"#c3dafe\",\n        300: \"#a3bffa\",\n        400: \"#7f9cf5\",\n        500: \"#667eea\",\n        600: \"#5a67d8\",\n        700: \"#4c51bf\",\n        800: \"#434190\",\n        900: \"#3c366b\",\n    };\n    static Purple = {\n        100: \"#faf5ff\",\n        200: \"#e9d8fd\",\n        300: \"#d6bcfa\",\n        400: \"#b794f4\",\n        500: \"#9f7aea\",\n        600: \"#805ad5\",\n        700: \"#6b46c1\",\n        800: \"#553c9a\",\n        900: \"#44337a\",\n    };\n    static Pink = {\n        100: \"#fff5f7\",\n        200: \"#fed7e2\",\n        300: \"#fbb6ce\",\n        400: \"#f687b3\",\n        500: \"#ed64a6\",\n        600: \"#d53f8c\",\n        700: \"#b83280\",\n        800: \"#97266d\",\n        900: \"#702459\",\n    };\n\n    static hexToRGB(hex: string): RGB | undefined {\n        // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n        const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n        hex = hex.replace(shorthandRegex, function(m, r, g, b) {\n            return r + r + g + g + b + b;\n        });\n\n        const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        return result ? {\n            r: parseInt(result[1], 16),\n            g: parseInt(result[2], 16),\n            b: parseInt(result[3], 16)\n        } : undefined;\n    }\n\n    static hexToRGBA(hex: string, opacity: number): RGBA | undefined {\n        const rgb = Colors.hexToRGB(hex);\n        return rgb ? {\n            ...rgb,\n            a: opacity\n        } : undefined;\n    }\n\n    static rgbToStr(rgb?: RGB): string {\n        if (!rgb)\n            return \"rgb(0, 0, 0)\";\n        return `rgb(${rgb.r}, ${rgb.g}, ${rgb.b})`;\n    }\n\n    static rgbaToStr(rgba?: RGBA): string {\n        if (!rgba)\n            return \"rgba(0, 0, 0, 1)\";\n        return `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;\n    }\n}","import { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport cuid from \"cuid\";\nimport React, { useRef } from \"react\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport ReactTooltip from \"react-tooltip\";\nimport Modal, { ModalHandle, ModalProps, RenderModalBackdropProps } from \"react-overlays/Modal\";\nimport { twMerge } from \"tailwind-merge\";\nimport Select, { ActionMeta, GroupBase, SingleValue, StylesConfig } from \"react-select\";\nimport Colors from \"../utils/Colors\";\nimport { DropdownItem } from \"../types\";\n\ntype ButtonProps = {\n    className?: string;\n    icon?: IconProp;\n    text?: string;\n    tooltip?: string;\n    isDisabled?: boolean;\n    onClick?: React.MouseEventHandler<HTMLButtonElement>;\n}\n\nexport function PrimaryButton(props: ButtonProps): JSX.Element {\n    const uniqueId = cuid();\n    return (\n        <>\n            <button data-tip data-for={uniqueId} className={twMerge(`transition duration-200 ease-in-out p-2 flex items-center select-none ${props.isDisabled ? \"bg-blue-800 text-blue-600 cursor-default\" : \"bg-blue-500 text-blue-100 hover:bg-blue-400 hover:text-blue-100\"}`, props.className)}\n                disabled={props.isDisabled}\n                onClick={props.onClick}>\n                {props.icon && (\n                    <FontAwesomeIcon icon={props.icon} />\n                )}\n                {props.text && (\n                    <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n                )}\n            \n            </button>\n            {props.tooltip && !props.isDisabled && (\n                <ReactTooltip id={uniqueId} place=\"bottom\" effect=\"float\">\n                    {props.tooltip}\n                </ReactTooltip>\n            )}\n        </>\n    );\n}\n\nexport function SecondaryButton(props: ButtonProps): JSX.Element {\n    const uniqueId = cuid();\n    return (\n        <>\n            <button data-tip data-for={uniqueId} className={twMerge(`transition duration-200 ease-in-out p-2 flex items-center select-none ${props.isDisabled ? \"bg-gray-800 text-gray-600 cursor-default\" : \"bg-gray-700 text-gray-200 hover:bg-gray-600 hover:text-gray-100\"}`, props.className)}\n                disabled={props.isDisabled}\n                onClick={props.onClick}>\n                {props.icon && (\n                    <FontAwesomeIcon icon={props.icon} />\n                )}\n                {props.text && (\n                    <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n                )}\n            \n            </button>\n            {props.tooltip && !props.isDisabled && (\n                <ReactTooltip id={uniqueId} place=\"bottom\" effect=\"float\">\n                    {props.tooltip}\n                </ReactTooltip>\n            )}\n        </>\n    );\n}\n\nexport function CancelButton(props: ButtonProps): JSX.Element {\n    const uniqueId = cuid();\n    return (\n        <>\n            <button data-tip data-for={uniqueId} className={twMerge(`transition duration-200 ease-in-out p-2 flex items-center select-none ${props.isDisabled ? \"bg-red-800 text-red-600 cursor-default\" : \"bg-red-500 text-red-100 hover:bg-red-400 hover:text-red-100\"}`, props.className)}\n                disabled={props.isDisabled}\n                onClick={props.onClick}>\n                {props.icon && (\n                    <FontAwesomeIcon icon={props.icon} />\n                )}\n                {props.text && (\n                    <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n                )}\n            \n            </button>\n            {props.tooltip && !props.isDisabled && (\n                <ReactTooltip id={uniqueId} place=\"bottom\" effect=\"float\">\n                    {props.tooltip}\n                </ReactTooltip>\n            )}\n        </>\n    );\n}\n\nexport function OKButton(props: ButtonProps): JSX.Element {\n    const uniqueId = cuid();\n    return (\n        <>\n            <button data-tip data-for={uniqueId} className={twMerge(`transition duration-200 ease-in-out p-2 flex items-center select-none ${props.isDisabled ? \"bg-green-800 text-green-600 cursor-default\" : \"bg-green-500 text-green-100 hover:bg-green-400 hover:text-green-100\"}`, props.className)}\n                disabled={props.isDisabled}\n                onClick={props.onClick}>\n                {props.icon && (\n                    <FontAwesomeIcon icon={props.icon} />\n                )}\n                {props.text && (\n                    <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n                )}\n            \n            </button>\n            {props.tooltip && !props.isDisabled && (\n                <ReactTooltip id={uniqueId} place=\"bottom\" effect=\"float\">\n                    {props.tooltip}\n                </ReactTooltip>\n            )}\n        </>\n    );\n}\n\ntype FileButtonProps = ButtonProps & {\n    accept?: string;\n    onChange?: (file: File) => Promise<void>;\n};\nexport function FileButton(props: FileButtonProps): JSX.Element {\n    const input = useRef<HTMLInputElement>(null);\n    const uniqueId = cuid();\n    const onClick = () => {\n        if (input.current)\n            input.current.click();\n    };\n\n    return (\n        <>\n            <button data-tip data-for={uniqueId} className={twMerge(\"transition duration-200 ease-in-out p-2 flex items-center bg-orange-500 text-orange-100 hover:bg-orange-400 hover:text-orange-100 select-none\", props.className)}\n                disabled={props.isDisabled}\n                onClick={onClick}>\n                {props.icon && (\n                    <FontAwesomeIcon icon={props.icon} />\n                )}\n                {props.text && (\n                    <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n                )}\n            </button>\n            {!props.isDisabled && (\n                <input ref={input} type=\"file\" accept={props.accept} style={{display: \"none\"}}\n                    onChange={async event => {\n                        if (event.target.files && props.onChange) {\n                            const file = event.target.files[0];\n                            await props.onChange(file);\n                        }\n                    }} />\n            )}\n            {props.tooltip && !props.isDisabled && (\n                <ReactTooltip id={uniqueId} place=\"bottom\" effect=\"float\">\n                    {props.tooltip}\n                </ReactTooltip>\n            )}\n        </>\n    );\n}\n\ntype TextAreaProps = {\n    className?: string;\n    value?: string;\n    label?: string;\n    readonly?: boolean;\n    regex?: RegExp;\n    onChange?(event: React.ChangeEvent<HTMLTextAreaElement>): void;\n    onKeyDown?(event: React.KeyboardEvent<HTMLTextAreaElement>): void;\n}\n\nexport function TextArea(props: TextAreaProps): JSX.Element {\n    let style: React.CSSProperties = {\n        boxShadow: \"inset 0 -1px 1px 0 rgb(0 0 0 / 15%)\"\n    };\n    if (props.value != null && props.regex) {\n        const match = props.value.match(props.regex);\n        const isMatch = match != null && match.length > 0;\n        style = {\n            ...style,\n            border: `2px solid ${isMatch ? Colors.Green[500] : Colors.Red[500]}`\n        };\n    }\n\n    return (\n        <div className=\"flex flex-col\">\n            {props.label && (\n                <label className=\"text-xs text-gray-600 mb-2\">{props.label}</label>\n            )}\n            {!props.readonly && (\n                <TextareaAutosize minRows={2}\n                    value={props.value} \n                    onChange={props.onChange}\n                    onKeyDown={props.onKeyDown}\n                    className={twMerge(\"w-full p-2 text-sm bg-gray-200 shadow-inner\", props.className)} />\n            ) ||\n            props.readonly && (\n                <div className={twMerge(\"p-2 text-sm bg-gray-500 text-gray-900 overflow-hidden w-full\", props.className)}\n                    style={{wordWrap: \"break-word\"}}>\n                    {props.value}\n                </div>\n            )}\n        </div>\n    );\n}\n\ntype CustomModalProps = ModalProps & React.RefAttributes<ModalHandle>;\n\nexport function CustomModal(props: CustomModalProps): JSX.Element {\n    const renderBackdrop = (props: RenderModalBackdropProps) => {\n        return (<div className=\"fixed top-0 right-0 bottom-0 left-0 bg-gray-900 opacity-50\" {...props}></div>);\n    };\n    return (\n        <Modal className=\"fixed flex justify-center items-center w-full h-full\" \n            style={{top: \"50%\", left: \"50%\", transform: \"translateX(-50%) translateY(-50%)\"}} \n            renderBackdrop={renderBackdrop} \n            {...props}>\n            {props.children}\n        </Modal>\n    );\n}\n\ntype InputProps = {\n    value?: string;\n    label?: string;\n    icon?: IconProp;\n    type?: string;\n    regex?: RegExp;\n    placeholder?: string;\n    readonly?: boolean;\n    className?: string;\n    onChange?: React.ChangeEventHandler<HTMLInputElement>;\n}\n\nexport function Input(props: InputProps): JSX.Element {\n    let style: React.CSSProperties = {\n        boxShadow: \"inset 0 -1px 1px 0 rgb(0 0 0 / 15%)\"\n    };\n    if (props.value != null && props.regex) {\n        const match = props.value.match(props.regex);\n        const isMatch = match != null && match.length > 0;\n        style = {\n            ...style,\n            border: `2px solid ${isMatch ? Colors.Green[500] : Colors.Red[500]}`\n        };\n    }\n\n    return (\n        <div className=\"flex flex-col overflow-hidden\">\n            {props.label && (\n                <label className=\"text-xs text-gray-600\">{props.label}</label>\n            )}\n            <div className=\"flex flex-row items-center\"\n                style={{boxShadow: \"inset 0 -1px 1px 0 rgb(0 0 0 / 15%)\"}}>\n                {props.icon && (\n                    <div className=\"px-2\">\n                        <FontAwesomeIcon icon={props.icon}\n                            className=\"text-sm text-gray-600\" />\n                    </div>\n                )}\n                {!props.readonly && (\n                    <input className={twMerge(\"p-2 text-sm bg-gray-100 text-gray-800 w-full\", props.className)}\n                        style={style} \n                        type={props.type} \n                        placeholder={props.placeholder}\n                        value={props.value}\n                        onChange={props.onChange} />\n                ) ||\n                props.readonly && (\n                    <div className={twMerge(\"p-2 text-sm bg-gray-500 text-gray-900 overflow-hidden w-full\", props.className)}\n                        style={{textOverflow: \"ellipsis\"}}>\n                        {props.value}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\ntype CheckboxProps = {\n    value: boolean;\n    label?: string;\n    checkType?: IconProp;\n    className?: string;\n    onToggle?: () => Promise<void>;\n};\n\nexport function Checkbox(props: CheckboxProps): JSX.Element {\n    const icon = props.checkType ?? \"check\";\n    return (\n        <div className=\"flex flex-row items-center\">\n            {props.label && (\n                <label className=\"text-xs text-gray-600 mr-4\">{props.label}</label>\n            )}\n            <div className={twMerge(\"flex items-center justify-center w-4 h-4 shadow-inner bg-gray-100 cursor-pointer\", props.className)}\n                onClick={async () => {\n                    if (props.onToggle)\n                        await props.onToggle();\n                }}>\n                {props.value && (\n                    <FontAwesomeIcon className=\"text-xs\" icon={icon} />\n                )}\n            </div>\n        </div>\n    );\n}\n\ntype DropdownProps = {\n    options: DropdownItem[];\n    label?: string;\n    onChange?: ((newValue: SingleValue<DropdownItem>, actionMeta: ActionMeta<DropdownItem>) => void);\n};\n\nexport function Dropdown(props: DropdownProps): JSX.Element {\n    const style: StylesConfig<DropdownItem, false, GroupBase<DropdownItem>> = {\n        control: (provided) => ({\n            ...provided,\n            borderRadius: 0,\n            borderWidth: 0,\n            backgroundColor: \"#f7fafc\",\n            borderBottomWidth: 1,\n            fontSize: \"0.875rem\"\n        }),\n        menu: (provided) => ({\n            ...provided,\n            borderRadius: 0\n        }),\n        option: (provided, state) => ({\n            ...provided,\n            backgroundColor: state.isSelected ? \"#4299e1\" : (state.isFocused ? \"#bee3f8\" : \"#f7fafc\")\n        })\n    };\n    return (\n        <div className=\"flex flex-col\">\n            {props.label && (\n                <label className=\"text-xs text-gray-600\">{props.label}</label>\n            )}\n            <Select styles={style}\n                options={props.options}\n                isSearchable={false}\n                onChange={props.onChange} />\n        </div>\n    );\n}\n\ntype ContextMenuItemProps = {\n    className?: string;\n    text?: string;\n    icon?: IconProp;\n}\n\nexport function ContextMenuItem(props: ContextMenuItemProps): JSX.Element {\n    return (\n        <div className={twMerge(\"transition duration-200 ease-in-out px-2 py-1 text-sm bg-gray-100 text-gray-700 hover:bg-gray-800 hover:text-gray-200 cursor-pointer select-none\", props.className)}>\n            {props.icon && (\n                <FontAwesomeIcon icon={props.icon} />\n            )}\n            {props.text && (\n                <span className={`${props.icon ? \"ml-2\" : \"\"}`}>{props.text}</span>\n            )}\n        </div>\n    );\n}","import React from \"react\";\nimport store from \"../app/store\";\nimport { insertCellAsync, insertCellToTopAsync } from \"../features/notebooks/notebookSlice\";\n\ntype InsertCellDropZoneProps = {\n    cellId: string;\n}\n\ntype InsertCellDropZoneState = {\n    isHovering: boolean;\n}\n\nexport default class InsertCellDropZone extends React.Component<InsertCellDropZoneProps, InsertCellDropZoneState> {\n    constructor(props: InsertCellDropZoneProps) {\n        super(props);\n\n        this.state = {\n            isHovering: false\n        };\n\n        this.onDrop = this.onDrop.bind(this);\n    }\n\n    async onDrop(event: React.DragEvent<HTMLDivElement>): Promise<void> {\n        const { cellId } = this.props;\n        event.preventDefault();\n        this.setState({isHovering: false});\n        const data = JSON.parse(event.dataTransfer.getData(\"text/plain\"));\n        const currentCellId = data[\"cellId\"];\n\n        // cellid is empty only when this dropzone is at the top\n        await store.dispatch(cellId === \"\" ? insertCellToTopAsync(currentCellId) : \n            insertCellAsync(currentCellId, cellId));\n    }\n\n    render(): JSX.Element {\n        const { isHovering } = this.state;\n        return (\n            <div className={`absolute w-full h-4 z-50 ${isHovering ? \"bg-yellow-500 opacity-50\" : \"\"}`}\n                style={{bottom: \"-0.5rem\"}}\n                onDragEnter={event => {\n                    event.preventDefault();\n                    this.setState({isHovering: true});\n                }}\n                onDragOver={event => {\n                    event.preventDefault();\n                }}\n                onDragLeave={event => {\n                    event.preventDefault();\n                    this.setState({isHovering: false});\n                }}\n                onDrop={this.onDrop}></div>\n        );\n    }\n}","import React from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport rehypeHighlight from \"rehype-highlight\";\nimport remarkGfm from \"remark-gfm\";\nimport { markdown } from \"@codemirror/lang-markdown\";\nimport CodeMirror, { ReactCodeMirrorRef } from \"@uiw/react-codemirror\";\nimport { basicSetup } from \"@codemirror/basic-setup\";\nimport { oneDarkHighlightStyle } from \"@codemirror/theme-one-dark\";\nimport { CellObject } from \"../db/models\";\nimport store from \"../app/store\";\nimport { clearSelectedNodeAsync, createNewCellAsync, updateCellValueAsync } from \"../features/notebooks/notebookSlice\";\nimport CodeMirrorManager from \"../managers/CodeMirrorManager\";\nimport { OKButton } from \"./CustomComponents\";\n\ntype MarkdownCellProps = {\n    cell: CellObject;\n}\n\ntype MarkdownCellState = {\n    input: string;\n    savedInput: string;\n    isEditing: boolean;\n}\n\nexport default class MarkdownCell extends React.Component<MarkdownCellProps, MarkdownCellState> {\n    private ref: React.RefObject<ReactCodeMirrorRef>;\n    constructor(props: MarkdownCellProps) {\n        super(props);\n        this.ref = React.createRef<ReactCodeMirrorRef>();\n\n        this.state = {\n            input: \"\",\n            savedInput: props.cell.value ?? \"\",\n            isEditing: props.cell.value === undefined || props.cell.value === \"\"\n        };\n\n        this.onChange = this.onChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onSaveCell = this.onSaveCell.bind(this);\n        this.onEdit = this.onEdit.bind(this);\n    }\n\n    componentDidMount(): void {\n        //CodeMirrorManager.addRef(this.props.cell.cellId, this.ref);\n    }\n\n    onChange(event: React.ChangeEvent<HTMLTextAreaElement>): void {\n        this.setState({input: event.target.value});\n    }\n\n    async onSubmit(event: React.KeyboardEvent<HTMLDivElement>): Promise<void> {\n        if (event.key === \"Enter\" && event.shiftKey) {\n            event.preventDefault();\n            await this.onSaveCell(true);\n        }\n    }\n\n    async onSaveCell(createNewCell = false): Promise<void> {\n        const { cell } = this.props;\n        const { input } = this.state;\n\n        await store.dispatch(updateCellValueAsync(cell.cellId, input));\n        if (createNewCell) {\n            if (cell.nextCell === \"\") {\n                const newCell = await store.dispatch(createNewCellAsync(\"markdown\"));\n                if (newCell)\n                    CodeMirrorManager.delayedFocus(newCell.cellId);\n            } else {\n                CodeMirrorManager.focus(cell.nextCell);\n            }\n        }\n        this.setState({savedInput: input, isEditing: false});\n    }\n\n    onEdit(event: React.MouseEvent<HTMLDivElement, MouseEvent>): void {\n        event.preventDefault();\n        this.setState({isEditing: true});\n    }\n\n    render(): JSX.Element {\n        const { cell } = this.props;\n        const { savedInput, isEditing } = this.state;\n        return (\n            <div className=\"relative flex w-full\" style={{minHeight: \"4rem\"}}>\n                {isEditing && (\n                    <>\n                        <CodeMirror\n                            ref={ref => {\n                                if (ref)\n                                    CodeMirrorManager.addRef(cell.cellId, ref);\n                            }}\n                            value={savedInput}\n                            extensions={[basicSetup, oneDarkHighlightStyle, markdown()]}\n                            className=\"w-full overflow-auto shadow-inner\"\n                            height=\"100%\"\n                            minHeight=\"4rem\"\n                            onClick={async () => await store.dispatch(clearSelectedNodeAsync())}\n                            onUpdate={update => {\n                                if (update.docChanged)\n                                    this.setState({input: update.state.doc.toString()});\n                            }}\n                            onKeyDown={this.onSubmit} />\n                        <div className=\"absolute flex flex-row-reverse\"\n                            style={{top: \"0.5rem\", right: \"0.5rem\"}}>\n                            <OKButton icon=\"save\" text=\"Save\"\n                                className=\"absolute text-xs px-2 py-1\"\n                                onClick={async () => await this.onSaveCell()} />\n                        </div>\n                    </>\n                    \n                ) ||\n                !isEditing && (\n                    <div className=\"p-2 w-full markdown-body\"\n                        style={{backgroundColor: \"#ffffff\"}}\n                        onDoubleClick={this.onEdit}>\n                        <ReactMarkdown remarkPlugins={[remarkGfm]} rehypePlugins={[rehypeHighlight]}>\n                            {savedInput}\n                        </ReactMarkdown>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}","import { KonvaEventObject } from \"konva/lib/Node\";\n\nexport default class KonvaUtils {\n    public static setCursor(event: KonvaEventObject<Event>, cursorType: string): void {\n        const stage = event.target.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n\n        stage.container().style.cursor = cursorType;\n    }\n}","import { KonvaEventObject } from \"konva/lib/Node\";\nimport React from \"react\";\nimport { Label, Tag, Text } from \"react-konva\";\nimport Colors from \"../utils/Colors\";\nimport KonvaUtils from \"../utils/KonvaUtils\";\n\ntype KonvaButtonProps = {\n    x?: number;\n    y?: number;\n    width?: number;\n    height?: number;\n    cornerRadius?: number;\n    backgroundColor?: string;\n    text?: string;\n    textOffsetY?: number;\n    textColor?: string;\n    fontSize?: number;\n    onClick?: (evt: KonvaEventObject<MouseEvent>) => void;\n}\n\nexport function KonvaButton(props: KonvaButtonProps): JSX.Element {\n    const { x = 0, y = 0, width = 10, height = 10, cornerRadius = 0, backgroundColor = Colors.Blue[500], text = \"\", textOffsetY = 0, textColor = Colors.Blue[100], fontSize = 14, onClick = () => { return; } } = props;\n\n    return (\n        <Label x={x}\n            y={y}\n            onMouseEnter={event => {\n                event.cancelBubble = true;\n                KonvaUtils.setCursor(event, \"pointer\");\n            }}\n            onMouseLeave={event => {\n                event.cancelBubble = true;\n                KonvaUtils.setCursor(event, \"default\");\n            }}\n            onClick={onClick}>\n            <Tag fill={backgroundColor}\n                cornerRadius={cornerRadius} />\n            <Text offsetY={textOffsetY}\n                width={width}\n                height={height}\n                fontSize={fontSize}\n                fontStyle=\"bold\"\n                align=\"center\"\n                verticalAlign=\"middle\"\n                fill={textColor}\n                text={text} />\n        </Label>\n    );\n}","import React from \"react\";\nimport { Group, Label, Rect, Tag, Text } from \"react-konva\";\nimport { KonvaEventObject } from \"konva/lib/Node\";\nimport KonvaUtils from \"../utils/KonvaUtils\";\nimport Konva from \"konva\";\nimport Colors from \"../utils/Colors\";\n\nexport class KonvaForm {\n    public static cancel(): void {\n        Input.cancelInput();\n        Dropdown.cancelDropdown();\n    }\n}\n\ntype InputProps = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    fontSize: number;\n    fontStyle: string;\n    padding: number;\n    textColor: string;\n    bgColor: string;\n    hoverColor: string;\n    borderRadius: number;\n    zIndex: number;\n    value: string;\n    type: string;\n    isEditable: boolean;\n    onChange: (value: string) => Promise<boolean>;\n}\n\ntype InputState = {\n    value: string;\n}\n\nexport class Input extends React.Component<InputProps, InputState> {\n    private static inputElement: HTMLInputElement;\n    \n    static defaultProps: InputProps = {\n        x: 0,\n        y: 0,\n        width: 100,\n        height: 20,\n        fontSize: 12,\n        fontStyle: \"normal\",\n        padding: 0,\n        textColor: \"#000000\",\n        bgColor: \"#ffffff\",\n        hoverColor: \"#cccccc\",\n        borderRadius: 0,\n        zIndex: 0,\n        value: \"\",\n        type: \"text\",\n        isEditable: true,\n        onChange: async () => { return false; }\n    }\n\n    constructor(props: InputProps) {\n        super(props);\n\n        this.state = {\n            value: \"\"\n        };\n\n        this.showInput = this.showInput.bind(this);\n        this.onHover = this.onHover.bind(this);\n        this.onHoverExit = this.onHoverExit.bind(this);\n    }\n\n    showInput(event: KonvaEventObject<Event>): void {\n        Input.cancelInput();\n\n        const { width, height, fontSize, padding, textColor, hoverColor, borderRadius, zIndex, type, isEditable, onChange } = this.props;\n        const value = this.state.value === \"\" ? this.props.value : this.state.value;\n\n        if (!isEditable)\n            return;\n\n        const stage = event.target.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n        const scale = stage.scaleX();\n        const container = stage.container();\n        const boundingRect = container.getBoundingClientRect();\n\n        const top = event.target.absolutePosition().y + boundingRect.top;\n        const left = event.target.absolutePosition().x + boundingRect.left;\n\n        const input = document.createElement(\"input\");\n        document.body.appendChild(input);\n\n        input.value = value;\n        input.type = type;\n        input.style.position = \"absolute\";\n        input.style.top = `${top}px`;\n        input.style.left = `${left + Math.max(0, boundingRect.left - left)}px`;\n        input.style.width = `${Math.min(width * scale, \n            boundingRect.right - left,\n            (width * scale) - (boundingRect.left - left))}px`;\n        input.style.height = `${height * scale}px`;\n        input.style.paddingLeft = `${padding * scale}px`;\n        input.style.fontSize = `${fontSize * scale}px`;\n        input.style.color = textColor;\n        input.style.backgroundColor = hoverColor;\n        input.style.borderRadius = `${borderRadius * scale}px`;\n        input.style.verticalAlign = \"center\";\n        input.style.zIndex = `${zIndex}`;\n        input.focus();\n        input.onchange = async (ev: Event) => {\n            const target = ev.target as HTMLInputElement;\n\n            if (!target) {\n                console.error(\"Cannot cast target to 'HTMLInputElement'.\");\n                Input.cancelInput();\n                return;\n            }\n\n            if (!target.value) {\n                console.error(\"No value typed in while editing the text.\");\n                Input.cancelInput();\n                return;\n            }\n\n            const result = await onChange(target.value);\n            if (!result) {\n                console.error(\"Input value requirements not met.\");\n                Input.cancelInput();\n                return;\n            }\n\n            this.setState({value: target.value});\n            Input.cancelInput();\n        };\n\n        Input.inputElement = input;\n    }\n\n    public static cancelInput(): void {\n        const input = Input.inputElement;\n        if (!input)\n            return;\n        \n        input.onchange = null;\n        input.parentNode?.removeChild(input);\n    }\n\n    onHover(event: KonvaEventObject<MouseEvent>): void {\n        if (!this.props.isEditable)\n            return;\n\n        KonvaUtils.setCursor(event, \"text\");\n\n        const layer = event.currentTarget.getLayer();\n        if (!layer) {\n            console.error(\"The Konva layer could not be found.\");\n            return;\n        }\n\n        const label = event.currentTarget as Konva.Label;\n        if (!label || !label.children)\n            return;\n\n        const textBG = label.children[0];\n        textBG.setAttr(\"fill\", this.props.hoverColor);\n        layer.draw();\n    }\n\n    onHoverExit(event: KonvaEventObject<Event>): void {\n        if (!this.props.isEditable)\n            return;\n            \n        KonvaUtils.setCursor(event, \"default\");\n\n        const layer = event.currentTarget.getLayer();\n        if (!layer) {\n            console.error(\"The Konva layer could not be found.\");\n            return;\n        }\n\n        const label = event.currentTarget as Konva.Label;\n        if (!label || !label.children)\n            return;\n\n        const textBG = label.children[0];\n        textBG.setAttr(\"fill\", this.props.bgColor);\n        layer.draw();\n    }\n\n    render(): JSX.Element {\n        const { x, y, width, height, fontSize, fontStyle, padding, textColor, bgColor, borderRadius } = this.props;\n        const value = this.state.value === \"\" ? this.props.value : this.state.value;\n\n        return (\n            <Label name=\"top-bar-label\"\n                x={x}\n                y={y}\n                onMouseEnter={this.onHover}\n                onMouseLeave={this.onHoverExit} \n                onClick={event => {\n                    event.cancelBubble = true;\n                    this.showInput(event);\n                }}\n                onTap={event => {\n                    event.cancelBubble = true;\n                    this.showInput(event);\n                }}>\n                <Tag fill={bgColor}\n                    cornerRadius={borderRadius} />\n                <Text name=\"top-bar-text\"\n                    width={width}\n                    height={height}\n                    fontStyle={fontStyle}\n                    fontSize={fontSize}\n                    verticalAlign=\"middle\"\n                    padding={padding}\n                    fill={textColor}\n                    text={value} />\n            </Label>\n        );\n    }\n}\n\ntype DropdownProps = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    fontSize: number;\n    fontStyle: string;\n    padding: number;\n    textColor: string;\n    bgColor: string;\n    hoverColor: string;\n    borderRadius: number;\n    zIndex: number;\n    values: string[];\n    value: string;\n    onChange: (value: string) => Promise<boolean>;\n}\n\ntype DropdownState = {\n    selectedIndex: number;\n}\n\nexport class Dropdown extends React.Component<DropdownProps, DropdownState> {\n    private static dropdownElement: HTMLSelectElement;\n    \n    static defaultProps: DropdownProps = {\n        x: 0,\n        y: 0,\n        width: 100,\n        height: 20,\n        fontSize: 12,\n        fontStyle: \"normal\",\n        padding: 0,\n        textColor: \"#000000\",\n        bgColor: \"#ffffff\",\n        hoverColor: \"#cccccc\",\n        borderRadius: 0,\n        zIndex: 0,\n        values: [],\n        value: \"\",\n        onChange: async () => { return false; }\n    }\n\n    constructor(props: DropdownProps) {\n        super(props);\n\n        this.state = {\n            selectedIndex: 0\n        };\n\n        this.showDropdown = this.showDropdown.bind(this);\n        this.onHover = this.onHover.bind(this);\n        this.onHoverExit = this.onHoverExit.bind(this);\n    }\n\n    componentDidUpdate(): void {\n        const { value, values } = this.props;\n        const { selectedIndex } = this.state;\n\n        if (value != null && values.includes(value) && selectedIndex !== values.indexOf(value))\n            this.setState({selectedIndex: values.indexOf(value)});\n    }\n\n    showDropdown(event: KonvaEventObject<Event>): void {\n        Dropdown.cancelDropdown();\n\n        const { width, height, padding, fontSize, textColor, hoverColor, borderRadius, zIndex, values, onChange } = this.props;\n\n        const stage = event.target.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n        const scale = stage.scaleX();\n        const container = stage.container();\n        const boundingRect = container.getBoundingClientRect();\n\n        const top = event.target.absolutePosition().y + boundingRect.top;\n        const left = event.target.absolutePosition().x + boundingRect.left;\n\n        const dropdown = document.createElement(\"select\");\n        document.body.appendChild(dropdown);\n\n        // Add classes here\n        //dropdown.classList.add(\"block\", \"appearance-none\", \"w-full\", \"bg-white\", \"border\", \"border-gray-400\", \"hover:border-gray-500\", \"px-4\", \"py-2\", \"pr-8\", \"rounded\", \"shadow\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\");\n        values.forEach(value => {\n            const option = document.createElement(\"option\");\n            option.value = value;\n            option.innerText = value;\n            dropdown.add(option);\n        });\n\n        dropdown.selectedIndex = this.state.selectedIndex;\n        dropdown.style.position = \"absolute\";\n        dropdown.style.top = `${top}px`;\n        dropdown.style.left = `${left + Math.max(0, boundingRect.left - left)}px`;\n        dropdown.style.width = `${Math.min(width * scale, \n            boundingRect.right - left,\n            (width * scale) - (boundingRect.left - left))}px`;\n        dropdown.style.height = `${height * scale}px`;\n        dropdown.style.paddingLeft = `${padding * scale}px`;\n        dropdown.style.fontSize = `${fontSize * scale}px`;\n        dropdown.style.color = textColor;\n        dropdown.style.backgroundColor = hoverColor;\n        dropdown.style.borderRadius = `${borderRadius * scale}px`;\n        dropdown.style.zIndex = `${zIndex}`;\n        dropdown.focus();\n        dropdown.onchange = async (ev: Event) => {\n            const target = ev.target as HTMLSelectElement;\n\n            if (!target) {\n                console.error(\"Cannot cast target to 'HTMLSelectElement'.\");\n                Dropdown.cancelDropdown();\n                return;\n            }\n\n            if (!target.value) {\n                console.error(\"No value selected.\");\n                Dropdown.cancelDropdown();\n                return;\n            }\n\n            const result = await onChange(target.value);\n            if (!result) {\n                console.error(\"Input value requirements not met.\");\n                Dropdown.cancelDropdown();\n                return;\n            }\n\n            this.setState({selectedIndex: target.selectedIndex});\n            Dropdown.cancelDropdown();\n        };\n\n        Dropdown.dropdownElement = dropdown;\n    }\n\n    public static cancelDropdown(): void {\n        const dropdown = Dropdown.dropdownElement;\n        if (!dropdown)\n            return;\n        \n        dropdown.onchange = null;\n        dropdown.parentNode?.removeChild(dropdown);\n    }\n\n    onHover(event: KonvaEventObject<Event>): void {\n        KonvaUtils.setCursor(event, \"pointer\");\n\n        const layer = event.currentTarget.getLayer();\n        if (!layer) {\n            console.error(\"The Konva layer could not be found.\");\n            return;\n        }\n\n        const label = event.currentTarget as Konva.Label;\n        if (!label || !label.children)\n            return;\n\n        const textBG = label.children[0];\n        textBG.setAttr(\"fill\", this.props.hoverColor);\n        layer.draw();\n    }\n\n    onHoverExit(event: KonvaEventObject<Event>): void {\n        KonvaUtils.setCursor(event, \"default\");\n\n        const layer = event.currentTarget.getLayer();\n        if (!layer) {\n            console.error(\"The Konva layer could not be found.\");\n            return;\n        }\n\n        const label = event.currentTarget as Konva.Label;\n        if (!label || !label.children)\n            return;\n\n        const textBG = label.children[0];\n        textBG.setAttr(\"fill\", this.props.bgColor);\n        layer.draw();\n    }\n\n    render(): JSX.Element {\n        const { x, y, width, height, fontSize, fontStyle, padding, textColor, bgColor, borderRadius, values, value } = this.props;\n\n        return(\n            <Label name=\"top-bar-label\"\n                x={x}\n                y={y}\n                onMouseEnter={this.onHover}\n                onMouseLeave={this.onHoverExit} \n                onClick={event => {\n                    event.cancelBubble = true;\n                    this.showDropdown(event);\n                }}\n                onTap={event => {\n                    event.cancelBubble = true;\n                    this.showDropdown(event);\n                }}>\n                <Tag fill={bgColor}\n                    cornerRadius={borderRadius} />\n                <Text name=\"top-bar-text\"\n                    width={width}\n                    height={height}\n                    fontStyle={fontStyle}\n                    fontSize={fontSize}\n                    verticalAlign=\"middle\"\n                    padding={padding}\n                    fill={textColor}\n                    text={value != null && values.includes(value) ? value : values[this.state.selectedIndex]} />\n            </Label>\n        );\n    }\n}\n\ntype ToggleProps = {\n    value: boolean;\n    x?: number;\n    y?: number;\n    width?: number;\n    height?: number;\n    handleOffset?: number;\n    bgTrueColor?: string;\n    bgFalseColor?: string;\n    handleTrueColor?: string;\n    handleFalseColor?: string;\n    onToggle?: (newValue: boolean) => Promise<void>;\n}\n\ntype ToggleState = {\n\n}\n\nexport class Toggle extends React.Component<ToggleProps, ToggleState> {\n    constructor(props: ToggleProps) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    render(): JSX.Element {\n        const { value, x = 0, y = 0, width = 75, height = 25, handleOffset = 10, bgTrueColor = Colors.Green[500], bgFalseColor = Colors.Red[500], handleTrueColor = Colors.Green[800], handleFalseColor = Colors.Red[800], onToggle } = this.props;\n\n        return (\n            <Group x={x}\n                y={y}\n                onMouseEnter={event => {\n                    KonvaUtils.setCursor(event, \"pointer\");\n                }}\n                onMouseLeave={event => {\n                    KonvaUtils.setCursor(event, \"default\");\n                }}\n                onClick={async (event) => {\n                    event.cancelBubble = true;\n                    if (onToggle) {\n                        await onToggle(!value);\n                    }\n                }}>\n                <Rect name=\"background\"\n                    x={0}\n                    y={0}\n                    width={width}\n                    height={height}\n                    fill={value ? bgTrueColor : bgFalseColor} />\n                <Rect name=\"handle\"\n                    x={value ? width - height : -(handleOffset / 2)}\n                    y={-(handleOffset / 2)}\n                    width={height + handleOffset}\n                    height={height + handleOffset}\n                    fill={value ? handleTrueColor : handleFalseColor} />\n            </Group>\n        );\n    }\n}","import { Layer } from \"konva/lib/Layer\";\nimport store from \"../app/store\";\nimport NodeConnection from \"../components/NodeConnection\";\nimport { NodeConnectionObject } from \"../db/models\";\nimport { getConnectionById, getNodeById } from \"../features/notebooks/notebookSlice\";\nimport { Vector2 } from \"../types\";\n\nclass NodeConnectionManager {\n    private connectionRefs: {\n        [cellId: string]: {\n            [connectionId: string]: NodeConnection | undefined\n        }\n    } = {};\n    private layerRef: Layer | undefined;\n    private currentNotebookId = \"\";\n\n    constructor() {\n        this.onStoreUpdate = this.onStoreUpdate.bind(this);\n        store.subscribe(this.onStoreUpdate);\n    }\n\n    onStoreUpdate(): void {\n        const currentNotebook = store.getState().notebook.currentNotebook;\n        if (!currentNotebook)\n            return;\n\n        if (this.currentNotebookId !== currentNotebook.notebookId) {\n            this.reset();\n            this.currentNotebookId = currentNotebook.notebookId;\n        }\n    }\n\n    setLayerRef(ref: Layer) {\n        this.layerRef = ref;\n    }\n\n    addRef(cellId: string, connectionId: string, ref: NodeConnection) {\n        if (!this.connectionRefs[cellId])\n            this.connectionRefs[cellId] = {};\n\n        if (this.connectionRefs[cellId][connectionId])\n            return;\n\n        this.connectionRefs[cellId][connectionId] = ref;\n        this.moveToInitialPos(cellId, connectionId);\n    }\n\n    removeRef(cellId: string, connectionId: string) {\n        this.connectionRefs[cellId][connectionId] = undefined;\n    }\n\n    private moveToInitialPos(cellId: string, connectionId: string) {\n        const connection = getConnectionById(store.getState(), cellId, connectionId);\n        if (!connection)\n            return;\n\n        const fromNode = getNodeById(store.getState(), cellId, connection.fromNodeId);\n        const toNode = getNodeById(store.getState(), cellId, connection.toNodeId);\n        if (!fromNode || !toNode)\n            return;\n\n        const connRef = this.connectionRefs[cellId][connectionId];\n        if (!connRef)\n            return;\n\n        connRef.setFromCoords(fromNode.coords);\n        connRef.setToCoords(toNode.coords);\n    }\n\n    moveConnections(cellId: string, fromConnections: NodeConnectionObject[], toConnections: NodeConnectionObject[], coords: Vector2) {\n        if (!this.layerRef)\n            return;\n\n        fromConnections.forEach(conn => {\n            const connRef = this.connectionRefs[cellId][conn.connectionId];\n            if (!connRef || !this)\n                return;\n\n            connRef.setFromCoords(coords);\n        });\n\n        toConnections.forEach(conn => {\n            const connRef = this.connectionRefs[cellId][conn.connectionId];\n            if (!connRef || !this)\n                return;\n\n            connRef.setToCoords(coords);\n        });\n\n        this.layerRef.getStage().batchDraw();\n    }\n\n    reset(): void {\n        this.connectionRefs = {};\n    }\n}\n\nexport default new NodeConnectionManager();","import Konva from \"konva\";\nimport { KonvaEventObject } from \"konva/lib/Node\";\nimport { Vector2d } from \"konva/lib/types\";\nimport React from \"react\";\nimport { Circle, Group, Rect, Text } from \"react-konva\";\nimport { Portal } from \"react-konva-utils\";\nimport { Unsubscribe } from \"redux\";\nimport store from \"../app/store\";\nimport { NodeConnectionObject, NodeObject } from \"../db/models\";\nimport { clearSelectedNodeAsync, createNewConnectionAsync, deleteConnectionWithIdAsync, deleteNodeAsync, getNodeById, getSelectedNode, getSeparateConnectionsByNodeId, selectNodeAsync, updateNodeCoordsAsync, updateNodeNameAsync } from \"../features/notebooks/notebookSlice\";\nimport NodeTypeManager from \"../managers/NodeTypeManager\";\nimport Colors from \"../utils/Colors\";\nimport KonvaUtils from \"../utils/KonvaUtils\";\nimport { KonvaButton } from \"./KonvaComponents\";\nimport { Input, KonvaForm } from \"./KonvaForm\";\nimport { PrimitiveTree, Slot as SlotObject } from \"../types\";\nimport NodeConnectionManager from \"../managers/NodeConnectionManager\";\n\ntype NodeHandleProps = {\n    cellId: string;\n    nodeId: string;\n    slotId: string;\n    x: number;\n    y: number;\n    fill: string;\n    stroke: string;\n    isInput: boolean;\n    isConnected: boolean;\n}\n\ntype NodeHandleState = {\n    startPosition: Vector2d;\n}\n\nclass NodeHandle extends React.Component<NodeHandleProps, NodeHandleState> {\n    private static path: Konva.Path | null = null;\n\n    constructor(props: NodeHandleProps) {\n        super(props);\n\n        this.state = {\n            startPosition: { x: 0, y: 0 }\n        };\n\n        this.onDragStart = this.onDragStart.bind(this);\n        this.onDragMove = this.onDragMove.bind(this);\n        this.onDragEnd = this.onDragEnd.bind(this);\n        this.onConnect = this.onConnect.bind(this);\n\n        this.isSlotTypeEqual = this.isSlotTypeEqual.bind(this);\n        this.isOtherInputSlotConnected = this.isOtherInputSlotConnected.bind(this);\n        this.isGraphCyclic = this.isGraphCyclic.bind(this);\n    }\n\n    onDragStart(event: KonvaEventObject<DragEvent>) {\n        KonvaForm.cancel();\n        \n        const target = event.target;\n        const parent = target.parent;\n        if (!parent) {\n            console.error(\"This Konva node should be under a container node.\");\n            return;\n        }\n\n        const startPos = target.getPosition();\n        const endPos = startPos;\n        const pathData = `M${startPos.x} ${startPos.y} L${endPos.x} ${endPos.y}`;\n        const path = new Konva.Path({\n            data: pathData,\n            stroke: Colors.Gray[900],\n            strokeWidth: 3\n        });\n        parent.add(path);\n        path.setZIndex(0);\n        NodeHandle.path = path;\n        this.setState({startPosition: startPos});\n    }\n\n    onDragMove(event: KonvaEventObject<DragEvent>) {\n        const { isInput } = this.props;\n        const { startPosition } = this.state;\n\n        const layer: Konva.Layer | null = event.target.getLayer();\n        if (!layer) {\n            console.error(\"The Konva layer could not be found.\");\n            return;\n        }\n        \n        const thisCircle = event.target;\n        const position = thisCircle.getPosition();\n        let startPos, endPos;\n\n        if (isInput) {\n            // The isInput specifies if its either the input handle or the output\n            // handle that's being dragged.\n            // Gotta flip the start and end positions so the path forms an S shape\n            // instead of a mirrored S shape when dragged.\n            startPos = position;\n            endPos = startPosition;\n        } else {\n            startPos = startPosition;\n            endPos = position;\n        }\n\n        const midpointPos: Vector2d = {\n            x: ((endPos.x - startPos.x) / 2) + (startPos.x),\n            y: ((endPos.y - startPos.y) / 2) + (startPos.y)\n        };\n        const pathData = `M${startPos.x} ${startPos.y} Q${startPos.x + 30} ${startPos.y} ${midpointPos.x} ${midpointPos.y} Q${endPos.x - 30} ${endPos.y} ${endPos.x} ${endPos.y}`;\n        const path = NodeHandle.path;\n        if (!path) {\n            console.error(\"The Konva path could not be found.\");\n            return;\n        }\n\n        path.data(pathData);\n    }\n\n    async onDragEnd(event: KonvaEventObject<DragEvent>) {\n        const { isInput, nodeId } = this.props;\n        const { startPosition } = this.state;\n\n        const thisCircle = event.target;\n        thisCircle.position(startPosition);\n\n        const path = NodeHandle.path;\n        if (path != null) {\n            path.destroy();\n            NodeHandle.path = null;\n        }\n\n        const stage = thisCircle.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n\n        stage.draw();\n\n        const pointerPos = stage.getPointerPosition();\n        if (!pointerPos) {\n            console.error(\"The Konva pointer position could not be found.\");\n            return;\n        }\n\n        const screenX = Math.floor(pointerPos.x);\n        const screenY = Math.floor(pointerPos.y);\n\n        const elements = stage.getAllIntersections({x: screenX, y: screenY}) as Konva.Shape[];\n        \n        if (!elements || elements.length <= 0)\n            return;\n\n        let element: Konva.Shape | undefined;\n        let otherNodeId = \"\";\n        let otherSlotId = \"\";\n\n        let i;\n        for (i = 0; i < elements.length; i++) {\n            const elem = elements[i];\n            const type = elem.getAttr(\"data-type\");\n            if (!type || (isInput ? type !== \"output\" : type !== \"input\"))\n                continue;\n\n            otherNodeId = elem.getAttr(\"data-node-id\");\n            otherSlotId = elem.getAttr(\"data-slot-id\");\n            // NOTE: These ids can be 0 and !id will return true\n            // TODO: Make ids to be unique uuids\n            if (otherNodeId == null || otherSlotId == null) {\n                console.error(\"No attributes 'data-item-id' or 'data-slot-id' could be found from the element.\");\n                continue;\n            }\n\n            if (nodeId === otherNodeId)\n                continue;\n\n            element = elem;\n            break;\n        }\n\n        if (!element)\n            return;\n\n        await this.onConnect(otherNodeId, otherSlotId);\n    }\n\n    async onConnect(otherNodeId: string, otherSlotId: string): Promise<void> {\n        const { cellId, nodeId, slotId, isInput } = this.props;\n        if (nodeId === otherNodeId)\n            return;\n        if (!this.isSlotTypeEqual(cellId, isInput, nodeId, slotId, otherNodeId, otherSlotId))\n            return;\n        if (this.isGraphCyclic(cellId, isInput ? nodeId : otherNodeId, isInput ? otherNodeId : nodeId))\n            return;\n        if (this.isOtherInputSlotConnected(cellId, isInput, nodeId, slotId, otherNodeId, otherSlotId)) {\n            const connections = getSeparateConnectionsByNodeId(store.getState(), cellId, isInput ? nodeId : otherNodeId);\n            const toConnections = connections.toConnections;\n            const connection = toConnections.find(conn => conn.toNodeId === (isInput ? nodeId : otherNodeId) && conn.toSlotId === (isInput ? slotId : otherSlotId));\n            if (connection)\n                await store.dispatch(deleteConnectionWithIdAsync(cellId, connection.connectionId));\n        }\n\n        if (isInput)\n            await store.dispatch(createNewConnectionAsync(cellId, otherNodeId, otherSlotId, nodeId, slotId));\n        else\n            await store.dispatch(createNewConnectionAsync(cellId, nodeId, slotId, otherNodeId, otherSlotId));\n    }\n\n    // Check if both node slots have the same types\n    isSlotTypeEqual(cellId: string, isInput: boolean, nodeId: string, slotId: string, otherNodeId: string, otherSlotId: string): boolean {\n        const node = getNodeById(store.getState(), cellId, nodeId);\n        const otherNode = getNodeById(store.getState(), cellId, otherNodeId);\n        if (!node || !otherNode)\n            return false;\n\n        const nodeType = NodeTypeManager.getType(node.type);\n        const otherNodeType = NodeTypeManager.getType(otherNode.type);\n        if (!nodeType || !otherNodeType)\n            return false;\n\n        const nodeSlots = isInput ? nodeType.inputSlots : nodeType.outputSlots;\n        const nodeSlot = nodeSlots.find(slot => slot.id === slotId);\n        if (!nodeSlot)\n            return false;\n\n        const otherNodeSlots = isInput ? otherNodeType.outputSlots : otherNodeType.inputSlots;\n        const otherNodeSlot = otherNodeSlots.find(slot => slot.id === otherSlotId);\n        if (!otherNodeSlot)\n            return false;\n\n        const inputSlotTypes = isInput ? nodeSlot.type.replace(/[ ]/g, \"\").split(\"|\") : otherNodeSlot.type.replace(/[ ]/g, \"\").split(\"|\");\n        const outputSlotType = isInput ? otherNodeSlot.type : nodeSlot.type;\n\n        return inputSlotTypes.includes(outputSlotType);\n    }\n\n    // Output slot can connect to multiple input slots,\n    // but input slot can only connect to one output slot\n    isOtherInputSlotConnected(cellId: string, isInput: boolean, nodeId: string, slotId: string, otherNodeId: string, otherSlotId: string): boolean {\n        const connections = getSeparateConnectionsByNodeId(store.getState(), cellId, isInput ? nodeId : otherNodeId);\n        const toConnections = connections.toConnections;\n        const index = toConnections.findIndex(conn => conn.toNodeId === (isInput ? nodeId : otherNodeId) && conn.toSlotId === (isInput ? slotId : otherSlotId));\n        if (index < 0)\n            return false;\n\n        return true;\n    }\n\n    isGraphCyclic(cellId: string, startNodeId: string, endNodeId: string): boolean {\n        const connections = getSeparateConnectionsByNodeId(store.getState(), cellId, endNodeId).toConnections;\n\n        for (let i = 0; i < connections.length; i++) {\n            const conn = connections[i];\n            if (conn.fromNodeId === startNodeId)\n                return true;\n\n            if (this.isGraphCyclic(cellId, startNodeId, conn.fromNodeId))\n                return true;\n        }\n\n        return false;\n    }\n\n    render(): JSX.Element {\n        const { nodeId, slotId, x, y, fill, stroke, isInput, isConnected } = this.props;\n\n        return (\n            <>\n                {!isConnected && (\n                    <Circle x={x}\n                        y={y}\n                        radius={4}\n                        fill={fill}\n                        stroke={stroke}\n                        strokeWidth={1}\n                        listening={false} />\n                ) ||\n                isConnected && (\n                    <Rect x={x}\n                        y={y - 5}\n                        width={7}\n                        height={7}\n                        rotation={45}\n                        fill={stroke}\n                        strokeEnabled={false} />\n                )}\n\n                <Circle data-type={`${isInput ? \"input\" : \"output\"}`}\n                    data-node-id={nodeId}\n                    data-slot-id={slotId}\n                    x={x}\n                    y={y}\n                    radius={15}\n                    fill=\"transparent\"\n                    draggable\n                    onDragStart={event => {\n                        event.cancelBubble = true;\n                        this.onDragStart(event);\n                    }}\n                    onDragMove={event => {\n                        event.cancelBubble = true;\n                        this.onDragMove(event);\n                    }}\n                    onDragEnd={async event => {\n                        event.cancelBubble = true;\n                        await this.onDragEnd(event);\n                    }}\n                    onMouseEnter={evt => {\n                        KonvaUtils.setCursor(evt, \"pointer\");\n                    }}\n                    onMouseLeave={evt => {\n                        KonvaUtils.setCursor(evt, \"default\");\n                    }} />\n            </>\n        );\n    }\n}\n\ntype SlotProps = {\n    cellId: string;\n    nodeId: string;\n    slot: SlotObject;\n    x?: number;\n    y?: number;\n    height?: number;\n    isInput?: boolean;\n    isConnected?: boolean;\n}\n\ntype SlotState = {\n    labelWidth: number;\n    typeWidth: number;\n}\n\nclass Slot extends React.Component<SlotProps, SlotState> {\n    private label: React.RefObject<Konva.Text>;\n    private type: React.RefObject<Konva.Text>;\n\n    constructor(props: SlotProps) {\n        super(props);\n\n        this.label = React.createRef();\n        this.type = React.createRef();\n\n        this.state = {\n            labelWidth: 100,\n            typeWidth: 100\n        };\n    }\n\n    componentDidMount() {\n        const labelWidth = this.label.current?.width();\n        const typeWidth = this.type.current?.width();\n        if (!labelWidth || !typeWidth) {\n            console.error(\"The referenced Konva label or type text could not be found.\");\n            return;\n        }\n\n        this.setState({labelWidth, typeWidth});\n    }\n\n    render(): JSX.Element {\n        const { cellId, nodeId, slot, x = 0, y = 0, height = 40, isInput = true, isConnected = false } = this.props;\n        const { labelWidth, typeWidth } = this.state;\n        return (\n            <Group x={x}\n                y={y}>\n                <Text ref={this.label}\n                    x={isInput ? 16 : 0 }\n                    y={0}\n                    offsetX={isInput ? 0 : 16 + labelWidth}\n                    height={height / 2}\n                    text={slot.id}\n                    fontSize={12}\n                    fontStyle=\"bold\"\n                    align={isInput ? \"left\" : \"right\"}\n                    verticalAlign=\"bottom\" />\n                <Text ref={this.type}\n                    x={isInput ? 16 : 0 }\n                    y={20}\n                    offsetX={isInput ? 0 : 16 + typeWidth}\n                    height={height / 2}\n                    text={slot.type}\n                    fontSize={10}\n                    align={isInput ? \"left\" : \"right\"}\n                    verticalAlign=\"top\" />\n                <NodeHandle cellId={cellId}\n                    nodeId={nodeId}\n                    slotId={slot.id}\n                    x={0}\n                    y={height / 2}\n                    fill={Colors.Blue[200]}\n                    stroke={Colors.Blue[600]}\n                    isInput={isInput}\n                    isConnected={isConnected} />\n            </Group>\n        );\n    }\n}\n\ntype NodeProps = {\n    cellId: string;\n    node: NodeObject;\n}\n\ntype NodeState = {\n    connections: {\n        fromConnections: NodeConnectionObject[];\n        toConnections: NodeConnectionObject[];\n    };\n    isDragging: boolean;\n    isSelected: boolean;\n}\n\nexport default class Node extends React.Component<NodeProps, NodeState> {\n    private unsubscribe: Unsubscribe = () => { return; };\n\n    constructor(props: NodeProps) {\n        super(props);\n\n        this.state = {\n            connections: { fromConnections: [], toConnections: [] },\n            isDragging: false,\n            isSelected: false\n        };\n\n        this.updateNode = this.updateNode.bind(this);\n\n        this.onClickNode = this.onClickNode.bind(this);\n        this.onDragNodeStart = this.onDragNodeStart.bind(this);\n        this.onDragNode = this.onDragNode.bind(this);\n        this.onDragNodeEnd = this.onDragNodeEnd.bind(this);\n\n        this.onUpdateName = this.onUpdateName.bind(this);\n        this.onDeleteNode = this.onDeleteNode.bind(this);\n    }\n\n    componentDidMount(): void {\n        this.unsubscribe = store.subscribe(this.updateNode);\n        this.updateNode();\n    }\n\n    componentWillUnmount(): void {\n        this.unsubscribe();\n    }\n\n    updateNode(): void {\n        const { cellId, node } = this.props;\n        const state = store.getState();\n        const connections = getSeparateConnectionsByNodeId(state, cellId, node.nodeId);\n        const selectedNode = getSelectedNode(state);\n        this.setState({connections, isSelected: (!!selectedNode && selectedNode.cellId === cellId && selectedNode.nodeId === node.nodeId)});\n    }\n\n    async onClickNode(event: KonvaEventObject<MouseEvent>): Promise<void> {\n        event.cancelBubble = true;\n        KonvaForm.cancel();\n        \n        const { cellId, node } = this.props;\n        const selectedNode = getSelectedNode(store.getState());\n        if (!selectedNode || !(selectedNode.cellId === cellId && selectedNode.nodeId === node.nodeId)) {\n            // Node should be selected, make it glow!\n            await store.dispatch(selectNodeAsync(cellId, node.nodeId));\n            this.setState({isSelected: true});\n        } else {\n            // Node already selected, unselect it\n            await store.dispatch(clearSelectedNodeAsync());\n            this.setState({isSelected: false});\n        }\n    }\n\n    onDragNodeStart(event: KonvaEventObject<DragEvent>): void {\n        KonvaUtils.setCursor(event, \"move\");\n        KonvaForm.cancel();\n        this.setState({isDragging: true});\n    }\n\n    onDragNode(event: KonvaEventObject<DragEvent>): void {\n        const { cellId } = this.props;\n        const { connections } = this.state;\n        const pos = event.target.position();\n        NodeConnectionManager.moveConnections(cellId, connections.fromConnections, connections.toConnections, pos);\n    }\n\n    async onDragNodeEnd(event: KonvaEventObject<DragEvent>): Promise<void> {\n        KonvaUtils.setCursor(event, \"default\");\n        const { cellId, node } = this.props;\n\n        const newPos = event.target.position();\n        await store.dispatch(updateNodeCoordsAsync(cellId, node.nodeId, { x: newPos.x, y: newPos.y }));\n        this.setState({isDragging: false});\n    }\n\n    async onUpdateName(name: string): Promise<boolean> {\n        const { cellId, node } = this.props;\n\n        const regex = /^\\w+[a-zA-Z0-9 \\-.,]*$/;\n        if (!name.match(regex))\n            return false;\n\n        await store.dispatch(updateNodeNameAsync(cellId, node.nodeId, name));\n        return true;\n    }\n\n    async onDeleteNode(): Promise<void> {\n        const { cellId, node } = this.props;\n        const selectedNode = getSelectedNode(store.getState());\n        if (selectedNode && selectedNode.cellId === cellId && selectedNode.nodeId === node.nodeId) {\n            store.dispatch(clearSelectedNodeAsync()).then(() => {\n                return store.dispatch(deleteNodeAsync(cellId, node.nodeId));\n            });\n        } else {\n            await store.dispatch(deleteNodeAsync(cellId, node.nodeId));\n        }\n    }\n\n    render(): JSX.Element {\n        const { cellId, node } = this.props;\n        const { connections, isDragging, isSelected } = this.state;\n        const nodeType = NodeTypeManager.getType(node.type);\n\n        const nodeWidth = nodeType?.style?.width ?? 200;\n        const topBarHeight = 20;\n\n        const inputSlots = nodeType?.inputSlots ?? [];\n        const outputSlots = nodeType?.outputSlots ?? [];\n        const inputValues: PrimitiveTree = {};\n        node.inputValues.forEach(val => {\n            inputValues[val.id] = val.value;\n        });\n\n        let nodeHeight = nodeType?.style?.height;\n        if (!nodeHeight || nodeHeight <= -1) {\n            // Calculate node height based on the number of slots\n            const numSlots = Math.max(inputSlots.length, outputSlots.length);\n            nodeHeight = topBarHeight + numSlots * 40;\n        }\n\n        return (\n            <Portal selector=\".movingNodes\" enabled={isDragging}>\n                <Group x={node.coords.x}\n                    y={node.coords.y}\n                    onClick={this.onClickNode}\n                    onDragStart={this.onDragNodeStart}\n                    onDragMove={this.onDragNode}\n                    onDragEnd={this.onDragNodeEnd}\n                    draggable>\n                    <Rect name=\"background\"\n                        x={0}\n                        y={0}\n                        shadowEnabled={isSelected}\n                        shadowColor={Colors.Orange[500]}\n                        shadowBlur={10}\n                        width={nodeWidth}\n                        height={nodeHeight}\n                        fill={Colors.Gray[400]} />\n                    {/* Top bar */}\n                    <Rect name=\"top-bar\"\n                        width={nodeWidth}\n                        height={topBarHeight}\n                        fill={Colors.Gray[800]} />\n                    <Input width={nodeType?.isDeletable ? nodeWidth - topBarHeight : nodeWidth}\n                        height={topBarHeight}\n                        textColor={Colors.Gray[100]}\n                        bgColor={Colors.Gray[800]}\n                        hoverColor={Colors.Gray[700]}\n                        padding={8}\n                        value={node.name}\n                        onChange={this.onUpdateName} />\n                    {nodeType && nodeType.isDeletable && (\n                        <KonvaButton x={nodeWidth - topBarHeight + 3}\n                            y={3}\n                            width={topBarHeight - 6}\n                            height={topBarHeight - 6}\n                            cornerRadius={topBarHeight}\n                            backgroundColor={Colors.Red[500]}\n                            text=\"&#215;\"\n                            textOffsetY={-1}\n                            fontSize={14}\n                            textColor={Colors.Gray[900]}\n                            onClick={async (event) => {\n                                event.cancelBubble = true;\n                                await this.onDeleteNode();\n                            }} />\n                    )}\n                    {/* Input Slots */}\n                    {inputSlots.map((slot, index) => {\n                        const isConnected = connections.toConnections.findIndex(conn => conn.toSlotId === slot.id) >= 0;\n                        return (\n                            <Slot key={`${node.nodeId}-${slot.id}`}\n                                cellId={cellId}\n                                nodeId={node.nodeId}\n                                slot={slot}\n                                x={0}\n                                y={topBarHeight + 40 * index}\n                                isInput={true}\n                                isConnected={isConnected} />\n                        );\n                    })}\n                    {outputSlots.map((slot, index) => {\n                        const isConnected = connections.fromConnections.findIndex(conn => conn.fromSlotId === slot.id) >= 0;\n                        return (\n                            <Slot key={`${node.nodeId}-${slot.id}`}\n                                cellId={cellId}\n                                nodeId={node.nodeId}\n                                slot={slot}\n                                x={nodeWidth}\n                                y={topBarHeight + 40 * index}\n                                isInput={false}\n                                isConnected={isConnected} />\n                        );\n                    })}\n                </Group>\n            </Portal>\n        );\n    }\n}","import { Vector2d } from \"konva/lib/types\";\nimport React from \"react\";\nimport { Group, Image } from \"react-konva\";\nimport useImage from \"use-image\";\n\ntype GridArrayProps = {\n\n}\n\ntype GridArrayState = {\n    currentIndex: Vector2d;\n    scale: number;\n    containerWidth: number;\n}\n\nexport default class GridArray extends React.Component<GridArrayProps, GridArrayState> {\n    constructor(props: GridArrayProps) {\n        super(props);\n\n        this.state = {\n            currentIndex: { x: 0, y: 0 },\n            scale: 1,\n            containerWidth: 0\n        };\n\n        this.setPos = this.setPos.bind(this);\n        this.setScale = this.setScale.bind(this);\n        this.setContainerWidth = this.setContainerWidth.bind(this);\n    }\n\n    setPos(x: number, y: number): void {\n        const { currentIndex, scale } = this.state;\n\n        const newIndex: Vector2d = {\n            x: Math.round(x / WIDTH / scale),\n            y: Math.round(y / WIDTH / scale)\n        };\n\n        if (currentIndex.x !== newIndex.x || currentIndex.y !== newIndex.y)\n            this.setState({currentIndex: newIndex});\n    }\n\n    setScale(scale: number): void {\n        this.setState({scale});\n    }\n\n    setContainerWidth(containerWidth: number): void {\n        this.setState({containerWidth});\n    }\n\n    render(): JSX.Element {\n        const { currentIndex, scale, containerWidth } = this.state;\n\n        console.log(process.env.PUBLIC_URL);\n        return (\n            <GridArrayInner currentIndex={currentIndex} scale={scale} containerWidth={containerWidth} />\n        );\n    }\n}\n\ntype GridArrayInnerProps = {\n    currentIndex: Vector2d;\n    scale: number;\n    containerWidth: number;\n}\n\nconst WIDTH = 1000;\n\nconst generateColumns = (scale: number, containerWidth: number): number[] => {\n    const diff = scale * WIDTH * 2 - containerWidth;\n    let count = 0;\n    if (diff < 0)\n        count = Math.ceil(-diff / 250);\n\n    const cols: number[] = [];\n    for (let i = -2; i > -2 - count; i--) {\n        cols.push(i);\n    }\n\n    return cols;\n};\n\nconst indexToCoord = (index: number, n: number) => {\n    return -(index + n) * WIDTH;\n};\n\nfunction GridArrayInner(props: GridArrayInnerProps) {\n    const [image] = useImage(`${process.env.PUBLIC_URL}/grid.png`);\n    return (\n        <Group>\n            <Image key={\"-1-1\"} opacity={0.2} x={indexToCoord(props.currentIndex.x, -1)} y={indexToCoord(props.currentIndex.y, -1)} width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"0-1\"}  opacity={0.2} x={indexToCoord(props.currentIndex.x, 0)}  y={indexToCoord(props.currentIndex.y, -1)} width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"1-1\"}  opacity={0.2} x={indexToCoord(props.currentIndex.x, 1)}  y={indexToCoord(props.currentIndex.y, -1)} width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"-10\"}  opacity={0.2} x={indexToCoord(props.currentIndex.x, -1)} y={indexToCoord(props.currentIndex.y, 0)}  width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"00\"}   opacity={0.2} x={indexToCoord(props.currentIndex.x, 0)}  y={indexToCoord(props.currentIndex.y, 0)}  width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"10\"}   opacity={0.2} x={indexToCoord(props.currentIndex.x, 1)}  y={indexToCoord(props.currentIndex.y, 0)}  width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"-11\"}  opacity={0.2} x={indexToCoord(props.currentIndex.x, -1)} y={indexToCoord(props.currentIndex.y, 1)}  width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"01\"}   opacity={0.2} x={indexToCoord(props.currentIndex.x, 0)}  y={indexToCoord(props.currentIndex.y, 1)}  width={WIDTH} height={WIDTH} image={image} />\n            <Image key={\"11\"}   opacity={0.2} x={indexToCoord(props.currentIndex.x, 1)}  y={indexToCoord(props.currentIndex.y, 1)}  width={WIDTH} height={WIDTH} image={image} />\n            <>\n                {generateColumns(props.scale, props.containerWidth).map((value, index) => (\n                    <React.Fragment key={`${value}-group`}>\n                        <Image key={`${value}-1`} opacity={0.2} x={indexToCoord(props.currentIndex.x, value)} y={indexToCoord(props.currentIndex.y, -1)} width={WIDTH} height={WIDTH} image={image} />\n                        <Image key={`${value}0`}  opacity={0.2} x={indexToCoord(props.currentIndex.x, value)} y={indexToCoord(props.currentIndex.y, 0)}  width={WIDTH} height={WIDTH} image={image} />\n                        <Image key={`${value}1`}  opacity={0.2} x={indexToCoord(props.currentIndex.x, value)} y={indexToCoord(props.currentIndex.y, 1)}  width={WIDTH} height={WIDTH} image={image} />\n                    </React.Fragment>\n                ))}\n            </>\n        </Group>\n    );\n}","import Konva from \"konva\";\nimport { Vector2d } from \"konva/lib/types\";\nimport React, { useRef, useState } from \"react\";\nimport { Path, Rect, Text } from \"react-konva\";\nimport store from \"../app/store\";\nimport { NodeConnectionObject } from \"../db/models\";\nimport { deleteConnectionWithIdAsync, getNodeById } from \"../features/notebooks/notebookSlice\";\nimport NodeConnectionManager from \"../managers/NodeConnectionManager\";\nimport NodeTypeManager from \"../managers/NodeTypeManager\";\nimport Colors from \"../utils/Colors\";\nimport KonvaUtils from \"../utils/KonvaUtils\";\n\ntype NodeConnectionProps = {\n    cellId: string;\n    connection: NodeConnectionObject;\n}\n\ntype NodeConnectionState = {\n    fromNodeWidth: number;\n    fromSlotHeight: number;\n    toSlotHeight: number;\n    fromCoords: Vector2d;\n    toCoords: Vector2d;\n}\n\nexport default class NodeConnection extends React.Component<NodeConnectionProps, NodeConnectionState> {\n    constructor(props: NodeConnectionProps) {\n        super(props);\n\n        this.state = {\n            fromNodeWidth: 200,\n            fromSlotHeight: 40,\n            toSlotHeight: 40,\n            fromCoords: { x: 0, y: 0 },\n            toCoords: { x: 0, y: 0 }\n        };\n\n        this.setFromCoords = this.setFromCoords.bind(this);\n        this.setToCoords = this.setToCoords.bind(this);\n\n        this.onDeleteConnection = this.onDeleteConnection.bind(this);\n    }\n\n    componentDidMount(): void {\n        const { cellId, connection } = this.props;\n        const fromNode = getNodeById(store.getState(), cellId, connection.fromNodeId);\n        const toNode = getNodeById(store.getState(), cellId, connection.toNodeId);\n        const fromNodeType = NodeTypeManager.getType(fromNode?.type ?? \"\");\n        const toNodeType = NodeTypeManager.getType(toNode?.type ?? \"\");\n        const topBarHeight = 20;\n        const slotHeight = 40;\n\n        const fromNodeWidth = fromNodeType?.style?.width ?? 200;\n        let fromSlotIndex = fromNodeType?.outputSlots?.findIndex(slot => slot.id === connection.fromSlotId);\n        if (!fromSlotIndex || fromSlotIndex < 0)\n            fromSlotIndex = 0;\n        const fromSlotHeight = topBarHeight + slotHeight * (fromSlotIndex + 1) - (slotHeight / 2);\n\n        let toSlotIndex = toNodeType?.inputSlots?.findIndex(slot => slot.id === connection.toSlotId);\n        if (!toSlotIndex || toSlotIndex < 0)\n            toSlotIndex = 0;\n        const toSlotHeight = topBarHeight + slotHeight * (toSlotIndex + 1) - (slotHeight / 2);\n        this.setState({ fromNodeWidth, fromSlotHeight, toSlotHeight });\n    }\n\n    setFromCoords(fromCoords: Vector2d): void {\n        this.setState({fromCoords});\n    }\n\n    setToCoords(toCoords: Vector2d): void {\n        this.setState({toCoords});\n    }\n\n    async onDeleteConnection(): Promise<void> {\n        const { cellId, connection } = this.props;\n        NodeConnectionManager.removeRef(cellId, connection.connectionId);\n        await store.dispatch(deleteConnectionWithIdAsync(cellId, connection.connectionId));\n    }\n\n    render(): JSX.Element {\n        const { fromNodeWidth, fromSlotHeight, toSlotHeight, fromCoords, toCoords } = this.state;\n\n        return (\n            <NodeConnectionInner strokeWidth={3}\n                lineSlack={30}\n                fromNodeWidth={fromNodeWidth}\n                fromSlotHeight={fromSlotHeight}\n                toSlotHeight={toSlotHeight}\n                fromCoords={fromCoords} \n                toCoords={toCoords}\n                onClick={this.onDeleteConnection} />\n        );\n    }\n}\n\ntype NodeConnectionInnerProps = {\n    strokeWidth: number;\n    lineSlack: number;\n    fromNodeWidth: number;\n    fromSlotHeight: number;\n    toSlotHeight: number;\n    fromCoords: Vector2d;\n    toCoords: Vector2d;\n    onClick: () => Promise<void>;\n}\n\nfunction NodeConnectionInner(props: NodeConnectionInnerProps) {\n    const { strokeWidth, lineSlack, fromNodeWidth, fromSlotHeight, toSlotHeight, fromCoords, toCoords, onClick } = props;\n    const [isHovered, setIsHovered] = useState<boolean>(false);\n    const path = useRef<Konva.Path>(null);\n\n    //console.log(`Length: ${path.current?.getLength()}, Dash: ${path.current?.dash()}, Dash Offset: ${path.current?.dashOffset()}`);\n\n    const midPoint: Vector2d = {\n        x: ((toCoords.x - fromCoords.x - fromNodeWidth) / 2) + (fromCoords.x + fromNodeWidth),\n        y: ((toCoords.y + toSlotHeight - fromCoords.y - fromSlotHeight) / 2) + (fromCoords.y + fromSlotHeight)\n    };\n\n    const pathData = `M${fromCoords.x + fromNodeWidth} ${fromCoords.y + fromSlotHeight} ` +\n                     `Q${fromCoords.x + fromNodeWidth + lineSlack} ${fromCoords.y + fromSlotHeight} ` + \n                         `${midPoint.x} ${midPoint.y} ` +\n                     `Q${toCoords.x - lineSlack} ${toCoords.y + toSlotHeight} ` + \n                         `${toCoords.x} ${toCoords.y + toSlotHeight}`;\n\n    return (\n        <>\n            <Path ref={path}\n                data={pathData} \n                stroke={Colors.Gray[900]}\n                strokeWidth={strokeWidth}\n                listening={false} />\n            <Path data={pathData}\n                stroke=\"transparent\"\n                strokeWidth={50}\n                onMouseEnter={event => {\n                    KonvaUtils.setCursor(event, \"pointer\");\n                    setIsHovered(true);\n                }}\n                onMouseLeave={event => {\n                    KonvaUtils.setCursor(event, \"default\");\n                    setIsHovered(false);\n                }}\n                onClick={async (event) => {\n                    KonvaUtils.setCursor(event, \"default\");\n                    await onClick();\n                }} />\n            <Rect visible={isHovered}\n                x={midPoint.x - 10}\n                y={midPoint.y - 6}\n                width={20}\n                height={12}\n                fill={Colors.Gray[900]}\n                listening={false} />\n            <Text visible={isHovered}\n                x={midPoint.x - 10}\n                y={midPoint.y - 6}\n                width={20}\n                height={12}\n                text=\"&#215;\"\n                fontSize={14}\n                offsetY={-1}\n                align=\"center\"\n                verticalAlign=\"middle\"\n                fill={Colors.Gray[100]}\n                listening={false} />\n        </>\n    );\n}","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Vector2d } from \"konva/lib/types\";\nimport React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport store from \"../app/store\";\nimport { createNewNodeAsync, selectNodeTypeAsync } from \"../features/notebooks/notebookSlice\";\nimport NodeTypeManager from \"../managers/NodeTypeManager\";\nimport { DefinedNodeType } from \"../types\";\nimport { OKButton, PrimaryButton, SecondaryButton } from \"./CustomComponents\";\n\ntype AddNodeItemProps = {\n    typeId: string;\n    onAddNode: (nodeType: DefinedNodeType) => Promise<void>;\n}\n\ntype AddNodeItemState = {\n\n}\n\nclass AddNodeItem extends React.Component<AddNodeItemProps, AddNodeItemState> {\n    constructor(props: AddNodeItemProps) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    render(): JSX.Element | null {\n        const { typeId, onAddNode } = this.props;\n        const nodeType = NodeTypeManager.getType(typeId);\n        if (!nodeType)\n            return null;\n        return (\n            <div className=\"px-4 py-2 text-gray-800 hover:bg-gray-200\">\n                <div className=\"flex flex-row items-center justify-between\">\n                    <div className=\"flex flex-col mr-4\">\n                        <span className=\"font-bold text-sm\">{nodeType.name}</span>\n                        {nodeType.description && (\n                            <span className=\"text-xs text-gray-600\">{nodeType.description}</span>\n                        )}\n                    </div>\n                    <div className=\"flex flex-row\">\n                        <OKButton icon=\"plus\" \n                            text=\"Create\"\n                            className=\"px-2 py-1 mr-1 text-xs\"\n                            onClick={async () => await onAddNode(nodeType)} />\n                        <PrimaryButton icon=\"question\"\n                            className=\"px-2 py-1 text-xs\"\n                            onClick={async () => await store.dispatch(selectNodeTypeAsync(typeId))} />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\ntype NodeGroup = {\n    [id: string]: NodeGroup | string;\n}\n\ntype AddNodeGroupProps = {\n    group: NodeGroup;\n    onAddNode: (nodeType: DefinedNodeType) => Promise<void>;\n}\n\ntype AddNodeGroupState = {\n    isOpen: {\n        [id: string]: boolean\n    };\n}\n\nexport default class AddNodeGroup extends React.Component<AddNodeGroupProps, AddNodeGroupState> {\n    constructor(props: AddNodeGroupProps) {\n        super(props);\n\n        this.state = {\n            isOpen: {}\n        };\n\n        this.toggleGroup = this.toggleGroup.bind(this);\n    }\n\n    toggleGroup(id: string): void {\n        this.setState(prevState => ({isOpen: {...prevState.isOpen, [id]: !prevState.isOpen[id]}}));\n    }\n\n    render(): JSX.Element {\n        const { group, onAddNode } = this.props;\n        const { isOpen } = this.state;\n        const children = Object.entries(group);\n        return (\n            <>\n                {children.map((child, index) => {\n                    if (typeof child[1] === \"string\")\n                        return (\n                            <AddNodeItem key={`${child[0]}-${index}`} typeId={child[1]} onAddNode={onAddNode} />\n                        );\n                    else\n                        return (\n                            <div key={`${child[0]}-${index}`} style={{marginLeft: \"1rem\", width: \"calc(100%-1rem)\"}}>\n                                <div className=\"px-2 py-1 bg-gray-300 text-gray-900 text-xs hover:bg-gray-400\"\n                                    onClick={() => {\n                                        this.toggleGroup(`${child[0]}-${index}`);\n                                    }}>\n                                    <div className=\"flex flex-row items-center\">\n                                        {isOpen[`${child[0]}-${index}`] && (\n                                            <FontAwesomeIcon style={{marginRight: \"5px\"}} icon=\"caret-down\" />\n                                        ) ||\n                                        !isOpen[`${child[0]}-${index}`] && (\n                                            <FontAwesomeIcon style={{marginRight: \"8px\"}} icon=\"caret-right\" />\n                                        )}\n                                        <span className=\"\">{child[0]}</span>\n                                    </div>\n                                </div>\n                                {isOpen[`${child[0]}-${index}`] && (\n                                    <AddNodeGroup group={child[1]} onAddNode={onAddNode} />\n                                )}\n                            </div>\n                        );\n                })}\n            </>\n        );\n    }\n}\n\ntype AddNodeModalProps = {\n    cellId: string;\n    stagePos: Vector2d;\n    show: boolean;\n    onHide?: () => void;\n}\n\ntype AddNodeModalState = {\n    nextPosIndex: number;\n}\n\nclass AddNodeModal extends React.Component<AddNodeModalProps, AddNodeModalState> {\n    constructor(props: AddNodeModalProps) {\n        super(props);\n\n        this.state = {\n            nextPosIndex: 1\n        };\n\n        this.onHideModal = this.onHideModal.bind(this);\n        this.onKeyDown = this.onKeyDown.bind(this);\n\n        this.addNode = this.addNode.bind(this);\n    }\n\n    componentDidMount(): void {\n        window.addEventListener(\"keydown\", this.onKeyDown);\n    }\n\n    componentDidUpdate(prevProps: AddNodeModalProps): void {\n        if (prevProps.show !== this.props.show)\n            this.setState({nextPosIndex: 1});\n    }\n\n    componentWillUnmount(): void {\n        window.removeEventListener(\"keydown\", this.onKeyDown);\n    }\n\n    onKeyDown(event: KeyboardEvent): void {\n        if (event.key === \"Escape\")\n            this.onHideModal();\n    }\n\n    onHideModal(): void {\n        const { onHide } = this.props;\n        if (onHide)\n            onHide();\n    }\n\n    async addNode(nodeType: DefinedNodeType): Promise<void> {\n        const { cellId, stagePos } = this.props;\n        const { nextPosIndex } = this.state;\n\n        const nextPos: Vector2d = {\n            x: stagePos.x + (50 * nextPosIndex),\n            y: stagePos.y + (50 * nextPosIndex)\n        };\n        await store.dispatch(createNewNodeAsync(cellId, nodeType.name, nodeType.id, nextPos));\n        this.setState(prevState => ({\n            nextPosIndex: prevState.nextPosIndex + 1\n        }));\n    }\n\n    render(): JSX.Element {\n        const { show } = this.props;\n        const typeIds = NodeTypeManager.getVisibleTypeIds();\n\n        const objCreator = (partialId: string, partialGroup: NodeGroup, fullId: string): NodeGroup => {\n            const ids = partialId.split(\":\");\n            if (ids.length <= 1)\n                partialGroup[partialId] = fullId;\n            else {\n                let partial = partialGroup[ids[0]] as NodeGroup;\n                if (!partial)\n                    partial = {};\n                const obj = objCreator(ids.slice(1).join(\":\"), partial, fullId);\n                partialGroup[ids[0]] = obj;\n            }\n            return partialGroup;\n        };\n\n        let typeObj: NodeGroup = {};\n        typeIds.forEach(typeId => {\n            typeObj = objCreator(typeId, typeObj, typeId);\n        });\n\n        return (\n            <>\n                {show && (\n                    <>\n                        <div className=\"absolute top-0 right-0 bottom-0 left-0 bg-gray-900 opacity-50\"\n                            onClick={this.onHideModal}></div>\n                        <div className=\"absolute top-0 right-0 bottom-0 left-0 flex flex-col p-4 bg-gray-100\"\n                            style={{minWidth: \"32rem\", width: \"40%\", height: \"20rem\", top: \"50%\", left: \"50%\", transform: \"translateX(-50%) translateY(-50%)\"}}>\n                            {/*\n                            <div className=\"mb-4\">\n                                <Input placeholder=\"Search...\" icon=\"search\" />\n                            </div>\n                            */}\n\n                            <div className=\"grid gap-2 h-full mb-4\">\n                                <Scrollbars>\n                                    <div style={{marginLeft: \"-1rem\"}}>\n                                        <AddNodeGroup group={typeObj} onAddNode={this.addNode} />\n                                    </div>\n                                </Scrollbars>\n                            </div>\n                            \n                            <div className=\"flex flex-row-reverse\">\n                                <PrimaryButton text=\"Done\"\n                                    className=\"px-2 py-1 text-xs\"\n                                    onClick={this.onHideModal} />\n                            </div>\n                        </div>\n                    </>\n                )}\n            </>\n        );\n    }\n}\n\ntype NodeControlsProps = {\n    cellId: string;\n    stagePos: Vector2d;\n    onRunCell: () => Promise<void>;\n}\n\ntype NodeControlsState = {\n    showModal: boolean;\n}\n\nexport class NodeControls extends React.Component<NodeControlsProps, NodeControlsState> {\n    constructor(props: NodeControlsProps) {\n        super(props);\n\n        this.state = {\n            showModal: false\n        };\n    }\n\n    render(): JSX.Element {\n        const { cellId, stagePos, onRunCell } = this.props;\n        const { showModal } = this.state;\n        return (\n            <>\n                <div className=\"absolute flex flex-row\" style={{top: \"1rem\", left: \"1rem\"}}>\n                    <PrimaryButton icon=\"plus\" \n                        text=\"Add Node\"\n                        className=\"text-xs px-2 py-1 mr-2\"\n                        onClick={() => this.setState({showModal: true})} />\n                    <OKButton icon=\"play\"\n                        text=\"Run\"\n                        className=\"text-xs px-2 py-1\"\n                        onClick={async () => await onRunCell()} />\n                    \n                    <div className=\"relative\">\n                        \n                    </div>\n                </div>\n                \n                <AddNodeModal cellId={cellId}\n                    show={showModal}\n                    stagePos={stagePos}\n                    onHide={() => this.setState({showModal: false})} />\n            </>\n        );\n    }\n}\n\ntype NodeCellControlsProps = {\n    onZoomIn: React.MouseEventHandler<HTMLButtonElement>;\n    onZoomOut: React.MouseEventHandler<HTMLButtonElement>;\n    onReset: React.MouseEventHandler<HTMLButtonElement>;\n}\n\nexport function NodeCellControls(props: NodeCellControlsProps): JSX.Element {\n    return (\n        <div className=\"absolute flex flex-col items-end\" style={{top: \"1rem\", right: \"1rem\"}}>\n            <SecondaryButton icon=\"plus\"\n                className=\"text-sm p-1 mb-2\"\n                onClick={props.onZoomIn} />\n            <SecondaryButton icon=\"minus\"\n                className=\"text-sm p-1 mb-2\"\n                onClick={props.onZoomOut} />\n            <SecondaryButton text=\"Reset\"\n                className=\"text-xs px-2 py-1\"\n                onClick={props.onReset} />\n        </div>\n    );\n}","import cuid from \"cuid\";\nimport { Vector2d } from \"konva/lib/types\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport store, { RootState } from \"../app/store\";\nimport { DataSourceObject, NodeObject, VariableObject } from \"../db/models\";\nimport { addNodeAsync, setIsDraggingSourceAsync, setIsDraggingVariableAsync } from \"../features/notebooks/notebookSlice\";\nimport { SourceType, SourceTypes, Types, VariableType } from \"../utils/Types\";\n\ntype NodeCellDropZoneProps = {\n    cellId: string;\n    stagePos: Vector2d;\n    isDraggingSource: boolean;\n    isDraggingVariable: boolean;\n}\n\ntype NodeCellDropZoneState = {\n    isHovering: boolean;\n}\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        isDraggingSource: state.notebook.isDraggingSource,\n        isDraggingVariable: state.notebook.isDraggingVariable\n    };\n};\n\nclass NodeCellDropZoneInner extends React.Component<NodeCellDropZoneProps, NodeCellDropZoneState> {\n    constructor(props: NodeCellDropZoneProps) {\n        super(props);\n\n        this.state = {\n            isHovering: false\n        };\n\n        this.onDrop = this.onDrop.bind(this);\n    }\n\n    async onDrop(event: React.DragEvent<HTMLDivElement>): Promise<void> {\n        const { cellId, stagePos } = this.props;\n        event.preventDefault();\n        const data = JSON.parse(event.dataTransfer.getData(\"text/plain\"));\n        const dataType = data[\"dataType\"];\n        if (dataType === \"source\") {\n            await store.dispatch(setIsDraggingSourceAsync(false));\n\n            // Add new node representing the data source\n            const source = data[\"source\"] as DataSourceObject;\n            const pos: Vector2d = {\n                x: stagePos.x + 50,\n                y: stagePos.y + 50\n            };\n            const node: NodeObject = {\n                nodeId: cuid(),\n                name: source.name,\n                type: `base:${SourceTypes[source.type as SourceType]}-source`,\n                coords: pos,\n                properties: [\n                    {\n                        id: \"sourceId\",\n                        value: source.sourceId\n                    }\n                ],\n                inputValues: []\n            };\n            await store.dispatch(addNodeAsync(cellId, node));\n        } else if (dataType === \"variable\") {\n            await store.dispatch(setIsDraggingVariableAsync(false));\n\n            const type = data[\"type\"] as \"get\" | \"set\";\n            const variable = data[\"variable\"] as VariableObject;\n            const pos: Vector2d = {\n                x: stagePos.x + 50,\n                y: stagePos.y + 50\n            };\n            const node: NodeObject = {\n                nodeId: cuid(),\n                name: `${type === \"get\" ? \"Get\" : \"Set\"} ${variable.name}`,\n                type: `base:Variables:${Types[variable.type as VariableType]}-variable-${type}ter`,\n                coords: pos,\n                properties: [\n                    {\n                        id: \"variableId\",\n                        value: variable.variableId\n                    }\n                ],\n                inputValues: []\n            };\n            await store.dispatch(addNodeAsync(cellId, node));\n        }\n\n        this.setState({isHovering: false});\n    }\n\n    render(): JSX.Element | null {\n        const { isDraggingSource, isDraggingVariable } = this.props;\n        const { isHovering } = this.state;\n        if (!isDraggingSource && !isDraggingVariable)\n            return null;\n\n        return (\n            <div className=\"absolute top-0 left-0 right-0 bottom-0\"\n                onDragEnter={event => {\n                    event.preventDefault();\n                    this.setState({isHovering: true});\n                }}\n                onDragOver={event => {\n                    event.preventDefault();\n                }}\n                onDragLeave={event => {\n                    event.preventDefault();\n                    this.setState({isHovering: false});\n                }}\n                onDrop={this.onDrop}>\n                {isHovering && (\n                    <div className=\"flex w-full h-full items-center justify-center bg-gray-900 text-gray-100 opacity-50 pointer-events-none\">\n                        Drop here...\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nconst NodeCellDropZone = connect(mapStateToProps)(NodeCellDropZoneInner);\nexport default NodeCellDropZone;","import React, {  } from \"react\";\nimport { CellObject } from \"../db/models\";\nimport { Stage, Layer } from \"react-konva\";\nimport Konva from \"konva\";\nimport Node from \"./Node\";\nimport { KonvaEventObject } from \"konva/lib/Node\";\nimport { Vector2d } from \"konva/lib/types\";\nimport GridArray from \"./GridArray\";\nimport NodeConnection from \"./NodeConnection\";\nimport { KonvaForm } from \"./KonvaForm\";\nimport store from \"../app/store\";\nimport { clearSelectedNodeAsync, deleteNodeAsync, getNodes, getSelectedNode } from \"../features/notebooks/notebookSlice\";\nimport { NodeCellControls, NodeControls } from \"./NodeCellControls\";\nimport { Bar, Chart, Line } from \"react-chartjs-2\";\nimport ResizeObserver from \"rc-resize-observer\";\nimport NodeCellDropZone from \"./NodeCellDropZone\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport { twMerge } from \"tailwind-merge\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Colors from \"../utils/Colors\";\nimport NodeExecManager from \"../managers/NodeExecManager\";\nimport NodeConnectionManager from \"../managers/NodeConnectionManager\";\nimport { PrimitiveTree, NodeError, PrimitiveOutput, ChartOutput, DataFrameOutput } from \"../types\";\n\ntype NodeCellProps = {\n    cell: CellObject;\n}\n\ntype NodeCellState = {\n    stagePos: Vector2d;\n    results: PrimitiveTree[];\n}\n\nexport default class NodeCell extends React.Component<NodeCellProps, NodeCellState> {\n    private stage: React.RefObject<Konva.Stage>;\n    private gridArray: React.RefObject<GridArray>;\n    private outputBox: React.RefObject<HTMLDivElement>;\n    private readonly minScale = 0.25;\n    private readonly maxScale = 2;\n\n    constructor(props: NodeCellProps) {\n        super(props);\n\n        this.stage = React.createRef<Konva.Stage>();\n        this.gridArray = React.createRef<GridArray>();\n        this.outputBox = React.createRef<HTMLDivElement>();\n\n        this.state = {\n            stagePos: { x: 0, y: 0 },\n            results: []\n        };\n\n        this.fitToParent = this.fitToParent.bind(this);\n\n        // Zoom\n        this.zoomInView = this.zoomInView.bind(this);\n        this.zoomOutView = this.zoomOutView.bind(this);\n        this.resetView = this.resetView.bind(this);\n        this.onZoom = this.onZoom.bind(this);\n        this.onDeleteNode = this.onDeleteNode.bind(this);\n\n        this.runCell = this.runCell.bind(this);\n    }\n\n    componentDidMount(): void {\n        const { cell } = this.props;\n        NodeExecManager.addCellExec(cell.cellId, this.runCell);\n    }\n\n    fitToParent(width: number, height: number): void {\n        const stage = this.stage.current;\n        if (!stage) {\n            console.error(\"Container or stage could not be found\");\n            return;\n        }\n        \n        const stageObj = stage.getStage();\n        stageObj.width(width - 1);\n        stageObj.height(height);\n\n        const outputBox = this.outputBox.current;\n        if (outputBox) {\n            outputBox.style.width = `${width - 1}px`;\n        }\n\n        this.gridArray.current?.setContainerWidth(width);\n        stageObj.draw();\n    }\n\n    zoomInView(): void {\n        KonvaForm.cancel();\n        const stage = this.stage.current?.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n\n        const newScale = stage.scaleX() * 1.2;\n        if (newScale < this.minScale || newScale > this.maxScale)\n            return;\n\n        stage.scaleX(newScale);\n        stage.scaleY(newScale);\n        \n        this.gridArray.current?.setScale(newScale);\n        stage.batchDraw();\n    }\n\n    zoomOutView(): void {\n        KonvaForm.cancel();\n        const stage = this.stage.current?.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n\n        const newScale = stage.scaleX() / 1.2;\n        if (newScale < this.minScale || newScale > this.maxScale)\n            return;\n            \n        stage.scaleX(newScale);\n        stage.scaleY(newScale);\n        \n        this.gridArray.current?.setScale(newScale);\n        stage.batchDraw();\n    }\n\n    resetView(): void {\n        KonvaForm.cancel();\n        const stage = this.stage.current?.getStage();\n        if (!stage) {\n            console.error(\"The Konva stage could not be found.\");\n            return;\n        }\n\n        stage.scaleX(1);\n        stage.scaleY(1);\n        \n        this.gridArray.current?.setScale(1);\n        stage.position({ x: 0, y: 0 });\n        stage.batchDraw();\n    }\n\n    onZoom(event: KonvaEventObject<WheelEvent>): void {\n        event.evt.preventDefault();\n        const stage = event.target.getStage();\n        if (!stage) {\n            console.error(\"The Konva Stage could not be found.\");\n            return;\n        }\n            \n        const oldScale: number = stage.scaleX();\n        const scaleBy = 1.1;\n        const pointer = stage.getPointerPosition();\n        if (!pointer) {\n            console.error(\"The Konva pointer position could not be found.\");\n            return;\n        }\n\n        const mousePosition = {\n            x: (pointer.x - stage.x()) / oldScale,\n            y: (pointer.y - stage.y()) / oldScale\n        };\n\n        const newScale = event.evt.deltaY < 0 ? oldScale * scaleBy : oldScale / scaleBy;\n        if (newScale < this.minScale || newScale > this.maxScale)\n            return;\n\n        stage.scale({ x: newScale, y: newScale});\n\n        const newPos = {\n            x: pointer.x - mousePosition.x * newScale,\n            y: pointer.y - mousePosition.y * newScale\n        };\n\n        this.gridArray.current?.setScale(newScale);\n        stage.position(newPos);\n        stage.batchDraw();\n    }\n\n    onDeleteNode(event: React.KeyboardEvent<HTMLDivElement>): void {\n        if (event.key === \"Delete\") {\n            const selectedNode = getSelectedNode(store.getState());\n            if (!selectedNode)\n                return;\n\n            store.dispatch(clearSelectedNodeAsync()).then(() => {\n                return store.dispatch(deleteNodeAsync(selectedNode.cellId, selectedNode.nodeId));\n            });\n        }\n    }\n\n    async runCell(): Promise<void> {\n        const { cell } = this.props;\n        NodeExecManager.resetCellOutputs(cell.cellId);\n\n        const nodes = getNodes(store.getState(), cell.cellId);\n\n        // Run all the setter variable nodes in sequence\n        const setters = nodes.filter(node => node.type.endsWith(\"-setter\"));\n        for (const setter of setters) {\n            const output = await NodeExecManager.runFunction(cell.cellId, setter.nodeId);\n            const result = output[\"result\"] as boolean;\n            if (!result) {\n                console.error(`A setter variable node of id '${setter.nodeId}' has failed`);\n                return;\n            }\n        }\n\n        // Run the final output node\n        const outputNodes = nodes.filter(node => node.type.endsWith(\"-output\"));\n        if (outputNodes.length < 0)\n            return;\n\n        const nodeIds = outputNodes.sort((a, b) => {\n            const aOrderIndex = a.properties.findIndex(prop => prop.id === \"outputOrder\");\n            const bOrderIndex = b.properties.findIndex(prop => prop.id === \"outputOrder\");\n\n            const aOrder = aOrderIndex >= 0 ? a.properties[aOrderIndex].value as number : 0;\n            const bOrder = bOrderIndex >= 0 ? b.properties[bOrderIndex].value as number : 0;\n            return aOrder - bOrder;\n        }).map(node => node.nodeId);\n        const results = await NodeExecManager.runFunctions(cell.cellId, nodeIds, true);\n        this.setState({results});\n    }\n\n    render(): JSX.Element {\n        const { cell } = this.props;\n        const { stagePos, results } = this.state;\n        const errors = NodeExecManager.getErrors(cell.cellId);\n        \n        return (\n            <div className=\"flex flex-col w-full\">\n                <div className=\"flex flex-row w-full bg-gray-100 shadow-inner\" style={{minHeight: \"24rem\"}}>\n                    <ResizeObserver onResize={props => {\n                        this.fitToParent(props.offsetWidth, props.offsetHeight);\n                    }}>\n                        <div className=\"relative w-full h-full outline-none\"\n                            onKeyDown={this.onDeleteNode}\n                            tabIndex={0}>\n                            <Stage ref={this.stage}\n                                onWheel={(event: KonvaEventObject<WheelEvent>) => {\n                                    KonvaForm.cancel();\n                                    this.onZoom(event);\n                                }}\n                                onDragStart={(event: KonvaEventObject<DragEvent>) => {\n                                    KonvaForm.cancel();\n                                }}\n                                onDragMove={(event: KonvaEventObject<DragEvent>) => {\n                                    event.target.preventDefault();\n                                    const pos = event.currentTarget.position();\n                                    this.gridArray.current?.setPos(pos.x, pos.y);\n                                }}\n                                onDragEnd={(event: KonvaEventObject<DragEvent>) => {\n                                    event.target.preventDefault();\n                                    const pos = event.currentTarget.position();\n                                    const scale = event.currentTarget.scale();\n                                    this.setState({stagePos: { x: -pos.x / scale.x, y: -pos.y / scale.y }});\n                                }}\n                                onClick={async (event: KonvaEventObject<MouseEvent>) => {\n                                    KonvaForm.cancel();\n                                    await store.dispatch(clearSelectedNodeAsync());\n                                }}\n                                draggable>\n                                <Layer listening={false}>\n                                    <GridArray ref={this.gridArray} />\n                                </Layer>\n                                <Layer id=\"edgesLayer\" ref={ref => {\n                                    if (ref)\n                                        NodeConnectionManager.setLayerRef(ref);\n                                }}>\n                                    {cell.connections.map((conn, index) => (\n                                        <NodeConnection key={conn.connectionId}\n                                            cellId={cell.cellId}\n                                            connection={conn}\n                                            ref={ref => {\n                                                if (ref)\n                                                    NodeConnectionManager.addRef(cell.cellId, conn.connectionId, ref);\n                                            }} />\n                                    ))}\n                                </Layer>\n                                <Layer>\n                                    {cell.nodes.map((value, index) => (\n                                        <Node key={index} cellId={cell.cellId} node={value} />\n                                    ))}\n                                </Layer>\n                                <Layer name=\"movingNodes\"></Layer>\n                            </Stage>\n                            <NodeCellControls onZoomIn={this.zoomInView} onZoomOut={this.zoomOutView} onReset={this.resetView} />\n                            <NodeControls cellId={cell.cellId} stagePos={stagePos} onRunCell={this.runCell}  />\n                            <NodeCellDropZone cellId={cell.cellId} stagePos={stagePos} />\n                        </div>\n                    </ResizeObserver>\n                </div>\n                <div ref={this.outputBox} className=\"\">\n                    {results.length > 0 && (\n                        <div className=\"flex flex-col mt-2 p-2 bg-gray-200 text-gray-900\">\n                            <span className=\"mb-2 text-xs font-medium text-gray-600\">Output</span>\n                            {errors.map((error, index) => (\n                                <div key={`${cell.cellId}-error-${index}`} className=\"mb-2\">\n                                    <ErrorItem error={error} />\n                                </div>\n                            ))}\n                            {results.map((result, index) => (\n                                <div key={`${cell.cellId}-result-${index}`} className=\"mb-4\">\n                                    <ShowResult result={result} />\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n            </div>\n        );\n    }\n}\n\ntype ErrorItemProps = {\n    error: NodeError;\n}\n\nfunction ErrorItem(props: ErrorItemProps): JSX.Element {\n    const { error } = props;\n    const debugStyle = \"bg-indigo-300 text-indigo-700\";\n    const infoStyle = \"bg-gray-300 text-gray-700\";\n    const warningStyle = \"bg-yellow-300 text-yellow-700\";\n    const errorStyle = \"bg-red-300 text-red-700\";\n    \n    let currentStyle = infoStyle;\n    if (error.type === \"debug\")\n        currentStyle = debugStyle;\n    else if (error.type === \"warning\")\n        currentStyle = warningStyle;\n    else if (error.type === \"error\")\n        currentStyle = errorStyle;\n\n    const split = error.message.split(\": \");\n    const source = split[0];\n    const message = split.length > 2 ? split.slice(1).join(\": \") : split[1];\n    return (\n        <div className={twMerge(\"px-3 py-2 text-sm\", currentStyle)}>\n            {error.type === \"debug\" && (\n                <FontAwesomeIcon className=\"mr-1\" icon=\"bug\" />\n            ) ||\n            error.type === \"info\" && (\n                <FontAwesomeIcon className=\"mr-1\" icon=\"info-circle\" />\n            ) ||\n            error.type === \"warning\" && (\n                <FontAwesomeIcon className=\"mr-1\" icon=\"exclamation-triangle\" />\n            ) ||\n            error.type === \"error\" && (\n                <FontAwesomeIcon className=\"mr-1\" icon=\"times-circle\" />\n            )}\n            <span className=\"font-bold mr-2\">{source}:</span>\n            <span className=\"\">{message}</span>\n        </div>\n    );\n}\n\ntype ShowResultProps = {\n    result: PrimitiveTree | undefined\n}\n\nexport function ShowResult(props: ShowResultProps): JSX.Element | null {\n    const { result } = props;\n    if (!result)\n        return null;\n\n    const resultType = result[\"type\"];\n    if (resultType === \"primitive\") {\n        const typedResult = result as PrimitiveOutput;\n        return (\n            <span className=\"pl-3 text-blue-500\">{`${typedResult.output}`}</span>\n        );\n    } else if (resultType === \"chart\") {\n        const typedResult = result as ChartOutput;\n        const colors = [\n            Colors.Red[500],\n            Colors.Blue[500],\n            Colors.Orange[500],\n            Colors.Indigo[500],\n            Colors.Yellow[500],\n            Colors.Purple[500],\n            Colors.Green[500],\n            Colors.Pink[500],\n            Colors.Teal[500]\n        ];\n\n        return (\n            <>\n                <div style={{maxWidth: \"40rem\"}}>\n                    {typedResult.chartType.endsWith(\"-line\") && (\n                        <Line data={{\n                            labels: typedResult.labels,\n                            datasets: typedResult.data.map((arr, index) => {\n                                return {\n                                    label: typedResult.dataLabels[index],\n                                    data: arr as number[],\n                                    fill: typedResult.chartType === \"stacked-line\",\n                                    backgroundColor: Colors.rgbaToStr(Colors.hexToRGBA(colors[index % colors.length], 0.4)),\n                                    borderColor: colors[index % colors.length],\n                                    borderWidth: 1\n                                };\n                            })\n                        }} \n                        options={{\n                            plugins: {\n                                title: {\n                                    display: typedResult.title !== \"\",\n                                    text: typedResult.title\n                                }\n                            },\n                            scales: {\n                                x: {\n                                    ticks: {\n                                        precision: 2\n                                    }\n                                },\n                                y: {\n                                    beginAtZero: true,\n                                    stacked: typedResult.chartType === \"stacked-line\",\n                                    ticks: {\n                                        precision: 2\n                                    }\n                                }\n                            },\n                            elements: {\n                                line: {\n                                    tension: typedResult.options?.isSmooth ? 0.3 : 0\n                                }\n                            }\n                        }} />\n                    ) ||\n                    typedResult.chartType.endsWith(\"-bar\") && (\n                        <Bar data={{\n                            labels: typedResult.labels,\n                            datasets: typedResult.data.map((arr, index) => {\n                                return {\n                                    label: typedResult.dataLabels[index],\n                                    data: arr as number[],\n                                    backgroundColor: Colors.rgbaToStr(Colors.hexToRGBA(colors[index % colors.length], 0.4)),\n                                    borderColor: colors[index % colors.length],\n                                    borderWidth: 1,\n                                    borderRadius: 4,\n                                    stack: \"Stack 0\"\n                                };\n                            })\n                        }} \n                        options={{\n                            indexAxis: typedResult.chartType === \"horizontal-bar\" ? \"y\" : \"x\",\n                            plugins: {\n                                title: {\n                                    display: typedResult.title !== \"\",\n                                    text: typedResult.title\n                                }\n                            },\n                            scales: {\n                                y: {\n                                    beginAtZero: true,\n                                    stacked: typedResult.chartType === \"stacked-bar\"\n                                }\n                            }\n                        }} />\n                    ) || \n                    typedResult.chartType.endsWith(\"-plot\") && (\n                        <Chart type={typedResult.chartType === \"violin-plot\" ? \"violin\" : \"boxplot\"}\n                            data={{\n                                labels: typedResult.labels,\n                                datasets: typedResult.data.map((arr, index) => {\n                                    return {\n                                        label: typedResult.dataLabels[index],\n                                        data: arr as number[][],\n                                        backgroundColor: Colors.rgbaToStr(Colors.hexToRGBA(colors[index % colors.length], 0.4)),\n                                        borderColor: colors[index % colors.length],\n                                        borderWidth: 1,\n                                        borderRadius: 4,\n                                        itemRadius: 2,\n                                        outlierStyle: \"triangle\"\n                                    };\n                                })\n                            }}\n                            options={{\n                                plugins: {\n                                    title: {\n                                        display: typedResult.title !== \"\",\n                                        text: typedResult.title\n                                    }\n                                },\n                                scales: {\n                                    y: {\n                                        beginAtZero: true\n                                    }\n                                }\n                            }}\n                        />\n                    )}\n                </div>\n                {/*\n                <span className=\"pl-3\">{`Chart Type: ${typedResult.chartType}, x: '${typedResult.x}', y: '${typedResult.y}'`}</span>\n                */}\n            </>\n        );\n    } else if (resultType === \"dataframe\") {\n        const typedResult = result as DataFrameOutput;\n        const columns = typedResult.columns;\n        const indexes = typedResult.indexes;\n        const values = typedResult.values;\n        return (\n            <>\n                <Scrollbars autoHeight autoHeightMax={\"32rem\"}>\n                    <div className=\"pl-3\">\n                        <table>\n                            <thead>\n                                <tr>\n                                    {indexes.length > 0 && (\n                                        <th></th>\n                                    )}\n                                    {columns.map((col, index) => (\n                                        <th key={`th-${index}-${col}`}>{col}</th>\n                                    ))}\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {values.map((row, index) =>(\n                                    <tr key={`tr-${index}`}>\n                                        <>\n                                            {indexes.length > 0 && (\n                                                <td>{indexes[index]}</td>\n                                            )}\n                                            {row.map((val, index2) => (\n                                                <React.Fragment key={`td-${index}-${index2}`}>\n                                                    {(val === \"\" || val === \"null\") && (\n                                                        <td className=\"text-red-500\">\n                                                            null\n                                                        </td>\n                                                    ) || \n                                                    val !== \"\" && (\n                                                        <td>{val}</td>\n                                                    )}\n                                                </React.Fragment>\n                                            ))}\n                                        </>\n                                    </tr>\n                                ))}\n                            </tbody>\n                        </table>\n                    </div>\n                </Scrollbars>\n            </>\n        );\n    }\n\n    return null;\n}","import React from \"react\";\nimport { CellObject } from \"../db/models\";\nimport MarkdownCell from \"./MarkdownCell\";\nimport NodeCell from \"./NodeCell\";\nimport Dropdown from \"react-overlays/Dropdown\";\nimport { CancelButton, ContextMenuItem, CustomModal, SecondaryButton } from \"./CustomComponents\";\nimport store from \"../app/store\";\nimport { deleteCellAsync, setIsDraggingCellAsync, updateCellTypeAsync } from \"../features/notebooks/notebookSlice\";\nimport InsertCellDropZone from \"./InsertCellDropZone\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\ntype ParentCellProps = {\n    cell: CellObject;\n}\n\ntype ParentCellState = {\n    isHover: boolean;\n    isOptions: boolean;\n    isDelete: boolean;\n}\n\nexport default class ParentCell extends React.Component<ParentCellProps, ParentCellState> {\n    constructor(props: ParentCellProps) {\n        super(props);\n\n        this.state = {\n            isHover: false,\n            isOptions: false,\n            isDelete: false\n        };\n\n        this.changeCellType = this.changeCellType.bind(this);\n\n        this.showDeleteModal = this.showDeleteModal.bind(this);\n        this.hideDeleteModal = this.hideDeleteModal.bind(this);\n        this.deleteCell = this.deleteCell.bind(this);\n\n        this.onDragStart = this.onDragStart.bind(this);\n    }\n\n    async changeCellType(type: \"node\" | \"markdown\"): Promise<void> {\n        const { cell } = this.props;\n\n        await store.dispatch(updateCellTypeAsync(cell.cellId, type));\n        this.setState({isOptions: false});\n    }\n\n    showDeleteModal(): void {\n        this.setState({isDelete: true, isOptions: false});\n    }\n\n    hideDeleteModal(): void {\n        this.setState({isDelete: false});\n    }\n\n    async deleteCell(): Promise<void> {\n        const { cell } = this.props;\n\n        this.setState({isOptions: false});\n        await store.dispatch(deleteCellAsync(cell.cellId));\n        this.hideDeleteModal();\n    }\n\n    onDragStart(event: React.DragEvent<HTMLDivElement>): void {\n        const { cell } = this.props;\n        event.stopPropagation();\n\n        const data = { cellId: cell.cellId };\n        event.dataTransfer.setData(\"text/plain\", JSON.stringify(data));\n    }\n\n    render(): JSX.Element {\n        const { cell } = this.props;\n        const { isHover, isOptions, isDelete } = this.state;\n        return (\n            <div className=\"relative\">\n                <div className=\"w-full h-full pl-6 pr-6 py-2 flex flex-row hover:bg-gray-200\"\n                    onMouseEnter={() => this.setState({isHover: true})}\n                    onMouseLeave={() => this.setState({isHover: false, isOptions: false})}>\n                    {isHover && (\n                        <div className=\"flex flex-col w-6\" style={{ minWidth: \"1.5rem\" }}>\n                            <div className=\"transition duration-200 ease-in-out flex items-center text-md p-1 mb-2 bg-gray-700 text-gray-200 hover:bg-gray-600 hover:text-gray-100 cursor-move\"\n                                onDragStart={async (event) => {\n                                    this.onDragStart(event);\n                                    await store.dispatch(setIsDraggingCellAsync(true));\n                                }}\n                                onDragEnd={async () => await store.dispatch(setIsDraggingCellAsync(false))}\n                                draggable>\n                                <FontAwesomeIcon icon=\"arrows-alt\" />\n                            </div>\n                            <Dropdown show={isOptions}\n                                onToggle={next => this.setState({isOptions: next})}>\n                                <div className=\"relative\">\n                                    <Dropdown.Toggle>\n                                        {(props, meta) => (\n                                            <SecondaryButton icon=\"ellipsis-v\" className=\"w-full flex items-center justify-center h-6 text-sm\"\n                                                onClick={event => meta.toggle(!isOptions, event)} />\n                                        )}\n                                    </Dropdown.Toggle>\n                                    <Dropdown.Menu show={isOptions} flip={true}>\n                                        {(props) => (\n                                            <>\n                                                {isOptions && (\n                                                    <div className=\"absolute z-20 shadow-lg\" style={{width: `${cell.type === \"node\" ? \"11rem\" : \"9rem\"}`}}>\n                                                        <div onClick={async () => await this.changeCellType(cell.type === \"node\" ? \"markdown\" : \"node\")}>\n                                                            <ContextMenuItem text={`Change To ${cell.type === \"node\" ? \"Markdown\" : \"Node\"}`}\n                                                                icon=\"exchange-alt\"\n                                                                className=\"bg-gray-600 text-gray-100 hover:bg-gray-800 hover:text-gray-200\" />\n                                                        </div>\n                                                        <div onClick={this.showDeleteModal}>\n                                                            <ContextMenuItem text=\"Delete\"\n                                                                icon=\"trash-alt\"\n                                                                className=\"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200\" />\n                                                        </div>\n                                                    </div>\n                                                ) ||\n                                                !isOptions && (\n                                                    <div className=\"\"></div>\n                                                )}\n                                            </>\n                                        )}\n                                    </Dropdown.Menu>\n                                </div>\n                            </Dropdown>\n                        </div>\n                    ) ||\n                    !isHover && (\n                        <div className=\"w-6 h-full\" style={{minWidth: \"1.5rem\"}}></div>\n                    )}\n                    {cell.type === \"markdown\" && (\n                        <MarkdownCell key={`${cell.cellId}-${cell.type}`} cell={cell} />\n                    ) ||\n                    cell.type === \"node\" && (\n                        <NodeCell key={`${cell.cellId}-${cell.type}`} cell={cell} />\n                    )}\n                    <CustomModal show={isDelete}\n                        onHide={() => this.hideDeleteModal()}>\n                        <div className=\"p-4 bg-gray-100 w-64\">\n                            <div className=\"mb-4 flex flex-row\">\n                                <h2 className=\"mr-1 text-lg font-medium text-red-600\">Delete Cell?</h2>\n                            </div>\n                            <div className=\"mb-4 w-full flex items-center\">\n                                <span className=\"text-center\">Are you sure you want to delete this cell? This action is <span className=\"text-red-600 font-bold\">irreversible.</span></span>\n                            </div>\n                            <div className=\"flex flex-row-reverse\">\n                                <CancelButton text=\"Delete\"\n                                    className=\"px-2 py-1 ml-2 text-xs\"\n                                    onClick={this.deleteCell} />\n                                <SecondaryButton text=\"Cancel\"\n                                    className=\"px-2 py-1 text-xs\"\n                                    onClick={() => this.hideDeleteModal()} />\n                            </div>\n                        </div>\n                    </CustomModal>\n                </div>\n                <InsertCellDropZone cellId={cell.cellId} />\n            </div>\n        );\n    }\n}","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport { connect } from \"react-redux\";\nimport store, { RootState } from \"../app/store\";\nimport { CellObject, NotebookObject } from \"../db/models\";\nimport { clearSelectedNodeTypeAsync, createNewCellAsync, openNotebookAsync } from \"../features/notebooks/notebookSlice\";\nimport CodeMirrorManager from \"../managers/CodeMirrorManager\";\nimport NodeExecManager from \"../managers/NodeExecManager\";\nimport NodeTypeManager from \"../managers/NodeTypeManager\";\nimport { CustomModal, OKButton, PrimaryButton } from \"./CustomComponents\";\nimport InsertCellDropZone from \"./InsertCellDropZone\";\nimport ParentCell from \"./ParentCell\";\n\ntype NotebookProps = {\n    id: string;\n    notebook: NotebookObject | undefined;\n    cells: CellObject[] | undefined;\n    selectedNodeTypeHelp: string | undefined;\n    isDraggingCell: boolean;\n}\n\ntype NotebookState = {\n\n}\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        notebook: state.notebook.currentNotebook,\n        cells: state.notebook.currentNotebook?.cells,\n        selectedNodeTypeHelp: state.notebook.selectedNodeTypeHelp,\n        isDraggingCell: state.notebook.isDraggingCell\n    };\n};\n\nclass NotebookInner extends React.Component<NotebookProps, NotebookState> {\n    private scrollbarRef: React.RefObject<Scrollbars>;\n    constructor(props: NotebookProps) {\n        super(props);\n\n        this.scrollbarRef = React.createRef<Scrollbars>();\n\n        this.state = {\n            \n        };\n\n        this.updateNotebook = this.updateNotebook.bind(this);\n\n        this.createNodeCell = this.createNodeCell.bind(this);\n        this.createMarkdownCell = this.createMarkdownCell.bind(this);\n\n        this.cellsToLinkedList = this.cellsToLinkedList.bind(this);\n    }\n\n    async componentDidMount(): Promise<void> {\n        CodeMirrorManager.reset();\n        await this.updateNotebook();\n    }\n\n    async componentDidUpdate(prevProps: NotebookProps, prevState: NotebookState): Promise<void> {\n        if (prevProps.id !== this.props.id) {\n            await this.updateNotebook();\n        }\n    }\n\n    async updateNotebook(): Promise<void> {\n        const { id } = this.props;\n        await store.dispatch(openNotebookAsync(id));\n    }\n\n    async createNodeCell(): Promise<void> {\n        await store.dispatch(createNewCellAsync(\"node\"));\n    }\n\n    async createMarkdownCell(): Promise<void> {\n        await store.dispatch(createNewCellAsync(\"markdown\"));\n    }\n\n    onHoverScroller(direction: \"up\" | \"down\") {\n        const scrollbar = this.scrollbarRef.current;\n        if (!scrollbar)\n            return;\n\n        console.log(direction);\n    }\n\n    cellsToLinkedList(cells: CellObject[]): CellObject[] {\n        // Recreate the linked list as an array\n        const linkedCells: CellObject[] = [];\n        let currentKey: string | undefined = \"\";\n        for(let i = 0; i < cells.length; i++) {\n            const currentCell = cells.find(cell => cell.nextCell === currentKey);\n            if (!currentCell)\n                return []; // Some cells are not linked\n\n            linkedCells.push(currentCell);\n            currentKey = currentCell.cellId;\n        }\n        linkedCells.reverse();\n        return linkedCells;\n    }\n\n    render(): JSX.Element | null {\n        const { notebook, cells, selectedNodeTypeHelp, isDraggingCell } = this.props;\n        if (!notebook || !cells) {\n            return null;\n        }\n        \n        const linkedCells = this.cellsToLinkedList(cells);\n        const selectedNodeType = NodeTypeManager.getType(selectedNodeTypeHelp ?? \"\");\n        return (\n            <div className=\"w-full h-full\">\n                <div className=\"flex flex-row p-2\"\n                    style={{height: \"5%\"}}>\n                    <OKButton icon=\"play\"\n                        text=\"Run All\"\n                        className=\"text-xs px-2 py-1\"\n                        onClick={async () => await NodeExecManager.runCells(notebook.notebookId)} />\n                </div>\n                <div className=\"relative pb-4\"\n                    style={{height: \"95%\"}}>\n                    <Scrollbars ref={this.scrollbarRef}>\n                        <div className=\"pt-2\">\n                            <div className=\"relative w-full z-50\">\n                                <InsertCellDropZone cellId=\"\" />\n                            </div>\n                            {linkedCells.map((cell, index) => (\n                                <div key={`cell-${cell.cellId}`} className=\"w-full\">\n                                    <ParentCell cell={cell} />\n                                </div>\n                            ))}\n                            <div className=\"mt-4 flex flex-row justify-center\">\n                                <PrimaryButton icon=\"plus\" text=\"Create Node Cell\"\n                                    className=\"text-sm px-3 py-2 mr-4\"\n                                    onClick={this.createNodeCell} />\n                                <OKButton icon=\"plus\" text=\"Create Markdown Cell\"\n                                    className=\"text-sm px-3 py-2\"\n                                    onClick={this.createMarkdownCell} />\n                            </div>\n                            <div className=\"w-full\" style={{height: \"24rem\"}}></div>\n                        </div>\n                    </Scrollbars>\n                    {isDraggingCell && (\n                        <>\n                            <div className=\"pointer-events-none absolute top-0 left-0 w-12 py-1 flex justify-center text-lg bg-gray-900 text-gray-100 opacity-50\">\n                                <FontAwesomeIcon icon=\"caret-up\" />\n                            </div>\n                            <div className=\"pointer-events-none absolute left-0 w-12 py-1 flex justify-center text-lg bg-gray-900 text-gray-100 opacity-50\"\n                                style={{bottom: \"1rem\"}}>\n                                <FontAwesomeIcon icon=\"caret-down\" />\n                            </div>\n                        </>\n                    )}\n                </div>\n\n                <CustomModal show={selectedNodeType != null}\n                    onHide={() => clearSelectedNodeTypeAsync()}>\n                    <div className=\"relative flex flex-col p-8 bg-gray-100\"\n                        style={{\n                            minWidth: \"32rem\",\n                            width: \"40%\",\n                            maxHeight: \"80%\",\n                            height: \"80%\"\n                        }}>\n                        <div className=\"mb-4 flex flex-col\">\n                            <h2 className=\"mb-2 text-lg font-bold text-gray-900\">{selectedNodeType?.name}</h2>\n                            <p className=\"pl-2 text-sm text-gray-700\">{selectedNodeType?.description}</p>\n                        </div>\n                        <Scrollbars className=\"mb-4\" autoHeight autoHeightMax=\"100%\">\n                            {selectedNodeType?.inputSlots && selectedNodeType?.inputSlots.length > 0 && (\n                                <div className=\"mb-4\">\n                                    <h4 className=\"mb-2 text-md font-bold text-gray-900\">Inputs</h4>\n                                    <table className=\"\">\n                                        <thead>\n                                            <tr>\n                                                <th>Name</th>\n                                                <th>Type</th>\n                                                <th>Description</th>\n                                                <th>Default Value</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            {selectedNodeType?.inputSlots.map(input => (\n                                                <tr key={`input-${input.id}`}>\n                                                    <td className=\"pl-2 text-sm font-bold text-gray-700\">{input.id}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{input.type.replaceAll(\"|\", \"or\")}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{input.description}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{`${input.defaultValue == null ? \"\" : input.defaultValue}`}</td>\n                                                </tr>\n                                            ))}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            )}\n                            {selectedNodeType?.outputSlots && selectedNodeType?.outputSlots.length > 0 && (\n                                <div className=\"mb-4\">\n                                    <h4 className=\"mb-2 text-md font-bold text-gray-900\">Outputs</h4>\n                                    <table className=\"\">\n                                        <thead>\n                                            <tr>\n                                                <th>Name</th>\n                                                <th>Type</th>\n                                                <th>Description</th>\n                                                <th>Default Value</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            {selectedNodeType?.outputSlots.map(output => (\n                                                <tr key={`output-${output.id}`}>\n                                                    <td className=\"pl-2 text-sm font-bold text-gray-700\">{output.id}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{output.type.replaceAll(\"|\", \"or\")}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{output.description}</td>\n                                                    <td className=\"pl-2 text-sm text-gray-700\">{`${output.defaultValue == null ? \"\" : output.defaultValue}`}</td>\n                                                </tr>\n                                            ))}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            )}\n                            {selectedNodeType?.properties && selectedNodeType?.properties.length > 0 && (\n                                <div className=\"mb-4\">\n                                    <h4 className=\"mb-2 text-md font-bold text-gray-900\">Properties</h4>\n                                    <table className=\"\">\n                                        <thead>\n                                            <tr>\n                                                <th>Name</th>\n                                                <th>Type</th>\n                                                <th>Description</th>\n                                                <th>Default Value</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            {selectedNodeType?.properties.map(property => {\n                                                if (!property.isHidden) {\n                                                    return (\n                                                        <tr key={`properties-${property.id}`}>\n                                                            <td className=\"pl-2 text-sm font-bold text-gray-700\">{property.id}</td>\n                                                            <td className=\"pl-2 text-sm text-gray-700\">{property.type.replaceAll(\"|\", \"or\")}</td>\n                                                            <td className=\"pl-2 text-sm text-gray-700\">{property.description}</td>\n                                                            <td className=\"pl-2 text-sm text-gray-700\">{`${property.defaultValue == null ? \"\" : property.defaultValue}`}</td>\n                                                        </tr>\n                                                    );\n                                                }\n                                                return null;\n                                            })}\n                                        </tbody>\n                                    </table>\n                                </div>\n                            )}\n                        </Scrollbars>\n                        <div className=\"mt-auto flex flex-row-reverse\">\n                            <PrimaryButton text=\"Done\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={async () => await store.dispatch(clearSelectedNodeTypeAsync())} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </div>\n        );\n    }\n}\n\nconst Notebook = connect(mapStateToProps)(NotebookInner);\nexport default Notebook;","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { DataFrame } from \"danfojs\";\nimport React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport Dropdown from \"react-overlays/esm/Dropdown\";\nimport store from \"../app/store\";\nimport { CSVSource } from \"../data/DataService\";\nimport { DataSourceObject } from \"../db/models\";\nimport { createNewDataSourceAsync, deleteDataSourceAsync, setIsDraggingSourceAsync, updateDataSourceNameAsync } from \"../features/notebooks/notebookSlice\";\nimport { DataFrameOutput } from \"../types\";\nimport { SourceType, SourceTypes } from \"../utils/Types\";\nimport { OKButton, CustomModal, FileButton, PrimaryButton, SecondaryButton, Input, ContextMenuItem, CancelButton } from \"./CustomComponents\";\nimport { ShowResult } from \"./NodeCell\";\n\ntype SourceItemProps = {\n    source: DataSourceObject;\n}\n\ntype SourceItemState = {\n    isOptions: boolean;\n    isRename: boolean;\n    renameValue: string;\n    isDelete: boolean;\n    isPreview: boolean;\n    preview: DataFrameOutput;\n}\n\nclass SourceItem extends React.Component<SourceItemProps, SourceItemState> {\n    constructor(props: SourceItemProps) {\n        super(props);\n\n        this.state = {\n            isOptions: false,\n            isRename: false,\n            renameValue: \"\",\n            isDelete: false,\n            isPreview: false,\n            preview: {\n                type: \"dataframe\",\n                outputOrder: 0,\n                columns: [],\n                indexes: [],\n                values: []\n            }\n        };\n\n        this.onDragSourceStart = this.onDragSourceStart.bind(this);\n\n        this.showRenameModal = this.showRenameModal.bind(this);\n        this.hideRenameModal = this.hideRenameModal.bind(this);\n        this.renameSource = this.renameSource.bind(this);\n\n        this.showDeleteModal = this.showDeleteModal.bind(this);\n        this.hideDeleteModal = this.hideDeleteModal.bind(this);\n        this.deleteSource = this.deleteSource.bind(this);\n\n        this.showPreviewModal = this.showPreviewModal.bind(this);\n        this.hidePreviewModal = this.hidePreviewModal.bind(this);\n    }\n\n    async onDragSourceStart(event: React.DragEvent<HTMLDivElement>, source: DataSourceObject): Promise<void> {\n        event.stopPropagation();\n        await store.dispatch(setIsDraggingSourceAsync(true));\n\n        const data = { dataType: \"source\", source };\n        event.dataTransfer.setData(\"text/plain\", JSON.stringify(data));\n    }\n\n    showRenameModal(): void {\n        this.setState({isRename: true, isOptions: false, renameValue: \"\"});\n    }\n\n    hideRenameModal(): void {\n        this.setState({isRename: false});\n    }\n\n    async renameSource(): Promise<void> {\n        const { source } = this.props;\n        const { renameValue } = this.state;\n        if (renameValue !== \"\") {\n            await store.dispatch(updateDataSourceNameAsync(source.sourceId, renameValue));\n            this.hideRenameModal();\n        }\n    }\n\n    showDeleteModal(): void {\n        this.setState({isDelete: true, isOptions: false});\n    }\n\n    hideDeleteModal(): void {\n        this.setState({isDelete: false});\n    }\n\n    async deleteSource(): Promise<void> {\n        const { source } = this.props;\n        this.setState({isOptions: false});\n        await store.dispatch(deleteDataSourceAsync(source.sourceId));\n        this.hideDeleteModal();\n    }\n\n    showPreviewModal(): void {\n        const { source } = this.props;\n        const output: DataFrameOutput = {\n            type: \"dataframe\",\n            outputOrder: 0,\n            columns: [],\n            indexes: [],\n            values: []\n        };\n\n        const rowCount = 0;\n        const csv = new CSVSource(source.sourceId);\n        csv.loadToDf().then(result => {\n            if (!result)\n                throw new ReferenceError(\"Data Source could not be loaded.\");\n\n            const df = csv.df as DataFrame;\n            const head = (df.shape[0] >= rowCount && rowCount > 0) ? df.head(rowCount) : df;\n            let values: string[][];\n            if (head.columns.length > 1) {\n                values = head.values.map(value1 => {\n                    const val1 = value1 as string[] | (string | number | boolean)[] | number[] | boolean[];\n                    return val1.map(value2 => `${value2}`);\n                });\n            } else {\n                values = head.values.map(value => {\n                    const val = value as string | number | boolean;\n                    return [`${val}`];\n                });\n            }\n\n            output.columns = df.columns,\n            output.values = values;\n    \n            this.setState({isPreview: true, isOptions: false, preview: output});\n        });\n    }\n\n    hidePreviewModal(): void {\n        const output: DataFrameOutput = {\n            type: \"dataframe\",\n            outputOrder: 0,\n            columns: [],\n            indexes: [],\n            values: []\n        };\n\n        this.setState({isPreview: false, preview: output});\n    }\n\n    render(): JSX.Element {\n        const { source } = this.props;\n        const { isOptions, isRename, renameValue, isDelete, isPreview, preview } = this.state;\n        return (\n            <>\n                <div className=\"transition duration-200 ease-in-out flex flex-row items-center justify-between p-2 text-sm text-gray-200 hover:bg-indigo-400 hover:text-indigo-100 select-none\"\n                    draggable\n                    onDragStart={async event => await this.onDragSourceStart(event, source)}\n                    onDragEnd={async () => await store.dispatch(setIsDraggingSourceAsync(false))}\n                    onMouseLeave={() => this.setState({isOptions: false})}>\n                    <span className=\"\">{source.name}</span>\n                    <div className=\"flex flex-row\">\n                        <div className=\"transition duration-200 ease-in-out flex items-center text-sm px-1 mr-2 bg-transparent hover:bg-indigo-600 cursor-move\">\n                            <FontAwesomeIcon icon=\"arrows-alt\" />\n                        </div>\n                        <Dropdown show={isOptions}\n                            onToggle={next => this.setState({isOptions: next})}>\n                            <div className=\"relative flex flex-row-reverse\">\n                                <Dropdown.Toggle>\n                                    {(props, meta) => (\n                                        <SecondaryButton icon=\"ellipsis-v\" \n                                            className=\"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600\"\n                                            onClick={event => meta.toggle(!isOptions, event)} />\n                                    )}\n                                </Dropdown.Toggle>\n                                <Dropdown.Menu show={isOptions} flip={true}>\n                                    {(props) => (\n                                        <>\n                                            {isOptions && (\n                                                <div className=\"absolute z-20 shadow-lg w-32\" style={{top: \"1.5rem\"}}>\n                                                    <div onClick={this.showPreviewModal}>\n                                                        <ContextMenuItem text=\"Preview\"\n                                                            icon=\"search\" />\n                                                    </div>\n                                                    <div onClick={this.showRenameModal}>\n                                                        <ContextMenuItem text=\"Change Name\"\n                                                            icon=\"edit\" />\n                                                    </div>\n                                                    <div onClick={this.showDeleteModal}>\n                                                        <ContextMenuItem text=\"Delete\"\n                                                            icon=\"trash-alt\"\n                                                            className=\"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200\" />\n                                                    </div>\n                                                </div>\n                                            ) || \n                                            !isOptions && (\n                                                <div className=\"\"></div>\n                                            )}\n                                        </>\n                                    )}\n                                </Dropdown.Menu>\n                            </div>\n                        </Dropdown>\n                    </div>\n                </div>\n\n                <CustomModal show={isRename}\n                    onHide={() => this.hideRenameModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Preview</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{source.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={renameValue} \n                                label=\"Name\" \n                                placeholder=\"Enter source name...\"\n                                onChange={event => this.setState({renameValue: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.renameSource} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideRenameModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n                \n                <CustomModal show={isPreview}\n                    onHide={() => this.hidePreviewModal()}>\n                    <div className=\"p-4 bg-gray-100\" \n                        style={{width: \"75%\"}}>\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Preview</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{source.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <ShowResult result={preview} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <SecondaryButton text=\"Close\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hidePreviewModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n\n                <CustomModal show={isDelete}\n                    onHide={() => this.hideDeleteModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium text-red-600\">Delete</h2>\n                            <h2 className=\"text-lg font-bold text-red-600\">&apos;{source.name}&apos;?</h2>\n                        </div>\n                        <div className=\"mb-4 w-full flex items-center\">\n                            <span className=\"text-center\">Are you sure you want to delete the source &apos;{source.name}&apos;? This action is <span className=\"text-red-600 font-bold\">irreversible</span> and might break any nodes using this source.</span>\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <CancelButton text=\"Delete\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.deleteSource} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideDeleteModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}\n\ntype SourceSidebarProps = {\n    sources?: DataSourceObject[];\n}\n\ntype SourceSidebarState = {\n    isAddingSource: boolean;\n    sourceName: string;\n    sourceType: SourceType | undefined;\n    sourceFile: File | undefined;\n}\n\nexport default class SourceSidebar extends React.Component<SourceSidebarProps, SourceSidebarState> {\n    constructor(props: SourceSidebarProps) {\n        super(props);\n\n        this.state = {\n            isAddingSource: false,\n            sourceName: \"\",\n            sourceType: undefined,\n            sourceFile: undefined\n        };\n\n        this.showAddSourceModal = this.showAddSourceModal.bind(this);\n        this.hideAddSourceModal = this.hideAddSourceModal.bind(this);\n\n        this.onChooseCSVFile = this.onChooseCSVFile.bind(this);\n        this.onAddSource = this.onAddSource.bind(this);\n    }\n\n    showAddSourceModal(): void {\n        this.setState({isAddingSource: true, sourceName: \"\", sourceType: undefined, sourceFile: undefined});\n    }\n\n    hideAddSourceModal(): void {\n        this.setState({isAddingSource: false});\n    }\n\n    // TODO: Should be done as a dropdown\n    async onChooseCSVFile(file: File): Promise<void> {\n        this.setState({ sourceType: \"CSV\", sourceFile: file });\n    }\n\n    async onAddSource(): Promise<void> {\n        const { sourceName, sourceType, sourceFile } = this.state;\n        if (!sourceName || !sourceType || !sourceFile)\n            return;\n\n        const source = await store.dispatch(createNewDataSourceAsync(sourceName, sourceType));\n        if (!source)\n            return;\n\n        if (sourceType === \"CSV\") {\n            const csv = new CSVSource(source.sourceId, sourceFile);\n            const loadResult = await csv.loadToDf();\n            const saveResult = loadResult ? await csv.saveToDB() : false;\n        }\n\n        this.hideAddSourceModal();\n    }\n\n    render(): JSX.Element {\n        const { sources } = this.props;\n        const { isAddingSource, sourceName, sourceFile } = this.state;\n\n        return (\n            <>\n                <div className=\"w-48 h-full flex flex-col bg-gray-600 justify-center\">\n                    <div className=\"p-2 text-md font-medium text-gray-300\">Data Sources</div>\n                    <Scrollbars>\n                        <div className=\"grid gap-2\">\n                            <div className=\"grid gap-2\">\n                                {sources && sources.map((source, index) => (\n                                    <SourceItem key={index} source={source} />\n                                ))}\n                            </div>\n                            <OKButton icon=\"plus\" text=\"Add Source\"\n                                className=\"text-xs w-full\"\n                                onClick={this.showAddSourceModal} />\n                        </div>\n                    </Scrollbars>\n                </div>\n                \n                <CustomModal show={isAddingSource}\n                    onHide={this.hideAddSourceModal}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Add Data Source</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={sourceName}\n                                label=\"Name\"\n                                placeholder=\"Enter source name...\"\n                                onChange={event => this.setState({sourceName: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-col mb-4\">\n                            {sourceFile && (\n                                <div className=\"flex flex-col mb-2\">\n                                    <span className=\"text-xs text-gray-600\">File</span>\n                                    <span className=\"px-2 text-sm\">{sourceFile?.name}</span>\n                                </div>\n                            )}\n                            <FileButton icon=\"plus\" text=\"Add CSV...\" accept=\".csv\"\n                                className=\"text-xs w-full\"\n                                onChange={this.onChooseCSVFile} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\"\n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.onAddSource} />\n                            <SecondaryButton text=\"Cancel\"\n                                className=\"px-2 py-1 text-xs\"\n                                onClick={this.hideAddSourceModal} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}","import cuid from \"cuid\";\nimport React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport Dropdown from \"react-overlays/esm/Dropdown\";\nimport { Link } from \"react-router-dom\";\nimport { twMerge } from \"tailwind-merge\";\nimport store from \"../app/store\";\nimport { NotebookObject } from \"../db/models\";\nimport { updateNotebookNameAsync, closeNotebookAsync, deleteNotebookAsync, createNewNotebookAsync } from \"../features/notebooks/notebookSlice\";\nimport { ContextMenuItem, CustomModal, PrimaryButton, SecondaryButton, CancelButton, Input, OKButton } from \"./CustomComponents\";\n\ntype NotebookItemProps = {\n    notebookId: string;\n    text: string;\n    className?: string;\n}\n\ntype NotebookItemState = {\n    id: string;\n    isOptions: boolean;\n    isRename: boolean;\n    isDelete: boolean;\n    renameValue: string;\n}\n\nclass NotebookItem extends React.Component<NotebookItemProps, NotebookItemState> {\n    constructor(props: NotebookItemProps) {\n        super(props);\n\n        this.state = {\n            id: cuid(),\n            isOptions: false,\n            isRename: false,\n            isDelete: false,\n            renameValue: \"\"\n        };\n\n        this.showRenameModal = this.showRenameModal.bind(this);\n        this.hideRenameModal = this.hideRenameModal.bind(this);\n        this.renameNotebook = this.renameNotebook.bind(this);\n\n        this.showDeleteModal = this.showDeleteModal.bind(this);\n        this.hideDeleteModal = this.hideDeleteModal.bind(this);\n        this.deleteNotebook = this.deleteNotebook.bind(this);\n    }\n\n    showRenameModal(): void {\n        this.setState({isRename: true, isOptions: false, renameValue: \"\"});\n    }\n\n    hideRenameModal(): void {\n        this.setState({isRename: false});\n    }\n\n    showDeleteModal(): void {\n        this.setState({isDelete: true, isOptions: false});\n    }\n\n    hideDeleteModal(): void {\n        this.setState({isDelete: false});\n    }\n\n    async renameNotebook(): Promise<void> {\n        const { notebookId } = this.props;\n        const { renameValue } = this.state;\n        if (renameValue !== \"\") {\n            await store.dispatch(updateNotebookNameAsync(notebookId, renameValue));\n            this.hideRenameModal();\n        }\n    }\n\n    async deleteNotebook(): Promise<void> {\n        const { notebookId } = this.props;\n        \n        await store.dispatch(closeNotebookAsync());\n        await store.dispatch(deleteNotebookAsync(notebookId));\n        this.hideDeleteModal();\n    }\n\n    render() {\n        const { notebookId, text, className } = this.props;\n        const { id, isOptions, isRename, renameValue, isDelete } = this.state;\n        return (\n            <>\n                <Link className={twMerge(\"transition duration-200 ease-in-out p-2 text-sm flex items-center justify-between w-full bg-gray-600 text-gray-200 hover:bg-indigo-400 hover:text-indigo-100\", className)}\n                    to={`/main/${notebookId}`}\n                    onMouseLeave={() => this.setState({isOptions: false})}>\n                    <span className=\"\">{text}</span>\n                    <div className=\"flex flex-row\">\n                        <Dropdown show={isOptions}\n                            onToggle={next => this.setState({isOptions: next})}>\n                            <div className=\"relative flex flex-row-reverse\">\n                                <Dropdown.Toggle>\n                                    {(props, meta) => (\n                                        <SecondaryButton icon=\"ellipsis-v\" \n                                            className=\"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600\"\n                                            onClick={event => {\n                                                event.preventDefault();\n                                                meta.toggle(!isOptions, event);\n                                            }} />\n                                    )}\n                                </Dropdown.Toggle>\n                                <Dropdown.Menu show={isOptions} flip={true}>\n                                    {(props) => (\n                                        <>\n                                            {isOptions && (\n                                                <div className=\"absolute z-20 shadow-lg w-32\" style={{top: \"1.5rem\"}}>\n                                                    <div onClick={event => {\n                                                        event.preventDefault();\n                                                        this.showRenameModal();\n                                                    }}>\n                                                        <ContextMenuItem text=\"Change Name\"\n                                                            icon=\"edit\" />\n                                                    </div>\n                                                    <div onClick={event => {\n                                                        event.preventDefault();\n                                                        this.showDeleteModal();\n                                                    }}>\n                                                        <ContextMenuItem text=\"Delete\"\n                                                            icon=\"trash-alt\"\n                                                            className=\"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200\" />\n                                                    </div>\n                                                </div>\n                                            ) || \n                                            !isOptions && (\n                                                <div className=\"\"></div>\n                                            )}\n                                        </>\n                                    )}\n                                </Dropdown.Menu>\n                            </div>\n                        </Dropdown>\n                    </div>\n                </Link>\n\n                <CustomModal show={isRename}\n                    onHide={() => this.hideRenameModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Rename</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{text}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={renameValue} \n                                label=\"Name\" \n                                placeholder=\"Enter notebook name...\"\n                                onChange={event => this.setState({renameValue: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.renameNotebook} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideRenameModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n\n                <CustomModal show={isDelete}\n                    onHide={() => this.hideDeleteModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium text-red-600\">Delete</h2>\n                            <h2 className=\"text-lg font-bold text-red-600\">&apos;{text}&apos;?</h2>\n                        </div>\n                        <div className=\"mb-4 w-full flex items-center\">\n                            <span className=\"text-center\">Are you sure you want to delete &apos;{text}&apos;? This action is <span className=\"text-red-600 font-bold\">irreversible.</span></span>\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <CancelButton text=\"Delete\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.deleteNotebook} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideDeleteModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}\n\ntype NotebookSidebarProps = {\n    notebooks: NotebookObject[];\n}\n\ntype NotebookSidebarState = {\n    isAddingNotebook: boolean;\n    notebookName: string;\n}\n\nexport default class NotebookSidebar extends React.Component<NotebookSidebarProps, NotebookSidebarState> {\n    constructor(props: NotebookSidebarProps) {\n        super(props);\n\n        this.state = {\n            isAddingNotebook: false,\n            notebookName: \"\"\n        };\n\n        this.showAddNotebookModal = this.showAddNotebookModal.bind(this);\n        this.hideAddNotebookModal = this.hideAddNotebookModal.bind(this);\n        this.addNotebook = this.addNotebook.bind(this);\n    }\n\n    showAddNotebookModal(): void {\n        this.setState({isAddingNotebook: true, notebookName: \"\"});\n    }\n\n    hideAddNotebookModal(): void {\n        this.setState({isAddingNotebook: false});\n    }\n\n    async addNotebook(): Promise<void> {\n        const { notebookName } = this.state;\n\n        await store.dispatch(createNewNotebookAsync(notebookName));\n        this.hideAddNotebookModal();\n    }\n\n    render(): JSX.Element {\n        const { notebooks } = this.props;\n        const { isAddingNotebook, notebookName } = this.state;\n        const sortedNotebooks = notebooks.slice().sort((a, b) => a.name.localeCompare(b.name));\n        return (\n            <>\n                <div className=\"w-48 h-full flex flex-col bg-gray-600\">\n                    <div className=\"p-2 text-md font-medium text-gray-300\">Notebooks</div>\n                    <Scrollbars>\n                        <div className=\"grid gap-2\">\n                            <div className=\"grid gap-2\">\n                                {sortedNotebooks.map((notebook, index) => (\n                                    <NotebookItem key={index} notebookId={notebook.notebookId} text={notebook.name} />\n                                ))}\n                            </div>\n                            <OKButton icon=\"plus\" text=\"Add Notebook\"\n                                className=\"text-xs w-full\"\n                                onClick={this.showAddNotebookModal} />\n                        </div>\n                    </Scrollbars>\n                </div>\n                <CustomModal show={isAddingNotebook}\n                    onHide={() => this.hideAddNotebookModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <h2 className=\"mb-4 text-lg font-medium\">Create New Notebook</h2>\n                        <div className=\"mb-4\">\n                            <Input value={notebookName}\n                                label=\"Name\"\n                                placeholder=\"Enter notebook name...\"\n                                onChange={event => this.setState({notebookName: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Create\"\n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.addNotebook} />\n                            <SecondaryButton text=\"Cancel\"\n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideAddNotebookModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}","export default class Regexes {\n    public static baseLabelRegex = /[a-zA-Z0-9-_]+/g;\n    public static labelRegex = new RegExp(`^${Regexes.baseLabelRegex.source}$`);\n    public static labelCommaRegex = new RegExp(`^(${Regexes.baseLabelRegex.source}(,|, ))*${Regexes.baseLabelRegex.source}$`);\n    public static labelSliceRegex = new RegExp(`^${Regexes.baseLabelRegex.source}:${Regexes.baseLabelRegex.source}$`);\n\n    public static baseValueRegex = /([a-zA-Z0-9-_.()?$]+|'[a-zA-Z0-9-_ ,.()?$]+')/g;\n    public static valueRegex = new RegExp(`^${Regexes.baseValueRegex.source}$`);\n    public static valueCommaRegex = new RegExp(`^(${Regexes.baseValueRegex.source}(,|, ))*${Regexes.baseValueRegex.source}$`);\n\n    public static baseLabelMapRegex = new RegExp(`(${Regexes.baseLabelRegex.source}:${Regexes.baseLabelRegex.source})`, \"g\");\n    public static labelMapRegex = new RegExp(`^(${Regexes.baseLabelMapRegex.source}(,|, ))*${Regexes.baseLabelMapRegex.source}$`);\n\n    public static baseValueMapRegex = new RegExp(`(${Regexes.baseValueRegex.source}:${Regexes.baseValueRegex.source})`, \"g\");\n    public static valueMapRegex = new RegExp(`^(${Regexes.baseValueMapRegex.source}(,|, ))*${Regexes.baseValueMapRegex.source}$`);\n\n    public static baseLabelValueMapRegex = new RegExp(`(${Regexes.baseLabelRegex.source}:${Regexes.baseValueRegex.source})`, \"g\");\n    public static labelValueMapRegex = new RegExp(`^(${Regexes.baseLabelValueMapRegex.source}(,|, ))*${Regexes.baseLabelValueMapRegex.source}$`);\n\n    public static conditionRegex = new RegExp(`^${Regexes.baseLabelRegex.source} (==|>|>=|<|<=|!=|has|start|end) ${Regexes.baseValueRegex.source}$`);\n\n    public static baseNumberRegex = /(\\d+|-\\d+)/g;\n    public static numberRegex = new RegExp(`^${Regexes.baseNumberRegex.source}$`);\n    public static numberCommaRegex = new RegExp(`^(${Regexes.baseNumberRegex.source}(,|, ))*${Regexes.baseNumberRegex.source}$`);\n    public static numberSliceRegex = new RegExp(`^${Regexes.baseNumberRegex.source}:${Regexes.baseNumberRegex.source}$`);\n\n    public static baseNumberMapRegex = new RegExp(`(${Regexes.baseNumberRegex.source}:${Regexes.baseNumberRegex.source})`, \"g\");\n    public static numberMapRegex = new RegExp(`^(${Regexes.baseNumberMapRegex.source}(,|, ))*${Regexes.baseNumberMapRegex.source}$`);\n\n    public static emptyRegex = /^$/;\n\n    public static combine = (...regexes: RegExp[]): RegExp => {\n        const map = regexes.map(regex => `(${regex.source})`);\n        return new RegExp(map.join(\"|\"));\n    }\n\n    public static isMatch = (value: string, regex: RegExp): boolean => {\n        const match = value.match(regex);\n        return match != null && match.length > 0;\n    }\n\n    public static processCommaDelimString = (value: string, baseRegex: RegExp): string[] => {\n        const result = value.match(baseRegex);\n        if (!result)\n            return [];\n        return result.map(val => val.trim());\n    }\n    \n    public static processCommaDelimNumber = (value: string, baseRegex: RegExp): number[] => {\n        const result = value.match(baseRegex);\n        if (!result)\n            return [];\n        return result.map(val => Number(val.trim()));\n    }\n}","import React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport { connect } from \"react-redux\";\nimport store, { RootState } from \"../app/store\";\nimport { NodeConnectionObject } from \"../db/models\";\nimport { setNodePropertyAsync, getNodeById, getSeparateConnectionsByNodeId, setNodeInputValueAsync, getSelectedNode, selectNodeTypeAsync } from \"../features/notebooks/notebookSlice\";\nimport NodeTypeManager from \"../managers/NodeTypeManager\";\nimport { Property, Slot } from \"../types\";\nimport Regexes from \"../utils/Regexes\";\nimport { Checkbox, Input, OKButton, PrimaryButton, SecondaryButton, TextArea } from \"./CustomComponents\";\n\ntype PropertiesSidebarProps = {\n    selectedNode: {\n        cellId: string;\n        nodeId: string;\n    } | undefined;\n    connections: {\n        fromConnections: NodeConnectionObject[];\n        toConnections: NodeConnectionObject[];\n    };\n}\n\ntype PropertiesSidebarState = {\n    properties: Property[];\n    newPropertyValues: {\n        [id: string]: {\n            isInvalid: boolean;\n            value: string | number | boolean;\n        }\n    };\n    inputs: Slot[];\n    newInputValues: {\n        [id: string]: {\n            isInvalid: boolean;\n            value: string | number | boolean;\n        }\n    }\n}\n\nconst mapStateToProps = (state: RootState) => {\n    const selectedNode = getSelectedNode(state);\n    const connections = selectedNode != null ? \n        getSeparateConnectionsByNodeId(state, selectedNode.cellId, selectedNode.nodeId) : \n        { fromConnections: [], toConnections: [] };\n    return {\n        selectedNode,\n        connections\n    };\n};\n\nclass PropertiesSidebarInner extends React.Component<PropertiesSidebarProps, PropertiesSidebarState> {\n    constructor(props: PropertiesSidebarProps) {\n        super(props);\n\n        this.state = {\n            properties: [],\n            newPropertyValues: {},\n            inputs: [],\n            newInputValues: {}\n        };\n\n        this.onStringPropertyChange = this.onStringPropertyChange.bind(this);\n        this.onNumberPropertyChange = this.onNumberPropertyChange.bind(this);\n        this.onBooleanPropertyToggle = this.onBooleanPropertyToggle.bind(this);\n\n        this.saveAllProperties = this.saveAllProperties.bind(this);\n        this.resetAllProperties = this.resetAllProperties.bind(this);\n\n        this.saveAllInputs = this.saveAllInputs.bind(this);\n        this.resetAllInputs = this.resetAllInputs.bind(this);\n    }\n\n    componentDidMount(): void {\n        this.resetAllInputs();\n        this.resetAllProperties();\n    }\n\n    componentDidUpdate(prevProps: PropertiesSidebarProps): void {\n        const { selectedNode, connections } = this.props;\n        if (selectedNode && (JSON.stringify(selectedNode) !== JSON.stringify(prevProps.selectedNode))) {\n            this.resetAllInputs();\n            this.resetAllProperties();\n        }\n\n        if (JSON.stringify(connections) !== JSON.stringify(prevProps.connections))\n            this.resetAllInputs();\n    }\n\n    async onStringInputChange(input: Slot, newValue: string): Promise<void> {\n        this.setState(prevProps => ({newInputValues: {\n            ...prevProps.newInputValues,\n            [input.id]: {\n                isInvalid: input.regex != null && !Regexes.isMatch(newValue, input.regex),\n                value: newValue\n            }\n        }}));\n    }\n\n    async onNumberInputChange(input: Slot, newValue: string): Promise<void> {\n        this.setState(prevProps => ({newInputValues: {\n            ...prevProps.newInputValues,\n            [input.id]: {\n                isInvalid: !Regexes.isMatch(newValue, Regexes.numberRegex),\n                value: Number(newValue)\n            }\n        }}));\n    }\n\n    async onBooleanInputToggle(input: Slot): Promise<void> {\n        const { newInputValues } = this.state;\n\n        const newValue = !((newInputValues[input.id].value ?? input.defaultValue) as boolean);\n        this.setState(prevProps => ({newInputValues: {\n            ...prevProps.newInputValues,\n            [input.id]: {\n                isInvalid: false,\n                value: newValue\n            }\n        }}));\n    }\n\n    async saveAllInputs(): Promise<void> {\n        const { selectedNode } = this.props;\n        const { newInputValues } = this.state;\n        if (!selectedNode)\n            return;\n        const invalidValues = Object.values(newInputValues).filter(value => value.isInvalid);\n        if (invalidValues.length > 0)\n            return;\n\n        const updateValues = (keyVal: [string, { isInvalid: boolean, value: string | number | boolean }]): Promise<void> => {\n            return store.dispatch(setNodeInputValueAsync(selectedNode.cellId, selectedNode.nodeId, keyVal[0], keyVal[1].value));\n        };\n        const actions = Object.entries(newInputValues).map(updateValues);\n        await Promise.all(actions);\n        this.resetAllInputs();\n    }\n\n    resetAllInputs(): void { \n        const { selectedNode, connections } = this.props;\n\n        if (!selectedNode)\n            return;\n\n        const node = getNodeById(store.getState(), selectedNode.cellId, selectedNode.nodeId);\n        if (!node)\n            return;\n        \n        const nodeType = NodeTypeManager.getType(node.type);\n        if (!nodeType)\n            return;\n\n        const inputs: Slot[] = [];\n        nodeType.inputSlots.forEach(input => {\n            let inputObj: Slot = input;\n            // Hide input values from the sidebar if that slot is connected\n            const connIndex = connections.toConnections.findIndex(conn => conn.toSlotId === input.id);\n            if (connIndex >= 0)\n                return;\n\n            const valIndex = node.inputValues.findIndex(val => val.id === input.id);\n            if (valIndex >= 0) {\n                const nodeSlot = node.inputValues[valIndex];\n                if (typeof nodeSlot.value !== \"string\" &&\n                    typeof nodeSlot.value !== \"number\" && \n                    typeof nodeSlot.value !== \"boolean\")\n                    return;\n                        \n                inputObj = { \n                    ...input,\n                    defaultValue: nodeSlot.value\n                };\n            }\n\n            if (inputObj.defaultValue != null)\n                inputs.push(inputObj);\n        });\n        this.setState({inputs, newInputValues: {}});\n    }\n\n    async onStringPropertyChange(property: Property, newValue: string): Promise<void> {\n        this.setState(prevProps => ({newPropertyValues: {\n            ...prevProps.newPropertyValues,\n            [property.id]: {\n                isInvalid: property.regex != null && !Regexes.isMatch(newValue, property.regex),\n                value: newValue\n            }\n        }}));\n    }\n\n    async onNumberPropertyChange(property: Property, newValue: string): Promise<void> {\n        this.setState(prevProps => ({newPropertyValues: {\n            ...prevProps.newPropertyValues,\n            [property.id]: {\n                isInvalid: !Regexes.isMatch(newValue, Regexes.numberRegex),\n                value: Number(newValue)\n            }\n        }}));\n    }\n\n    async onBooleanPropertyToggle(property: Property): Promise<void> {\n        const { newPropertyValues } = this.state;\n\n        const newValue = !((newPropertyValues[property.id]?.value ?? property.defaultValue) as boolean);\n        this.setState(prevProps => ({newPropertyValues: {\n            ...prevProps.newPropertyValues,\n            [property.id]: {\n                isInvalid: false,\n                value: newValue\n            }\n        }}));\n    }\n\n    async saveAllProperties(): Promise<void> {\n        const { selectedNode } = this.props;\n        const { newPropertyValues } = this.state;\n        if (!selectedNode)\n            return;\n        const invalidValues = Object.values(newPropertyValues).filter(value => value.isInvalid);\n        if (invalidValues.length > 0)\n            return;\n\n        const updateValues = (keyVal: [string, { isInvalid: boolean, value: string | number | boolean }]): Promise<void> => {\n            return store.dispatch(setNodePropertyAsync(selectedNode.cellId, selectedNode.nodeId, keyVal[0], keyVal[1].value));\n        };\n        const actions = Object.entries(newPropertyValues).map(updateValues);\n        await Promise.all(actions);\n        this.resetAllProperties();\n    }\n\n    resetAllProperties(): void {\n        const { selectedNode } = this.props;\n\n        if (!selectedNode)\n            return;\n\n        const node = getNodeById(store.getState(), selectedNode.cellId, selectedNode.nodeId);\n        if (!node)\n            return;\n        \n        const nodeType = NodeTypeManager.getType(node.type);\n        if (!nodeType)\n            return;\n\n        const properties: Property[] = [];\n        nodeType.properties.forEach(property => {\n            let prop: Property = property;\n            const propIndex = node.properties.findIndex(prop => prop.id === property.id);\n            if (propIndex >= 0) {\n                const nodeProperty = node.properties[propIndex];\n                prop = { \n                    ...property,\n                    defaultValue: nodeProperty.value\n                };\n            }\n\n            if (prop.defaultValue != null && !prop.isHidden)\n                properties.push(prop);\n        });\n        this.setState({properties, newPropertyValues: {}});\n    }\n\n    render(): JSX.Element {\n        const { selectedNode } = this.props;\n        const { inputs, newInputValues, properties, newPropertyValues } = this.state;\n        const propertyInvalidValues = Object.values(newPropertyValues).filter(value => value.isInvalid);\n        const isPropertyDisabled = propertyInvalidValues.length > 0 || Object.keys(newPropertyValues).length === 0;\n        const inputInvalidValues = Object.values(newInputValues).filter(value => value.isInvalid);\n        const isInputDisabled = inputInvalidValues.length > 0 || Object.keys(newInputValues).length === 0;\n\n        const node = selectedNode != null ? getNodeById(store.getState(), selectedNode.cellId, selectedNode.nodeId) : undefined;\n        const type = node != null ? NodeTypeManager.getType(node.type) : undefined;\n        return (\n            <div className=\"w-48 h-full flex flex-col bg-gray-600\">\n                {node != null && type != null && !type.isHiddenFromList && (\n                    <div className=\"p-2 w-full\">\n                        <PrimaryButton icon=\"question\"\n                            text=\"Help\"\n                            className=\"w-full justify-center text-sm p-1\"\n                            onClick={async () => await store.dispatch(selectNodeTypeAsync(node.type))} />\n                    </div>\n                )}\n                <div className=\"p-2 text-md font-medium text-gray-300\">Node Inputs</div>\n                <Scrollbars autoHeight autoHeightMax=\"100%\">\n                    <div className=\"\">\n                        {selectedNode && (\n                            <>\n                                {inputs.map((input, index) => (\n                                    <div key={`${selectedNode.nodeId}-${input.id}`} className=\"flex flex-row items-center justify-between px-2 pb-3\">\n                                        <div className=\"pr-4 flex flex-col justify-center text-sm text-gray-200\">\n                                            <span className=\"font-medium\">{input.id}</span>\n                                            <span className=\"text-xs\" style={{marginTop: \"-0.25rem\"}}>{input.type}</span>\n                                        </div>\n                                        {input.type === \"string\" && (\n                                            <TextArea value={(newInputValues[input.id]?.value != null ? newInputValues[input.id].value : input.defaultValue) as string}\n                                                className=\"py-0\"\n                                                regex={input.regex}\n                                                onChange={async event => {\n                                                    const value = event.target.value;\n                                                    await this.onStringInputChange(input, value);\n                                                }} />\n                                        ) ||\n                                        input.type === \"number\" && (\n                                            <Input value={`${(newInputValues[input.id]?.value ?? input.defaultValue) as number}`}\n                                                className=\"py-0\"\n                                                regex={input.regex ?? Regexes.numberRegex}\n                                                placeholder=\"Number\"\n                                                onChange={async event => {\n                                                    const value = event.target.value;\n                                                    await this.onNumberInputChange(input, value);\n                                                }} />\n                                        ) ||\n                                        input.type === \"boolean\" && (\n                                            <Checkbox value={(newInputValues[input.id]?.value ?? input.defaultValue) as boolean}\n                                                onToggle={async () => await this.onBooleanInputToggle(input)} />\n                                        )}\n                                    </div>\n                                ))}\n                                {inputs.length > 0 && (\n                                    <div className=\"flex flex-row justify-center text-xs px-4 mt-1\">\n                                        <OKButton icon=\"save\" text=\"Save All\"\n                                            className=\"mr-2\"\n                                            isDisabled={isInputDisabled}\n                                            onClick={this.saveAllInputs} />\n\n                                        <SecondaryButton icon=\"redo-alt\"\n                                            className=\"px-3 hover:bg-gray-500\"\n                                            onClick={this.resetAllInputs} />\n                                    </div>\n                                )}\n                            </>\n                        )}\n                    </div>\n                </Scrollbars>\n                <div className=\"mt-4 p-2 text-md font-medium text-gray-300\">Node Properties</div>\n                <Scrollbars autoHeight autoHeightMax=\"100%\">\n                    <div className=\"\">\n                        {selectedNode && (\n                            <>\n                                {properties.map((property, index) => (\n                                    <div key={`${selectedNode.nodeId}-${property.id}`} className=\"flex flex-row items-center justify-between px-2 pb-3\">\n                                        <div className=\"pr-4 flex flex-col justify-center text-sm text-gray-200\">\n                                            <span className=\"font-medium\">{property.id}</span>\n                                            <span className=\"text-xs\" style={{marginTop: \"-0.25rem\"}}>{property.type}</span>\n                                        </div>\n                                        {property.type === \"string\" && (\n                                            <TextArea value={(newPropertyValues[property.id]?.value != null ? newPropertyValues[property.id].value : property.defaultValue) as string}\n                                                className=\"py-0\"\n                                                readonly={property.isReadOnly}\n                                                regex={property.regex}\n                                                onChange={async event => {\n                                                    const input = event.target.value;\n                                                    await this.onStringPropertyChange(property, input);\n                                                }} />\n                                        ) ||\n                                        property.type === \"number\" && (\n                                            <Input value={`${(newPropertyValues[property.id]?.value ?? property.defaultValue) as number}`}\n                                                className=\"py-0\"\n                                                readonly={property.isReadOnly}\n                                                regex={Regexes.numberRegex}\n                                                placeholder=\"Number\"\n                                                onChange={async event => {\n                                                    const input = event.target.value;\n                                                    await this.onNumberPropertyChange(property, input);\n                                                }} />\n                                        ) ||\n                                        property.type === \"boolean\" && (\n                                            <Checkbox value={(newPropertyValues[property.id]?.value ?? property.defaultValue) as boolean}\n                                                onToggle={async () => await this.onBooleanPropertyToggle(property)} />\n                                        )}\n                                    </div>\n                                ))}\n                                {properties.length > 0 && (\n                                    <div className=\"flex flex-row justify-center text-xs px-4 mt-1\">\n                                        <OKButton icon=\"save\" text=\"Save All\"\n                                            className=\"mr-2\"\n                                            isDisabled={isPropertyDisabled}\n                                            onClick={this.saveAllProperties} />\n\n                                        <SecondaryButton icon=\"redo-alt\"\n                                            className=\"px-3 hover:bg-gray-500\"\n                                            onClick={this.resetAllProperties} />\n                                    </div>\n                                )}\n                            </>\n                        )}\n                    </div>\n                </Scrollbars>\n            </div>\n        );\n    }\n}\n\nconst PropertiesSidebar = connect(mapStateToProps)(PropertiesSidebarInner);\nexport default PropertiesSidebar;","import React from \"react\";\nimport store, { RootState } from \"../app/store\";\nimport { fetchNotebookDetailsAsync } from \"../features/notebooks/notebookSlice\";\nimport { NotebookObject } from \"../db/models\";\nimport { connect } from \"react-redux\";\nimport { SecondaryButton } from \"./CustomComponents\";\nimport SourceSidebar from \"./SourceSidebar\";\nimport NotebookSidebar from \"./NotebookSidebar\";\nimport PropertiesSidebar from \"./PropertiesSidebar\";\nimport VariableSidebar from \"./VariableSidebar\";\n\nenum SidebarTabState {\n    Notebooks,\n    Sources,\n    Variables,\n    Properties,\n    None\n}\n\ntype SidebarProps = {\n    notebooks: NotebookObject[];\n    currentNotebook: NotebookObject | undefined;\n    selectedNode: {\n        cellId: string;\n        nodeId: string;\n    } | undefined;\n}\n\ntype SidebarState = {\n    currentState: SidebarTabState;\n}\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        notebooks: state.notebook.notebookDetails,\n        currentNotebook: state.notebook.currentNotebook,\n        selectedNode: state.notebook.selectedNode\n    };\n};\n\nclass SidebarInner extends React.Component<SidebarProps, SidebarState> {\n    constructor(props: SidebarProps) {\n        super(props);\n\n        this.state = {\n            currentState: SidebarTabState.Notebooks\n        };\n\n        this.onNotebookTabClick = this.onNotebookTabClick.bind(this);\n        this.onSourcesTabClick = this.onSourcesTabClick.bind(this);\n        this.onVariablesTabClick = this.onVariablesTabClick.bind(this);\n        this.onPropertiesTabClick = this.onPropertiesTabClick.bind(this);\n    }\n\n    async componentDidMount(): Promise<void> {\n        await store.dispatch(fetchNotebookDetailsAsync());\n    }\n\n    componentDidUpdate(prevProps: SidebarProps) {\n        const { selectedNode } = this.props;\n        if (selectedNode && (JSON.stringify(selectedNode) !== JSON.stringify(prevProps.selectedNode)) && (this.state.currentState !== SidebarTabState.Properties))\n            this.setState({currentState: SidebarTabState.Properties});\n    }\n\n    onNotebookTabClick(): void {\n        const { currentState } = this.state;\n        const newState = currentState === SidebarTabState.Notebooks ? SidebarTabState.None : SidebarTabState.Notebooks;\n        this.setState({currentState: newState});\n    }\n\n    onSourcesTabClick(): void {\n        const { currentState } = this.state;\n        const newState = currentState === SidebarTabState.Sources ? SidebarTabState.None : SidebarTabState.Sources;\n        this.setState({currentState: newState});\n    }\n\n    onVariablesTabClick(): void {\n        const { currentState } = this.state;\n        const newState = currentState === SidebarTabState.Variables ? SidebarTabState.None : SidebarTabState.Variables;\n        this.setState({currentState: newState});\n    }\n\n    onPropertiesTabClick(): void {\n        const { currentState } = this.state;\n        const newState = currentState === SidebarTabState.Properties ? SidebarTabState.None : SidebarTabState.Properties;\n        this.setState({currentState: newState});\n    }\n\n    render(): JSX.Element {\n        const { notebooks, currentNotebook } = this.props;\n        const { currentState } = this.state;\n        const sources = currentNotebook?.sources;\n        const variables = currentNotebook?.variables;\n\n        return (\n            <div className=\"flex flex-row\">\n                <div className=\"w-10 h-full flex flex-col bg-gray-700\">\n                    <SecondaryButton icon=\"copy\"\n                        className={`justify-center mb-2 text-2xl p-0 px-2 py-4 hover:bg-gray-500 ${currentState === SidebarTabState.Notebooks ? \"bg-gray-600\" : \"\"}`}\n                        onClick={this.onNotebookTabClick} />\n                    {currentNotebook && (\n                        <>\n                            <SecondaryButton icon=\"sign-in-alt\"\n                                className={`justify-center text-2xl p-0 px-2 py-4 hover:bg-gray-500 ${currentState === SidebarTabState.Sources ? \"bg-gray-600\" : \"\"}`}\n                                onClick={this.onSourcesTabClick} />\n                            <SecondaryButton icon=\"superscript\"\n                                className={`justify-center text-2xl p-0 px-2 py-4 hover:bg-gray-500 ${currentState === SidebarTabState.Variables ? \"bg-gray-600\" : \"\"}`}\n                                onClick={this.onVariablesTabClick} />\n                            <SecondaryButton icon=\"cogs\"\n                                className={`justify-center text-2xl p-0 px-2 py-4 hover:bg-gray-500 ${currentState === SidebarTabState.Properties ? \"bg-gray-600\" : \"\"}`}\n                                onClick={this.onPropertiesTabClick} />\n                        </>\n                    )}\n                </div>\n                {currentState === SidebarTabState.Notebooks && (\n                    <NotebookSidebar notebooks={notebooks} />\n                ) || \n                currentState === SidebarTabState.Sources && currentNotebook && (\n                    <SourceSidebar sources={sources} />\n                ) ||\n                currentState === SidebarTabState.Variables && currentNotebook && (\n                    <VariableSidebar variables={variables} />\n                ) ||\n                currentState === SidebarTabState.Properties && currentNotebook && (\n                    <PropertiesSidebar />\n                )}\n            </div>\n        );\n    }\n}\n\nconst Sidebar = connect(mapStateToProps)(SidebarInner);\nexport default Sidebar;","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { DataFrame } from \"danfojs\";\nimport React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport Dropdown from \"react-overlays/esm/Dropdown\";\nimport store from \"../app/store\";\nimport { CSVSource } from \"../data/DataService\";\nimport { VariableObject } from \"../db/models\";\nimport { createNewVariableAsync, deleteVariableAsync, setIsDraggingVariableAsync, updateVariableNameAsync, updateVariableValueAsync } from \"../features/notebooks/notebookSlice\";\nimport NodeExecManager from \"../managers/NodeExecManager\";\nimport { DataFrameOutput, DropdownItem } from \"../types\";\nimport { isTypeEqual, Types, VariableKeys, VariableType } from \"../utils/Types\";\nimport { OKButton, CustomModal, PrimaryButton, SecondaryButton, Input, ContextMenuItem, Dropdown as CustomDropdown, TextArea, Checkbox, CancelButton } from \"./CustomComponents\";\nimport { ShowResult } from \"./NodeCell\";\n\ntype VariableItemProps = {\n    variable: VariableObject;\n}\n\ntype VariableItemState = {\n    isOptions: boolean;\n    isRename: boolean;\n    renameValue: string;\n    isDelete: boolean;\n    isChangeValue: boolean;\n    isPreview: boolean;\n    preview: DataFrameOutput;\n    newValue: string | number | boolean;\n}\n\nclass VariableItem extends React.Component<VariableItemProps, VariableItemState> {\n    constructor(props: VariableItemProps) {\n        super(props);\n\n        this.state = {\n            isOptions: false,\n            isRename: false,\n            renameValue: \"\",\n            isDelete: false,\n            isChangeValue: false,\n            newValue: 0,\n            isPreview: false,\n            preview: {\n                type: \"dataframe\",\n                outputOrder: 0,\n                columns: [],\n                indexes: [],\n                values: []\n            }\n        };\n\n        this.onDragVariableStart = this.onDragVariableStart.bind(this);\n\n        this.showRenameModal = this.showRenameModal.bind(this);\n        this.hideRenameModal = this.hideRenameModal.bind(this);\n        this.renameVariable = this.renameVariable.bind(this);\n\n        this.showDeleteModal = this.showDeleteModal.bind(this);\n        this.hideDeleteModal = this.hideDeleteModal.bind(this);\n        this.deleteVariable = this.deleteVariable.bind(this);\n\n        this.showChangeValueModal = this.showChangeValueModal.bind(this);\n        this.hideChangeValueModal = this.hideChangeValueModal.bind(this);\n        this.onStringValueChange = this.onStringValueChange.bind(this);\n        this.onNumberValueChange = this.onNumberValueChange.bind(this);\n        this.onBooleanValueToggle = this.onBooleanValueToggle.bind(this);\n        this.changeValue = this.changeValue.bind(this);\n\n        this.showPreviewModal = this.showPreviewModal.bind(this);\n        this.hidePreviewModal = this.hidePreviewModal.bind(this);\n    }\n\n    async onDragVariableStart(event: React.DragEvent<HTMLDivElement>, type: \"get\" | \"set\", variable: VariableObject): Promise<void> {\n        event.stopPropagation();\n        await store.dispatch(setIsDraggingVariableAsync(true));\n\n        const data = { dataType: \"variable\", type, variable };\n        event.dataTransfer.setData(\"text/plain\", JSON.stringify(data));\n    }\n\n    showRenameModal(): void {\n        this.setState({isRename: true, isOptions: false, renameValue: \"\"});\n    }\n\n    hideRenameModal(): void {\n        this.setState({isRename: false});\n    }\n\n    async renameVariable(): Promise<void> {\n        const { variable } = this.props;\n        const { renameValue } = this.state;\n        if (renameValue !== \"\") {\n            await store.dispatch(updateVariableNameAsync(variable.variableId, renameValue));\n            this.hideRenameModal();\n        }\n    }\n\n    showDeleteModal(): void {\n        this.setState({isDelete: true, isOptions: false});\n    }\n\n    hideDeleteModal(): void {\n        this.setState({isDelete: false});\n    }\n\n    async deleteVariable(): Promise<void> {\n        const { variable } = this.props;\n        this.setState({isOptions: false});\n        await store.dispatch(deleteVariableAsync(variable.variableId));\n        this.hideDeleteModal();\n    }\n\n    showChangeValueModal(): void {\n        const { variable } = this.props;\n        console.log(`${variable.type} ${Types.String}`);\n        if (!isTypeEqual(variable.type, Types.String) &&\n            !isTypeEqual(variable.type, Types.Number) &&\n            !isTypeEqual(variable.type, Types.Boolean))\n            return;\n            \n        let newValue: string | number | boolean | undefined = variable.value;\n        if (newValue == null) {\n            if (isTypeEqual(variable.type, Types.String))\n                newValue = \"\";\n            else if (isTypeEqual(variable.type, Types.Number))\n                newValue = 0;\n            else if (isTypeEqual(variable.type, Types.Boolean))\n                newValue = false;\n        }\n\n        if (newValue == null)\n            return;\n\n        this.setState({isChangeValue: true, isOptions: false, newValue});\n    }\n\n    hideChangeValueModal(): void {\n        this.setState({isChangeValue: false});\n    }\n\n    async onStringValueChange(newValue: string): Promise<void> {\n        this.setState({ newValue });\n    }\n\n    async onNumberValueChange(newValue: string): Promise<void> {\n        this.setState({ newValue: Number(newValue) ?? 0 });\n    }\n\n    async onBooleanValueToggle(): Promise<void> {\n        this.setState(prevState => ({ newValue: !prevState.newValue }));\n    }\n\n    async changeValue(): Promise<void> {\n        const { variable } = this.props;\n        const { newValue } = this.state;\n        \n        await store.dispatch(updateVariableValueAsync(variable.variableId, newValue));\n        this.hideChangeValueModal();\n    }\n\n    showPreviewModal(): void {\n        const { variable } = this.props;\n        if (!isTypeEqual(variable.type, Types.DataFrame))\n            return;\n\n        const output: DataFrameOutput = {\n            type: \"dataframe\",\n            outputOrder: 0,\n            columns: [],\n            indexes: [],\n            values: []\n        };\n\n        const rowCount = 0;\n        const varDf = NodeExecManager.getVariable(variable.variableId);\n        if (!varDf)\n            return;\n\n        const df =  varDf as DataFrame;\n        const head = (df.shape[0] >= rowCount && rowCount > 0) ? df.head(rowCount) : df;\n        let values: string[][];\n        if (head.columns.length > 1) {\n            values = head.values.map(value1 => {\n                const val1 = value1 as string[] | (string | number | boolean)[] | number[] | boolean[];\n                return val1.map(value2 => `${value2}`);\n            });\n        } else {\n            values = head.values.map(value => {\n                const val = value as string | number | boolean;\n                return [`${val}`];\n            });\n        }\n\n        output.columns = df.columns,\n        output.values = values;\n\n        this.setState({isPreview: true, isOptions: false, preview: output});\n    }\n\n    hidePreviewModal(): void {\n        const output: DataFrameOutput = {\n            type: \"dataframe\",\n            outputOrder: 0,\n            columns: [],\n            indexes: [],\n            values: []\n        };\n\n        this.setState({isPreview: false, preview: output});\n    }\n\n    render(): JSX.Element {\n        const { variable } = this.props;\n        const { isOptions, isRename, renameValue, isDelete, isChangeValue, newValue, isPreview, preview } = this.state;\n        return (\n            <>\n                <div className=\"transition duration-200 ease-in-out flex flex-row items-center justify-between p-2 text-sm text-gray-200 hover:bg-indigo-400 hover:text-indigo-100 select-none\"\n                    onMouseLeave={() => this.setState({isOptions: false})}>\n                    <div className=\"flex flex-col\">\n                        <span className=\"font-medium\">{variable.name}</span>\n                        <span className=\"text-xs\" style={{marginTop: \"-0.25rem\"}}>{variable.type}</span>\n                    </div>\n                    <div className=\"flex flex-row items-center\">\n                        <div className=\"flex flex-col\">\n                            <div className=\"transition duration-200 ease-in-out flex items-center text-sm px-1 mr-2 mb-1 bg-transparent hover:bg-indigo-600 cursor-move\"\n                                draggable\n                                onDragStart={async event => await this.onDragVariableStart(event, \"get\", variable)}\n                                onDragEnd={async () => await store.dispatch(setIsDraggingVariableAsync(false))}>\n                                <FontAwesomeIcon icon=\"arrows-alt\"\n                                    className=\"mr-1\" />\n                                <span className=\"\">Get</span>\n                            </div>\n                            <div className=\"transition duration-200 ease-in-out flex items-center text-sm px-1 mr-2 bg-transparent hover:bg-indigo-600 cursor-move\"\n                                draggable\n                                onDragStart={async event => await this.onDragVariableStart(event, \"set\", variable)}\n                                onDragEnd={async () => await store.dispatch(setIsDraggingVariableAsync(false))}>\n                                <FontAwesomeIcon icon=\"arrows-alt\"\n                                    className=\"mr-1\" />\n                                <span className=\"\">Set</span>\n                            </div>\n                        </div>\n                        <Dropdown show={isOptions}\n                            onToggle={next => this.setState({isOptions: next})}>\n                            <div className=\"relative flex flex-row-reverse\">\n                                <Dropdown.Toggle>\n                                    {(props, meta) => (\n                                        <SecondaryButton icon=\"ellipsis-v\" \n                                            className=\"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600\"\n                                            onClick={event => meta.toggle(!isOptions, event)} />\n                                    )}\n                                </Dropdown.Toggle>\n                                <Dropdown.Menu show={isOptions} flip={true}>\n                                    {(props) => (\n                                        <>\n                                            {isOptions && (\n                                                <div className=\"absolute z-20 shadow-lg w-32\" style={{top: \"1.5rem\"}}>\n                                                    {isTypeEqual(variable.type, Types.DataFrame) && (\n                                                        <div onClick={this.showPreviewModal}>\n                                                            <ContextMenuItem text=\"Preview\"\n                                                                icon=\"search\" />\n                                                        </div>\n                                                    )}\n                                                    <div onClick={this.showRenameModal}>\n                                                        <ContextMenuItem text=\"Change Name\"\n                                                            icon=\"edit\" />\n                                                    </div>\n                                                    {(isTypeEqual(variable.type, Types.String) || isTypeEqual(variable.type, Types.Number) || isTypeEqual(variable.type, Types.Boolean)) && (\n                                                        <div onClick={this.showChangeValueModal}>\n                                                            <ContextMenuItem text=\"Change Value\"\n                                                                icon=\"pencil-alt\" />\n                                                        </div>\n                                                    )}\n                                                    <div onClick={this.showDeleteModal}>\n                                                        <ContextMenuItem text=\"Delete\"\n                                                            icon=\"trash-alt\"\n                                                            className=\"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200\" />\n                                                    </div>\n                                                </div>\n                                            ) || \n                                            !isOptions && (\n                                                <div className=\"\"></div>\n                                            )}\n                                        </>\n                                    )}\n                                </Dropdown.Menu>\n                            </div>\n                        </Dropdown>\n                    </div>\n                </div>\n\n                <CustomModal show={isRename}\n                    onHide={() => this.hideRenameModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Rename</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{variable.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={renameValue} \n                                label=\"Name\" \n                                placeholder=\"Enter variable name...\"\n                                onChange={event => this.setState({renameValue: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.renameVariable} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideRenameModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n\n                <CustomModal show={isDelete}\n                    onHide={() => this.hideDeleteModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium text-red-600\">Delete</h2>\n                            <h2 className=\"text-lg font-bold text-red-600\">&apos;{variable.name}&apos;?</h2>\n                        </div>\n                        <div className=\"mb-4 w-full flex items-center\">\n                            <span className=\"text-center\">Are you sure you want to delete the variable &apos;{variable.name}&apos;? This action is <span className=\"text-red-600 font-bold\">irreversible</span> and might break any nodes using this variable.</span>\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <CancelButton text=\"Delete\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.deleteVariable} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideDeleteModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n\n                <CustomModal show={isChangeValue}\n                    onHide={() => this.hideChangeValueModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Change Value</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{variable.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            {isTypeEqual(variable.type, Types.String) && (\n                                <TextArea value={newValue as string}\n                                    className=\"\"\n                                    label=\"New Value\"\n                                    onChange={async event => {\n                                        const input = event.target.value;\n                                        await this.onStringValueChange(input);\n                                    }} />\n                            ) ||\n                            isTypeEqual(variable.type, Types.Number) && (\n                                <Input value={`${newValue as number}`}\n                                    className=\"\"\n                                    label=\"New Value\"\n                                    placeholder=\"Number\"\n                                    onChange={async event => {\n                                        const input = event.target.value;\n                                        await this.onNumberValueChange(input);\n                                    }} />\n                            ) ||\n                            isTypeEqual(variable.type, Types.Boolean) && (\n                                <Checkbox value={newValue as boolean}\n                                    label=\"New Value\"\n                                    onToggle={async () => await this.onBooleanValueToggle()} />\n                            )}\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.changeValue} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideChangeValueModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n                \n                <CustomModal show={isPreview}\n                    onHide={() => this.hidePreviewModal()}>\n                    <div className=\"p-4 bg-gray-100\" \n                        style={{width: \"75%\"}}>\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Preview</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{variable.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <ShowResult result={preview} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <SecondaryButton text=\"Close\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hidePreviewModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}\n\ntype VariableSidebarProps = {\n    variables?: VariableObject[];\n}\n\ntype VariableSidebarState = {\n    isAddingVariable: boolean;\n    variableName: string;\n    variableType: VariableType | undefined;\n}\n\nexport default class VariableSidebar extends React.Component<VariableSidebarProps, VariableSidebarState> {\n    constructor(props: VariableSidebarProps) {\n        super(props);\n\n        this.state = {\n            isAddingVariable: false,\n            variableName: \"\",\n            variableType: undefined\n        };\n\n        this.showAddVariableModal = this.showAddVariableModal.bind(this);\n        this.hideAddVariableModal = this.hideAddVariableModal.bind(this);\n\n        this.onAddVariable = this.onAddVariable.bind(this);\n    }\n\n    showAddVariableModal(): void {\n        this.setState({isAddingVariable: true, variableName: \"\", variableType: undefined});\n    }\n\n    hideAddVariableModal(): void {\n        this.setState({isAddingVariable: false});\n    }\n\n    async onAddVariable(): Promise<void> {\n        const { variableName, variableType } = this.state;\n        if (!variableName || !variableType)\n            return;\n\n        const variable = await store.dispatch(createNewVariableAsync(variableName, variableType));\n        if (!variable)\n            return;\n\n        this.hideAddVariableModal();\n    }\n\n    render(): JSX.Element {\n        const { variables } = this.props;\n        const { isAddingVariable, variableName } = this.state;\n        const variableOptions: DropdownItem[] = [];\n        VariableKeys.forEach(key => {\n            variableOptions.push({ value: key, label: key });\n        });\n        return (\n            <>\n                <div className=\"w-48 h-full flex flex-col bg-gray-600 justify-center\">\n                    <div className=\"p-2 text-md font-medium text-gray-300\">Variables</div>\n                    <Scrollbars>\n                        <div className=\"grid gap-2\">\n                            <div className=\"grid gap-2\">\n                                {variables && variables.map((variable, index) => (\n                                    <VariableItem key={index} variable={variable} />\n                                ))}\n                            </div>\n                            <OKButton icon=\"plus\" text=\"Add Variable\"\n                                className=\"text-xs w-full\"\n                                onClick={this.showAddVariableModal} />\n                        </div>\n                    </Scrollbars>\n                </div>\n                \n                <CustomModal show={isAddingVariable}\n                    onHide={this.hideAddVariableModal}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Add Variable</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={variableName}\n                                label=\"Name\"\n                                placeholder=\"Enter variable name...\"\n                                onChange={event => this.setState({variableName: event.target.value})} />\n                        </div>\n                        <div className=\"mb-4\">\n                            <CustomDropdown label=\"Type\"\n                                options={variableOptions}\n                                onChange={newValue => {\n                                    if (!newValue)\n                                        return;\n\n                                    this.setState({variableType: newValue.value as VariableType});\n                                }} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\"\n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.onAddVariable} />\n                            <SecondaryButton text=\"Cancel\"\n                                className=\"px-2 py-1 text-xs\"\n                                onClick={this.hideAddVariableModal} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}","import React from \"react\";\nimport store from \"../app/store\";\nimport DBService from \"../db/DBService\";\nimport { UserObject } from \"../db/models\";\nimport { getCurrentUser, removeCurrentOfflineUserAsync } from \"../features/users/userSlice\";\nimport { CancelButton, OKButton } from \"./CustomComponents\";\nimport logo from \"../assets/nodebooks-logo-low-3.png\";\n\ntype TopbarProps = {\n\n}\n\ntype TopbarState = {\n    user: UserObject | undefined;\n}\n\nexport default class Topbar extends React.Component<TopbarProps, TopbarState> {\n    constructor(props: TopbarProps) {\n        super(props);\n\n        this.state = {\n            user: undefined\n        };\n    }\n\n    async componentDidMount(): Promise<void> {\n        const user = getCurrentUser(store.getState());\n        this.setState({user});\n    }\n\n    render(): JSX.Element {\n        const { user } = this.state;\n        \n        return (\n            <div className=\"w-screen h-16 flex flex-row justify-between items-center bg-gray-800 text-gray-200\">\n                <div className=\"pl-3 flex items-center\">\n                    <div className=\"w-40\">\n                        <img src={logo} />\n                    </div>\n                </div>\n\n                {user && (\n                    <div className=\"flex flex-row items-center px-4\">\n                        <span className=\"mr-4\">{user.name}</span>\n                        <CancelButton icon=\"sign-out-alt\"\n                            tooltip=\"Sign Out\"\n                            onClick={async () => await store.dispatch(removeCurrentOfflineUserAsync())} />\n                        {/*\n                        <OKButton icon=\"download\"\n                            tooltip=\"Download DB\"\n                            onClick={async () => {\n                                const saveFile = async (blob: Blob) => {\n                                    const a = document.createElement(\"a\");\n                                    a.download = \"exported-db.json\";\n                                    a.href = URL.createObjectURL(blob);\n                                    a.addEventListener(\"click\", (e) => {\n                                        setTimeout(() => URL.revokeObjectURL(a.href), 30 * 1000);\n                                    });\n                                    a.click();\n                                };\n                                const json = await DBService.db?.exportDatabase() ?? \"\";\n                                const blob = new Blob([json], { type: \"application/json\" });\n                                await saveFile(blob);\n                            }} />\n                        */}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}","export default \"data:image/png;base64,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\"","import React from \"react\";\nimport { Route, Switch, useParams } from \"react-router\";\nimport Notebook from \"../components/Notebook\";\nimport Sidebar from \"../components/Sidebar\";\nimport Topbar from \"../components/Topbar\";\n\ntype MainPageProps = {\n\n}\n\ntype MainPageState = {\n\n}\n\nexport default class MainPage extends React.Component<MainPageProps, MainPageState> {\n    constructor(props: MainPageProps) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    render(): JSX.Element {\n        return (\n            <div className=\"flex flex-col w-screen h-screen\">\n                <Topbar />\n                <div className=\"flex flex-row h-full\">\n                    <Sidebar />\n                    <div className=\"flex flex-col w-full\">\n                        <Switch>\n                            <Route exact path=\"/main/:id\" component={NotebookWrapper} />\n                        </Switch>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\ntype Params = {\n    id: string;\n}\n\nfunction NotebookWrapper(): JSX.Element {\n    const { id } = useParams<Params>();\n    return (\n        <Notebook id={id} />\n    );\n}","import React from \"react\";\nimport Dropdown from \"react-overlays/esm/Dropdown\";\nimport { connect } from \"react-redux\";\nimport store, { RootState } from \"../app/store\";\nimport { CancelButton, ContextMenuItem, CustomModal, Input, OKButton, PrimaryButton, SecondaryButton } from \"../components/CustomComponents\";\nimport { UserObject } from \"../db/models\";\nimport { createNewUserAsync, deleteOfflineUserAsync, fetchOfflineUsersAsync, getUserList, setCurrentOfflineUserAsync, updateUserNameAsync } from \"../features/users/userSlice\";\n\ntype UserItemProps = {\n    user: UserObject;\n}\n\ntype UserItemState = {\n    isOptions: boolean;\n    isRename: boolean;\n    renameValue: string;\n    isDelete: boolean;\n}\n\nclass UserItem extends React.Component<UserItemProps, UserItemState> {\n    constructor(props: UserItemProps) {\n        super(props);\n\n        this.state = {\n            isOptions: false,\n            isRename: false,\n            renameValue: \"\",\n            isDelete: false\n        };\n\n        this.showRenameModal = this.showRenameModal.bind(this);\n        this.hideRenameModal = this.hideRenameModal.bind(this);\n        this.renameUser = this.renameUser.bind(this);\n\n        this.showDeleteModal = this.showDeleteModal.bind(this);\n        this.hideDeleteModal = this.hideDeleteModal.bind(this);\n        this.deleteUser = this.deleteUser.bind(this);\n    }\n\n    showRenameModal(): void {\n        this.setState({isOptions: false, isRename: true, renameValue: \"\"});\n    }\n\n    hideRenameModal(): void {\n        this.setState({isRename: false});\n    }\n\n    async renameUser(): Promise<void> {\n        const { user } = this.props;\n        const { renameValue } = this.state;\n        if (!renameValue)\n            return;\n\n        await store.dispatch(updateUserNameAsync(user.userId, renameValue));\n        this.hideRenameModal();\n    }\n\n    showDeleteModal(): void {\n        this.setState({isOptions: false, isDelete: true});\n    }\n\n    hideDeleteModal(): void {\n        this.setState({isDelete: false});\n    }\n\n    async deleteUser(): Promise<void> {\n        const { user } = this.props;\n        await store.dispatch(deleteOfflineUserAsync(user.userId));\n        this.hideDeleteModal();\n    }\n\n    render(): JSX.Element {\n        const { user } = this.props;\n        const { isOptions, isRename, renameValue, isDelete } = this.state;\n\n        return (\n            <>\n                <div className=\"transition duration-200 ease-in-out w-full p-4 flex justify-between bg-gray-700 text-gray-200 hover:bg-indigo-400 hover:text-indigo-100 cursor-pointer\"\n                    onClick={async () => await store.dispatch(setCurrentOfflineUserAsync(user.userId))}>\n                    <div className=\"w-full flex justify-center select-none\">{user.name}</div>\n                    <div className=\"\">\n                        <Dropdown show={isOptions}\n                            onToggle={next => this.setState({isOptions: next})}>\n                            <div className=\"relative flex flex-row-reverse\">\n                                <Dropdown.Toggle>\n                                    {(props, meta) => (\n                                        <SecondaryButton icon=\"ellipsis-v\" \n                                            className=\"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600\"\n                                            onClick={event => {\n                                                event.preventDefault();\n                                                event.stopPropagation();\n                                                meta.toggle(!isOptions, event);\n                                            }} />\n                                    )}\n                                </Dropdown.Toggle>\n                                <Dropdown.Menu show={isOptions} flip={true}>\n                                    {(props) => (\n                                        <>\n                                            {isOptions && (\n                                                <div className=\"absolute z-20 shadow-lg w-32\" style={{top: \"1.5rem\"}}>\n                                                    <div onClick={event => {\n                                                        event.preventDefault();\n                                                        event.stopPropagation();\n                                                        this.showRenameModal();\n                                                    }}>\n                                                        <ContextMenuItem text=\"Change Name\"\n                                                            icon=\"edit\" />\n                                                    </div>\n                                                    <div onClick={event => {\n                                                        event.preventDefault();\n                                                        event.stopPropagation();\n                                                        this.showDeleteModal();\n                                                    }}>\n                                                        <ContextMenuItem text=\"Delete\"\n                                                            icon=\"trash-alt\"\n                                                            className=\"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200\" />\n                                                    </div>\n                                                </div>\n                                            ) ||\n                                                !isOptions && (\n                                                    <div className=\"\"></div>\n                                                )}\n                                        </>\n                                    )}\n                                </Dropdown.Menu>\n                            </div>\n                        </Dropdown>\n                    </div>\n                </div>\n\n                <CustomModal show={isRename}\n                    onHide={() => this.hideRenameModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium\">Rename</h2>\n                            <h2 className=\"text-lg font-bold\">&apos;{user.name}&apos;</h2>\n                        </div>\n                        <div className=\"mb-4\">\n                            <Input value={renameValue} \n                                label=\"Name\" \n                                placeholder=\"Enter notebook name...\"\n                                onChange={event => this.setState({renameValue: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Save\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.renameUser} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideRenameModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n\n                <CustomModal show={isDelete}\n                    onHide={() => this.hideDeleteModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <div className=\"mb-4 flex flex-row\">\n                            <h2 className=\"mr-1 text-lg font-medium text-red-600\">Delete</h2>\n                            <h2 className=\"text-lg font-bold text-red-600\">&apos;{user.name}&apos;?</h2>\n                        </div>\n                        <div className=\"mb-4 w-full flex items-center\">\n                            <span className=\"text-center\">Are you sure you want to delete the user &apos;{user.name}&apos;? This action is <span className=\"text-red-600 font-bold\">irreversible.</span></span>\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <CancelButton text=\"Delete\" \n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.deleteUser} />\n                            <SecondaryButton text=\"Cancel\" \n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideDeleteModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </>\n        );\n    }\n}\n\ntype UsersPageProps = {\n    users: UserObject[];\n}\n\ntype UsersPageState = {\n    isAddingUser: boolean;\n    userName: string;\n}\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        users: state.user.userList\n    };\n};\n\nclass UsersPageInner extends React.Component<UsersPageProps, UsersPageState> {\n    constructor(props: UsersPageProps) {\n        super(props);\n\n        this.state = {\n            isAddingUser: false,\n            userName: \"\"\n        };\n\n        this.showAddUserModal = this.showAddUserModal.bind(this);\n        this.hideAddUserModal = this.hideAddUserModal.bind(this);\n        this.addUser = this.addUser.bind(this);\n    }\n\n    async componentDidMount(): Promise<void> {\n        await store.dispatch(fetchOfflineUsersAsync());\n    }\n\n    showAddUserModal(): void {\n        this.setState({isAddingUser: true});\n    }\n\n    hideAddUserModal(): void {\n        this.setState({isAddingUser: false});\n    }\n\n    async addUser(): Promise<void> {\n        const { userName } = this.state;\n        if (!userName)\n            return;\n\n        await store.dispatch(createNewUserAsync(userName));\n        this.hideAddUserModal();\n    }\n\n    render(): JSX.Element {\n        const { users } = this.props;\n        const { isAddingUser, userName } = this.state;\n        const sortedUsers = users.slice().sort((a, b) => a.name.localeCompare(b.name));\n\n        return (\n            <div className=\"w-screen h-screen flex justify-center items-center bg-gray-200\">\n                <div className=\"flex flex-col\">\n                    <div className=\"w-64 py-4 mb-4 grid gap-2 bg-gray-900\">\n                        <span className=\"px-4 mb-2 text-xl text-gray-300\">Users</span>\n                        {sortedUsers.map((user, index) => (\n                            <UserItem key={index} user={user} />\n                        ))}\n                    </div>\n                    <OKButton icon=\"user-plus\" text=\"Add User\"\n                        className=\"text-sm p-4 flex justify-center\"\n                        onClick={this.showAddUserModal} />\n                </div>\n\n                <CustomModal show={isAddingUser}\n                    onHide={() => this.hideAddUserModal()}>\n                    <div className=\"p-4 bg-gray-100 w-64\">\n                        <h2 className=\"mb-4 text-lg font-medium\">Create New User</h2>\n                        <div className=\"mb-4\">\n                            <Input value={userName}\n                                label=\"Name\"\n                                placeholder=\"Enter user name...\"\n                                onChange={event => this.setState({userName: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-row-reverse\">\n                            <PrimaryButton text=\"Create\"\n                                className=\"px-2 py-1 ml-2 text-xs\"\n                                onClick={this.addUser} />\n                            <SecondaryButton text=\"Cancel\"\n                                className=\"px-2 py-1 text-xs\"\n                                onClick={() => this.hideAddUserModal()} />\n                        </div>\n                    </div>\n                </CustomModal>\n            </div>\n        );\n    }\n}\n\nconst UsersPage = connect(mapStateToProps)(UsersPageInner);\nexport default UsersPage;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport DBService, { DBType } from \"../db/DBService\";\nimport { UserObject } from \"../db/models\";\nimport { setCurrentOfflineUserAsync } from \"../features/users/userSlice\";\nimport MainPage from \"../pages/MainPage\";\nimport UsersPage from \"../pages/UsersPage\";\nimport Cookies from \"../utils/Cookies\";\nimport store, { RootState } from \"./store\";\n\ntype OfflineAppProps = {\n    user: UserObject | undefined;\n}\n\ntype OfflineAppState = {\n    isDbLoading: boolean;\n}\n\nconst mapStateToProps = (state: RootState) => {\n    return {\n        user: state.user.currentUser\n    };\n};\n\nclass OfflineAppInner extends React.Component<OfflineAppProps, OfflineAppState> {\n    constructor(props: OfflineAppProps) {\n        super(props);\n\n        this.state = {\n            isDbLoading: true\n        };\n\n        this.onDBReady = this.onDBReady.bind(this);\n    }\n\n    async componentDidMount(): Promise<void> {\n        await DBService.start(DBType.Offline);\n        if (DBService.db) {\n            DBService.db.onReady(this.onDBReady);\n        }\n    }\n\n    async onDBReady(): Promise<void> {\n        if (DBService.db)\n            await DBService.db.seedDatabase();\n\n        const userId = Cookies.getCookie(\"user_id\");\n        if (userId) {\n            await store.dispatch(setCurrentOfflineUserAsync(userId));\n            Cookies.setCookie(\"user_id\", userId);\n        }\n        \n        this.setState({isDbLoading: false});\n    }\n\n    render(): JSX.Element | null {\n        const { user } = this.props;\n        const { isDbLoading } = this.state;\n\n        if (isDbLoading)\n            return null;\n\n        return (\n            <>\n                <Switch>\n                    <Route path=\"/main\" component={MainPage} />\n                    <Route path=\"/users\" component={UsersPage} />\n                </Switch>\n                {user && (\n                    <Redirect to=\"/main\" />\n                ) ||\n                !user && (\n                    <Redirect to=\"/users\" />\n                )}\n            </>\n        );\n    }\n}\n\nconst OfflineApp = connect(mapStateToProps)(OfflineAppInner);\nexport default OfflineApp;","import React from \"react\";\n\ntype LoginPageProps = {\n\n}\n\ntype LoginPageState = {\n\n}\n\nexport default class LoginPage extends React.Component<LoginPageProps, LoginPageState> {\n    constructor(props: LoginPageProps) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    render(): JSX.Element {\n        return (\n            <div className=\"w-screen h-screen flex items-center justify-center\">\n                Login Page\n            </div>\n        );\n    }\n}","import React from \"react\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport { fab } from \"@fortawesome/free-brands-svg-icons\";\nimport { BrowserRouter, Link, Route, Switch, useParams } from \"react-router-dom\";\nimport OfflineApp from \"./OfflineApp\";\nimport OnlineApp from \"./OnlineApp\";\nimport { twMerge } from \"tailwind-merge\";\nimport { baseName } from \"..\";\n\nlibrary.add(fas, fab);\n\ntype ConnectivityItemProps = {\n    to: string;\n    text: string;\n    className?: string;\n}\n\nfunction ConnectivityItem(props: ConnectivityItemProps): JSX.Element {\n    return (\n        <Link className={twMerge(\"transition duration-200 ease-in-out w-full p-4 flex justify-center bg-gray-800 text-gray-200 hover:bg-indigo-500 hover:text-indigo-100\", props.className)}\n            to={props.to}>\n            {props.text}\n        </Link>\n    );\n}\n\nfunction ConnectivityPage(): JSX.Element {\n    return (\n        <div className=\"w-screen h-screen flex justify-center items-center bg-gray-200\">\n            <div className=\"w-64 py-4 grid gap-2 bg-gray-900\">\n                <ConnectivityItem to=\"/offline\" text=\"Offline\" />\n                <ConnectivityItem to=\"/\" text=\"Online\" />\n            </div>\n        </div>\n    );\n}\n\ntype AppProps = {\n\n}\n\nexport default function App(props: AppProps): JSX.Element {\n    return (\n        <>\n            <Switch>\n                {/* TODO: Change to this once online mode is implemented\n                <Route path=\"/:connectivity\" component={AppWrapper} />\n                <Route exact path=\"/\" component={ConnectivityPage} />\n                */}\n                <Route path=\"/\" component={AppWrapper} />\n            </Switch>\n        </>\n    );\n}\n\ntype Params = {\n    connectivity: string;\n}\n\nfunction AppWrapper(): JSX.Element | null {\n    const { connectivity } = useParams<Params>();\n    \n    {/* TODO: Remove this return once online mode is implemented */}\n    return (\n        <BrowserRouter basename={`${baseName}/offline`}>\n            <OfflineApp />\n        </BrowserRouter>\n    );\n    \n    if (connectivity.toLowerCase() === \"offline\") {\n        return (\n            <BrowserRouter basename={`${baseName}/offline`}>\n                <OfflineApp />\n            </BrowserRouter>\n        );\n    } else if (connectivity.toLowerCase() === \"online\") {\n        return (\n            <BrowserRouter basename={`${baseName}/online`}>\n                <OnlineApp />\n            </BrowserRouter>\n        );\n    }\n    else {\n        return null;\n    }\n}\n","export default class Descriptions {\n    static NodeSpecific = {\n        PrimitiveOutput: {\n            Description: \"Outputs string, boolean, or number values\"\n        },\n\n        LineChart: {\n            Description: \"Outputs a line chart\",\n            IsSmoothProperty: \"If true, makes the chart lines curvy\"\n        },\n        StackedLineChart: {\n            Description: \"Outputs a stacked line chart. Unlike Line Chart, this stacks each charted lines to each other vertically.\"\n        },\n        BarChart: {\n            Description: \"Outputs a bar chart\"\n        },\n        HorizontalBarChart: {\n            Description: \"Outputs a bar chart on the horizontal direction\"\n        },\n        StackedBarChart: {\n            Description: \"Outputs a stacked bar chart. Unlike Bar Chart, this groups and stacks each charted bars vertically.\"\n        },\n        ViolinPlot: {\n            Description: \"Outputs a violin plot. Great for visualizing how densely packed the data points are.\",\n        },\n        BoxPlot: {\n            Description: \"Outputs a box plot. Great for visualizing the density and outliers of the data points.\"\n        },\n\n        AddDataFrame: {\n            Description: \"Adds a DataFrame, Series, or number to a DataFrame, element-wise\"\n        },\n        SubtractDataFrame: {\n            Description: \"Subtracts a DataFrame, Series, or number to a DataFrame, element-wise\"\n        },\n        MultiplyDataFrame: {\n            Description: \"Multiplies a DataFrame, Series, or number to a DataFrame, element-wise\"\n        },\n        DivideDataFrame: {\n            Description: \"Divide a DataFrame, Series, or number to a DataFrame, element-wise. Remember not to divide by zero!\"\n        },\n        ModDataFrame: {\n            Description: \"Applies the Modulo operation from a DataFrame, Series, or number to a DataFrame, element-wise\"\n        },\n        PowerDataFrame: {\n            Description: \"Applies the Exponent operation from a DataFrame, Series, or number to a DataFrame, element-wise\"\n        },\n        AbsoluteDataFrame: {\n            Description: \"Applies the Absolute operation to a DataFrame, element-wise\"\n        },\n        RoundDataFrame: {\n            Description: \"Rounds the values in a DataFrame, element-wise\"\n        },\n\n        RandomLabels: {\n            Description: \"Generates a randomized Series of values based on the provided seed and an array of label values\",\n            LabelsOutput: \"The resulting randomized Series of values\",\n            LabelsProperty: \"Specifies all possible unique values that this random Series will generate. Each unique value must be separated by a comma.\"\n        },\n        RandomData: {\n            Description: \"Generates a randomized DataFrame of values based on the provided seed, and the minimum and maximum values for each column\",\n            DataOutput: \"The resulting randomized DataFrame of values\",\n            ColumnNamesProperty: \"Specifies the column names of the resulting Series. Each column name must be separated by a comma, and number of column names must equal the number of min-max values. Defaults to 'Data_1', 'Data_2', and so on if no column name is specified.\",\n            MinMaxProperty: \"Specifies the minimum and maximum values that each data column can generate. Each min-max pair must be formatted as 'min:max' and separated by a comma. Here is an example: 0:100, -100:42, 12:234\",\n            IsIntegersProperty: \"If true, the numbers generated will be integers instead of decimals\"\n        },\n        ARange: {\n            Description: \"Generates a Series of consecutive numbers based on the provided start, stop, and step values\",\n            ARangeOutput: \"The resulting Series of consecutive numbers\",\n            StartProperty: \"The starting value of the Series. Can be bigger than the stop value.\",\n            StopProperty: \"The stopping value of the Series. This value is not included in the generated Series. Can be smaller than the start value.\",\n            StepProperty: \"Specifies the gap size between each value\"\n        },\n\n        DescribeDataFrame: {\n            Description: \"Describes each of the columns of the given DataFrame in terms of count, mean, standard deviation, min, median, and max values, and variance\"\n        },\n        Histogram: {\n            Description: \"Creates a histogram of the given Series\",\n            LabelsOutput: \"The labels (x-axis) Series of the resulting histogram\",\n            CountOutput: \"The count (y-axis) Series of the resulting histogram\",\n            NameProperty: \"The column name of the resulting count Series for charting purposes\",\n            BinsProperty: \"Specifies the amount of bins that this histogram will have\"\n        },\n        HeadDataFrame: {\n            Description: \"Shows the first few rows of a DataFrame, as specified by the rowCount property\"\n        },\n        TailDataFrame: {\n            Description: \"Shows the last few rows of a DataFrame, as specified by the rowCount property\"\n        },\n        CountDataFrame: {\n            Description: \"Counts the amount of rows or columns in a DataFrame\",\n            CountRowsOutput: \"Returns how many rows the DataFrame has\",\n            CountColumnsOutput: \"Returns how many columns the DataFrame has\"\n        },\n\n        GroupByDataFrame: {\n            Description: \"Groups rows based on the given columns and key values\",\n            KeysProperty: \"Specifies the values to be used for grouping within the specified columns. Each key value must be separated by a comma.\"\n        },\n        GroupCountDataFrame: {\n            Description: \"Groups rows and returns the size of each grouping\",\n            IsPercentProperty: \"If true, returns each count as a percentage of the total count\"\n        },\n        GroupCumMaxDataFrame: {\n            Description: \"Groups rows and returns the cumulative maximum over the selected columns\"\n        },\n        GroupCumMinDataFrame: {\n            Description: \"Groups rows and returns the cumulative minimum over the selected columns\"\n        },\n        GroupCumSumDataFrame: {\n            Description: \"Groups rows and returns the cumulative sum over the selected columns\"\n        },\n        GroupCumProdDataFrame: {\n            Description: \"Groups rows and returns the cumulative product over the selected columns\"\n        },\n        GroupMeanDataFrame: {\n            Description: \"Groups rows and returns the mean of the values within each group over the selected columns\"\n        },\n        GroupSumDataFrame: {\n            Description: \"Groups rows and returns the sum of the values within each group over the selected columns\"\n        },\n        GroupMaxDataFrame: {\n            Description: \"Groups rows and returns the max of the values within each group over the selected columns\"\n        },\n        GroupMinDataFrame: {\n            Description: \"Groups rows and returns the min of the values within each group over the selected columns\"\n        },\n        GroupStdDataFrame: {\n            Description: \"Groups rows and returns the standard deviation of the values within each group over the selected columns\"\n        },\n        GroupVarDataFrame: {\n            Description: \"Groups rows and returns the variance of the values within each group over the selected columns\"\n        },\n\n        MapDataFrame: {\n            Description: \"Changes specified values within the specified columns into another value\",\n            ColumnProperty: \"Specifies the column over which to map the values\",\n            MappingsProperty: \"Specifies the value mapping desired. Each mapping pair must be formatted as 'oldvalue:newvalue' and separated by a comma. A value of '$mean' specifies that the mapped value is the average value over the column. Here is an example: Work:work, light:0, price:$mean\",\n            ReplaceColumnProperty: \"If true, replaces the selected column with the new column. Otherwise, creates another column at the end of the DataFrame.\"\n        },\n        RenameColumns: {\n            Description: \"Renames the columns of the DataFrame\"\n        },\n        RemoveColumns: {\n            Description: \"Removes the specified columns from the DataFrame\"\n        },\n        FillNaDataFrame: {\n            Description: \"Fills undefined, null, NaN, or empty string values with the specified values per column\",\n            MappingsProperty: \"Specifies the value mapping desired. Each mapping pair must be formatted as 'column:value' and separated by a comma. A value of '$mean' specifies that the fill-in value is the average value over the column. Here is an example: Col1:apple, Col2:mean, Col3:1\"\n        },\n        SortDataFrame: {\n            Description: \"Sorts the DataFrame by the specified column\",\n            SortByColumnProperty: \"The column to sort by\",\n            IsAscendingProperty: \"If true, the sorting will be in ascending order, and descending order otherwise\"\n        },\n        MergeDataFrames: {\n            Description: \"Merges the columns of the left and right DataFrames based on the join type. Follows the SQL merge operation.\",\n            LeftInput: \"The left DataFrame or Series of this merging operation\",\n            RightInput: \"The right DataFrame or Series of this merging operation\",\n            OnColumnsProperty: \"Specifies the columns over which to merge the DataFrames together\",\n            JoinTypeProperty: \"Specifies the type of join to be used for the merge operation. Possible values are: left, right, outer, inner\"\n        },\n        AppendDataFrame: {\n            Description: \"Appends the rows of the 2nd DataFrame to the bottom of the 1st DataFrame\",\n            Input1Input: \"The DataFrame to append to and is the resulting DataFrame\",\n            Input2Input: \"The DataFrame to be appended to the 1st DataFrame\"\n        },\n\n        DataFrameOutput: {\n            Description: \"Outputs a DataFrame or Series\",\n            Input: \"The DataFrame or Series to be outputted\",\n            RowCountProperty: \"Specifies the number of rows from the head of the DataFrame or Series to show. Set to 0 to show all the data.\"\n        },\n\n        DataFrameLoc: {\n            Description: \"Queries and filters the DataFrame through either the column values or row values\",\n            ColumnsProperty: \"Specifies the columns to include. Must be written either as a list of column names or as a single start-end slice. The list of column names must be separated by commas. The start-end slice must be formatted as 'start:end'.\",\n            RowsProperty: \"Specifies the rows to include. Must be written in a condition format 'Column <condition> value'. Valid conditions are less than (<), greater than (>), less than equal (<=), greater than equal (>=), equal (==), not equal (!=), contains (has), starts with (start), and ends with (end). Here is an example: Age <= 50\",\n            ResetIndexProperty: \"If true, row indices do not carry over from the previous DataFrame\"\n        },\n        DataFrameiLoc: {\n            Description: \"Queries and filters the DataFrame through either the column index or row index\",\n            ColumnsProperty: \"Specifies the columns to include. Must be written either as a list of column index numbers or as a single start-end slice. The list of column index numbers must be separated by commas. The start-end slice must be formatted as 'start:end' and contain only numbers.\",\n            RowsProperty: \"Specifies the rows to include. Must be written either as a list of row index numbers or as a single start-end slice. The list of row index numbers must be separated by commas. The start-end slice must be formatted as 'start:end' and contain only numbers.\"\n        },\n        GetNumericalColumns: {\n            Description: \"Returns a DataFrame containing only the numerical columns of the provided DataFrame\"\n        },\n\n        CountSeries: {\n            Description: \"Counts the amount of values in a Series\",\n            SkipNullProperty: \"If true, does not include null values into the count. Otherwise, includes everything into the count.\"\n        },\n        CumMaxSeries: {\n            Description: \"Calculates the cumulative maximum over a Series\"\n        },\n        CumMinSeries: {\n            Description: \"Calculates the cumulative minimum over a Series\"\n        },\n        CumSumSeries: {\n            Description: \"Calculates the cumulative sum over a Series\"\n        },\n        CumProdSeries: {\n            Description: \"Calculates the cumulative product over a Series\"\n        },\n        MaxSeries: {\n            Description: \"Calculates the maximum value in a Series\"\n        },\n        MinSeries: {\n            Description: \"Calculates the minimum value in a Series\"\n        },\n        MeanSeries: {\n            Description: \"Calculates the mean (average) of a Series\"\n        },\n        MedianSeries: {\n            Description: \"Calculates the median of a Series\"\n        },\n        ModeSeries: {\n            Description: \"Calculates the mode of a Series\"\n        },\n        SumSeries: {\n            Description: \"Calculates the sum of a Series\"\n        },\n        StdSeries: {\n            Description: \"Calculates the standard deviation of a Series\"\n        },\n        VarSeries: {\n            Description: \"Calculates the variance of a Series\"\n        },\n        NUniqueSeries: {\n            Description: \"Counts the unique values in a Series\"\n        },\n\n        DataFrameToSeries: {\n            Description: \"Converts a DataFrame to a Series based on the specified column\",\n            ColumnProperty: \"Specifies a column from the DataFrame\"\n        },\n        SeriesToDataFrame: {\n            Description: \"Converts a Series to a DataFrame\"\n        },\n\n        AddNumbers: {\n            Description: \"Adds two numbers\",\n            Addend1Input: \"The number to add to\",\n            Addend2Input: \"The number to add by\"\n        },\n        SubtractNumbers: {\n            Description: \"Subtracts two numbers\",\n            MinuendInput: \"The number to subtract from\",\n            SubtrahendInput: \"The number to subtract by\"\n        },\n        MultiplyNumbers: {\n            Description: \"Multiplies two numbers\",\n            MultiplicandInput: \"The number to multiply to\",\n            MultiplierInput: \"The number to multiply by\"\n        },\n        DivideNumbers: {\n            Description: \"Divides two numbers\",\n            DividendInput: \"The number to divide from\",\n            DivisorInput: \"The number to divide by. Cannot be zero.\"\n        },\n        ModuloNumbers: {\n            Description: \"Returns the remainder from the division of two numbers\",\n            DividendInput: \"The number to divide from\",\n            DivisorInput: \"The number to divide by. Cannot be zero.\"\n        },\n        PowerNumbers: {\n            Description: \"Exponentiates two numbers\",\n            BaseInput: \"The base number to exponentiate\",\n            ExponentInput: \"The exponent number\"\n        },\n        SqrtNumber: {\n            Description: \"Returns the square root of a number\"\n        },\n        LogNumbers: {\n            Description: \"Logarithmize two numbers\",\n            BaseInput: \"The base number of the logarithm\",\n            NumberInput: \"The number to logarithmize\"\n        },\n        AbsNumber: {\n            Description: \"Returns the absolute value of a number\"\n        },\n        InvertNumber: {\n            Description: \"Returns the sign-inverted value of a number\"\n        },\n        FloorNumber: {\n            Description: \"Returns the nearest integer lower or equal to the number\"\n        },\n        RoundNumber: {\n            Description: \"Returns the given number rounded to the nearest integer\"\n        },\n        CeilingNumber: {\n            Description: \"Returns the nearest integer higher or equal to the number\"\n        },\n        RandomNumber: {\n            Description: \"Returns a random number between the specified minimum and maximum values\",\n            MinProperty: \"Specifies the minimum value to be generated\",\n            MaxProperty: \"Specifies the maximum value to be generated, not including this value\"\n        },\n\n        PiConstant: {\n            Description: \"Returns the pi constant\",\n            Output: \"The pi constant\"\n        },\n        EConstant: {\n            Description: \"Returns the natural log (e) constant\",\n            Output: \"The natural log (e) constant\"\n        },\n        EulerConstant: {\n            Description: \"Returns the Euler's constant\",\n            Output: \"The Euler's constant\"\n        },\n        Root2Constant: {\n            Description: \"Returns the square root of 2 constant\",\n            Output: \"The square root of 2 constant\"\n        },\n        GoldenRatioConstant: {\n            Description: \"Returns the golden ratio constant\",\n            Output: \"The golden ratio constant\"\n        },\n\n        SineNumber: {\n            Description: \"Returns the sine of the number\"\n        },\n        CosineNumber: {\n            Description: \"Returns the cosine of the number\"\n        },\n        TangentNumber: {\n            Description: \"Returns the tangent of the number\"\n        },\n        ArcSineNumber: {\n            Description: \"Returns the arcsine of the number\"\n        },\n        ArcCosineNumber: {\n            Description: \"Returns the arccosine of the number\"\n        },\n        ArcTangentNumber: {\n            Description: \"Returns the arctangent of the number\"\n        },\n        CosecantNumber: {\n            Description: \"Returns the cosecant of the number\"\n        },\n        SecantNumber: {\n            Description: \"Returns the secant of the number\"\n        },\n        CotangentNumber: {\n            Description: \"Returns the cotangent of the number\"\n        }\n\n    }\n\n    static Common = {\n        InputValueToOutput: \"The value to be outputted\",\n        OutputOrderProperty: \"Determines the order that output nodes are evaluated and shown on the Output section. The lower the value, the earlier an output node is evaluated.\",\n        ResultOutput: \"The result of the operation\",\n        DataFrameInput: \"The DataFrame to operate on\",\n        SeriesInput: \"The Series to operate on\",\n        Chart: {\n            LabelsInput: \"The labels shown on the x-axis. Can be either numbers or strings.\",\n            DataInput: \"The data to be charted. All DataFrame or Series columns must consist only of numerical values. Use a Dataframe Loc node to pick the data columns to be charted.\",\n            DataWithLabelInput: \"The data to be charted. Exactly one column used for labelling is also required. All other columns must consist only of numerical values. Use a Dataframe Loc node to pick the data columns to be charted.\",\n\n            TitleProperty: \"Specifies the title of the chart\",\n            LabelsColumnProperty: \"Specifies the column to be used for labelling\",\n            IgnoreDenseLabelsProperty: \"If true, turns off the error warning about too many labels (> 30) if it is intentional. However, the chart may grow to be too crowded.\",\n        },\n        DataFrame: {\n            Input1Input: \"The DataFrame to be modified and outputted\",\n            RowCountProperty: \"Specifies how many rows to generate\"\n        },\n        DataFrameBinary: {\n            Input2Input: \"The DataFrame, Series, or number doing the modification\",\n            IsRowAxisProperty: \"Used only when input2 is a Series. If true, the operation is applied along the row axis, but column axis otherwise.\"\n        },\n        DataFrameDataGen: {\n            SeedInput: \"Specifies the seed for generating the same sequence of values. If left empty, it will instead produce different sequences of values.\",\n            ColumnNameProperty: \"Specifies the column name of the resulting Series\"\n        },\n        DataFrameDescriptive: {\n            DataFrameOutput: \"The resulting DataFrame\",\n            ColumnProperty: \"Specifies the column to be operated on in the given DataFrame\"\n        },\n        DataFrameGrouping: {\n            GroupColumnsProperty: \"Specifies the label columns that the DataFrame will be grouped by. Each column name must be separated by a comma.\",\n            TargetColumnsProperty: \"Specifies the target data columns to apply this operation on after the grouping. Each column name must be separated by a comma.\"\n        },\n        DataFrameModify: {\n            MappingsProperty: \"Specifies the value mapping desired. Each mapping pair must be formatted as 'oldvalue:newvalue' and separated by a comma. Here is an example: Work:work, Price:Cost, light:0\",\n            ColumnsProperty: \"Specifies the columns to operate on. Each column name must be separated by a comma.\"\n        },\n        Math: {\n            InputNumber: \"The number to operate on\"\n        }\n    };\n}","export default class Errors {\n    public static MissingNodeProperties = \"Somehow, the properties of this node are missing.\";\n    public static MissingNodeInput = (inputName: string): string => `The input '${inputName}' of this node is missing. Perhaps this input is not connected?`;\n\n    public static EmptyNodePropertyNoEffect = (propertyName: string): string => `The property '${propertyName}' of this node is empty, making this node have no effect.`;\n    public static EmptyArray = (name: string, modifier = \"value\"): string => `The ${modifier} '${name}' is empty and might not have any effect.`;\n\n    public static ValueNotExists = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' does not exist.`;\n    public static ValueExists = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' already exists.`;\n\n    public static CannotBeEmpty = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' cannot be empty.`;\n    public static NumberCannotBeZero = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' cannot be zero.`;\n    public static NumberCannotBeNegative = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' cannot be negative.`;\n    public static NumberCannotBeZeroOrNegative = (value: string, modifier = \"value\"): string => `The ${modifier} '${value}' cannot be zero or negative.`;\n\n    public static ArrayLengthsNotEqual = (arr1: string, arr2: string): string => `The length of '${arr1}' is not the same as the length of '${arr2}'.`;\n\n    public static ColumnValueWrongType = (column: string, value: string, type: string): string => `The value '${value}' of column '${column}' is of the wrong type, should be '${type}'.`;\n    public static DataFrameNullColumnsCannotDescribe = (columns: string[]): string => `Could not describe this DataFrame, it contains null values on these columns: [${columns}]`;\n    public static DataFrameNumericalColumnsOnly = (input: string, columns: string[]): string => `The columns [${columns}] of the input '${input}' are not allowed for this operation. Perhaps use the 'Get Numerical Columns' Query node to filter out non-numerical columns?`\n    public static DataFrameOnlyOneNonNumericalColumn = (dfName: string, columns: string[]): string => `The dataframe '${dfName}' cannot have more than one non-numerical column. The columns [${columns}] are found to be non-numerical.`;\n    public static DataFrameMismatchShape = (df1Name: string, df1Shape: number[], df2Name: string, df2Shape: number[]): string => `The dataframe '${df2Name}' with shape [${df2Shape}] does not match the dataframe '${df1Name}' with shape [${df1Shape}].`;\n    public static DataFrameSeriesMismatchShape = (dfName: string, dfSize: number, seriesName: string, seriesSize: number, modifier = \"column\"): string => `The series '${seriesName}' of length ${seriesSize} does not match the dataframe '${dfName}' with ${dfSize} ${modifier}s. Maybe the 'isRowAxis' property is not correct?`;\n\n    public static DenseUniqueLabels = (columnName: string): string => `The column '${columnName}' may have too many unique labels (> 30). If this is intended, turn on 'ignoreDenseLabels' on the node properties.`;\n\n    public static DoesNotMatchPattern = (name: string, value: string, modifier = \"value\"): string => `The ${modifier} '${name}' with value '${value}' does not match the pattern.`;\n\n    public static MinCannotBeGreaterThanMax = (pair: string): string => `For the min-max pair '${pair}', the min value cannot be greater than the max value.`;\n\n    public static InvalidStartStopStepConfig = (start: number, stop: number, step: number): string => `The start of '${start}', stop of '${stop}', and step of '${step}' is an invalid configuration.`;\n}","export default class MathUtils {\n    static mod(n: number, m: number): number {\n        return ((n % m) + m) % m;\n    }\n\n    static toDecimal(num: number, places: number): number {\n        return Number(`${Math.round(Number(`${num}e+${places}`))}e-${places}`);\n    }\n}","import { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler, NodeCollection } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport MathUtils from \"../utils/MathUtils\";\nimport Meta from \"../utils/Meta\";\nimport { Types } from \"../utils/Types\";\n\nconst addNumbers: NodeType = {\n    id: \"add-numbers\",\n    name: \"Add Numbers\",\n    description: Descriptions.NodeSpecific.AddNumbers.Description,\n    //variableName: \"addNumberResult\",\n    style: {\n        width: 130\n    },\n    inputSlots: [\n        {\n            id: \"addend1\",\n            description: Descriptions.NodeSpecific.AddNumbers.Addend1Input,\n            type: Types.Number\n        },\n        {\n            id: \"addend2\",\n            description: Descriptions.NodeSpecific.AddNumbers.Addend2Input,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"sum\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"addend1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"addend1\"));\n\n        if (Meta.isEmpty(input[\"addend2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"addend2\"));\n\n        if (Meta.isEmpty(input[\"addend1\"]) || Meta.isEmpty(input[\"addend2\"]))\n            return {};\n        \n        const addend1 = input[\"addend1\"] as number;\n        const addend2 = input[\"addend2\"] as number;\n        const sum = addend1 + addend2;\n        return {sum};\n    }\n};\n\nconst subtractNumbers: NodeType = {\n    id: \"subtract-numbers\",\n    name: \"Subtract Numbers\",\n    description: Descriptions.NodeSpecific.SubtractNumbers.Description,\n    //variableName: \"subtractNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"minuend\",\n            description: Descriptions.NodeSpecific.SubtractNumbers.MinuendInput,\n            type: Types.Number\n        },\n        {\n            id: \"subtrahend\",\n            description: Descriptions.NodeSpecific.SubtractNumbers.SubtrahendInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"difference\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"minuend\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"minuend\"));\n\n        if (Meta.isEmpty(input[\"subtrahend\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"subtrahend\"));\n\n        if (Meta.isEmpty(input[\"minuend\"]) || Meta.isEmpty(input[\"subtrahend\"]))\n            return {};\n        \n        const minuend = input[\"minuend\"] as number;\n        const subtrahend = input[\"subtrahend\"] as number;\n        const difference = minuend - subtrahend;\n        return {difference};\n    }\n};\n\nconst multiplyNumbers: NodeType = {\n    id: \"multiply-numbers\",\n    name: \"Multiply Numbers\",\n    description: Descriptions.NodeSpecific.MultiplyNumbers.Description,\n    //variableName: \"multiplyNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"multiplicand\",\n            description: Descriptions.NodeSpecific.MultiplyNumbers.MultiplicandInput,\n            type: Types.Number\n        },\n        {\n            id: \"multiplier\",\n            description: Descriptions.NodeSpecific.MultiplyNumbers.MultiplierInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"product\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"multiplicand\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"multiplicand\"));\n\n        if (Meta.isEmpty(input[\"multiplier\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"multiplier\"));\n\n        if (Meta.isEmpty(input[\"multiplicand\"]) || Meta.isEmpty(input[\"multiplier\"]))\n            return {};\n        \n        const multiplicand = input[\"multiplicand\"] as number;\n        const multiplier = input[\"multiplier\"] as number;\n        const product = multiplicand * multiplier;\n        return {product};\n    }\n};\n\nconst divideNumbers: NodeType = {\n    id: \"divide-numbers\",\n    name: \"Divide Numbers\",\n    description: Descriptions.NodeSpecific.DivideNumbers.Description,\n    //variableName: \"divideNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"dividend\",\n            description: Descriptions.NodeSpecific.DivideNumbers.DividendInput,\n            type: Types.Number\n        },\n        {\n            id: \"divisor\",\n            description: Descriptions.NodeSpecific.DivideNumbers.DivisorInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"quotient\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"dividend\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"dividend\"));\n\n        if (Meta.isEmpty(input[\"divisor\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"divisor\"));\n\n        if (Meta.isEmpty(input[\"dividend\"]) || Meta.isEmpty(input[\"divisor\"]))\n            return {};\n        \n        const dividend = input[\"dividend\"] as number;\n        const divisor = input[\"divisor\"] as number;\n        if (divisor === 0) {\n            errorHandler.error(Errors.NumberCannotBeZero(\"divisor\", \"input\"));\n            return {};\n        }\n\n        const quotient = dividend / divisor;\n        return {quotient};\n    }\n};\n\nconst moduloNumbers: NodeType = {\n    id: \"modulo-numbers\",\n    name: \"Modulo Numbers\",\n    description: Descriptions.NodeSpecific.ModuloNumbers.Description,\n    //variableName: \"moduloNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"dividend\",\n            description: Descriptions.NodeSpecific.ModuloNumbers.DividendInput,\n            type: Types.Number\n        },\n        {\n            id: \"divisor\",\n            description: Descriptions.NodeSpecific.ModuloNumbers.DivisorInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"modulo\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"dividend\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"dividend\"));\n\n        if (Meta.isEmpty(input[\"divisor\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"divisor\"));\n\n        if (Meta.isEmpty(input[\"dividend\"]) || Meta.isEmpty(input[\"divisor\"]))\n            return {};\n        \n        const dividend = input[\"dividend\"] as number;\n        const divisor = input[\"divisor\"] as number;\n        if (divisor === 0) {\n            errorHandler.error(Errors.NumberCannotBeZero(\"divisor\", \"input\"));\n            return {};\n        }\n        \n        const modulo = MathUtils.mod(dividend, divisor);\n        return {modulo};\n    }\n};\n\nconst powerNumbers: NodeType = {\n    id: \"power-numbers\",\n    name: \"Power Numbers\",\n    description: Descriptions.NodeSpecific.PowerNumbers.Description,\n    //variableName: \"powerNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"base\",\n            description: Descriptions.NodeSpecific.PowerNumbers.BaseInput,\n            type: Types.Number\n        },\n        {\n            id: \"exponent\",\n            description: Descriptions.NodeSpecific.PowerNumbers.ExponentInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"power\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"base\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"base\"));\n\n        if (Meta.isEmpty(input[\"exponent\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"exponent\"));\n\n        if (Meta.isEmpty(input[\"base\"]) || Meta.isEmpty(input[\"exponent\"]))\n            return {};\n        \n        const base = input[\"base\"] as number;\n        const exponent = input[\"exponent\"] as number;\n        const power = Math.pow(base, exponent);\n        return {power};\n    }\n};\n\nconst sqrtNumber: NodeType = {\n    id: \"sqrt-number\",\n    name: \"Square Root Number\",\n    description: Descriptions.NodeSpecific.SqrtNumber.Description,\n    //variableName: \"sqrtNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"radicand\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"sqrt\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"radicand\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"radicand\"));\n            return {};\n        }\n        \n        const radicand = input[\"radicand\"] as number;\n        const sqrt = Math.sqrt(radicand);\n        return {sqrt};\n    }\n};\n\nconst logNumbers: NodeType = {\n    id: \"log-numbers\",\n    name: \"Log Numbers\",\n    description: Descriptions.NodeSpecific.LogNumbers.Description,\n    //variableName: \"powerNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"base\",\n            description: Descriptions.NodeSpecific.LogNumbers.BaseInput,\n            type: Types.Number\n        },\n        {\n            id: \"number\",\n            description: Descriptions.NodeSpecific.LogNumbers.NumberInput,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"log\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"base\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"base\"));\n\n        if (Meta.isEmpty(input[\"number\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n\n        if (Meta.isEmpty(input[\"base\"]) || Meta.isEmpty(input[\"number\"]))\n            return {};\n        \n        const base = input[\"base\"] as number;\n        const number = input[\"number\"] as number;\n        const log = Math.log(number) / Math.log(base);\n        return {log};\n    }\n};\n\nconst absNumber: NodeType = {\n    id: \"abs-number\",\n    name: \"Absolute Number\",\n    description: Descriptions.NodeSpecific.AbsNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"abs\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const abs = Math.abs(number);\n        return {abs};\n    }\n};\n\nconst invertNumber: NodeType = {\n    id: \"invert-number\",\n    name: \"Invert Number\",\n    description: Descriptions.NodeSpecific.InvertNumber.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"invert\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const invert = number * -1;\n        return {invert};\n    }\n};\n\nconst floorNumber: NodeType = {\n    id: \"floor-number\",\n    name: \"Floor Number\",\n    description: Descriptions.NodeSpecific.FloorNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"floor\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const floor = Math.floor(number);\n        return {floor};\n    }\n};\n\nconst roundNumber: NodeType = {\n    id: \"round-number\",\n    name: \"Round Number\",\n    description: Descriptions.NodeSpecific.RoundNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"round\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const round = Math.round(number);\n        return {round};\n    }\n};\n\nconst ceilingNumber: NodeType = {\n    id: \"ceiling-number\",\n    name: \"Ceiling Number\",\n    description: Descriptions.NodeSpecific.CeilingNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"ceiling\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const ceiling = Math.ceil(number);\n        return {ceiling};\n    }\n};\n\nconst randomNumber: NodeType = {\n    id: \"random-number\",\n    name: \"Random Number\",\n    description: Descriptions.NodeSpecific.RandomNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    properties: [\n        {\n            id: \"min\",\n            description: Descriptions.NodeSpecific.RandomNumber.MinProperty,\n            type: \"number\",\n            defaultValue: 0\n        },\n        {\n            id: \"max\",\n            description: Descriptions.NodeSpecific.RandomNumber.MaxProperty,\n            type: \"number\",\n            defaultValue: 1\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"random\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        const min = properties[\"min\"] as number;\n        const max = properties[\"max\"] as number;\n        const random = Math.random() * (max - min) + min;\n        return {random};\n    }\n};\n\n// Constants\n\nconst piConstant: NodeType = {\n    id: \"pi-constant\",\n    name: \"Pi ()\",\n    description: Descriptions.NodeSpecific.PiConstant.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 100,\n    },\n    outputSlots: [\n        {\n            id: \"pi\",\n            description: Descriptions.NodeSpecific.PiConstant.Output,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        return {\n            pi: Math.PI\n        };\n    }\n};\n\nconst eConstant: NodeType = {\n    id: \"e-constant\",\n    name: \"Natural Log (e)\",\n    description: Descriptions.NodeSpecific.EConstant.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 100,\n    },\n    outputSlots: [\n        {\n            id: \"e\",\n            description: Descriptions.NodeSpecific.EConstant.Output,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        return {\n            e: Math.E\n        };\n    }\n};\n\nconst eulerConstant: NodeType = {\n    id: \"euler-constant\",\n    name: \"Euler's Constant\",\n    description: Descriptions.NodeSpecific.EulerConstant.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 100,\n    },\n    outputSlots: [\n        {\n            id: \"euler\",\n            description: Descriptions.NodeSpecific.EulerConstant.Output,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        return {\n            euler: 0.5772156649015328606065120900824024310421\n        };\n    }\n};\n\nconst root2Constant: NodeType = {\n    id: \"root2-constant\",\n    name: \"Square Root of 2\",\n    description: Descriptions.NodeSpecific.Root2Constant.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 100,\n    },\n    outputSlots: [\n        {\n            id: \"root2\",\n            description: Descriptions.NodeSpecific.Root2Constant.Output,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        return {\n            root2: 1.4142135623730950488016887242096980785696\n        };\n    }\n};\n\nconst goldenRatioConstant: NodeType = {\n    id: \"golden-ratio-constant\",\n    name: \"Golden Ratio ()\",\n    description: Descriptions.NodeSpecific.GoldenRatioConstant.Description,\n    //variableName: \"invertNumberResult\",\n    style: {\n        width: 100,\n    },\n    outputSlots: [\n        {\n            id: \"goldenRatio\",\n            description: Descriptions.NodeSpecific.GoldenRatioConstant.Output,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n        \n        return {\n            goldenRatio: 1.6180339887498948482045868343656381177203\n        };\n    }\n};\n\n// Trigonometry\n\nconst sineNumber: NodeType = {\n    id: \"sine-number\",\n    name: \"Sine\",\n    description: Descriptions.NodeSpecific.SineNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"sine\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const sine = Math.sin(number);\n        return {sine};\n    }\n};\n\nconst cosineNumber: NodeType = {\n    id: \"cosine-number\",\n    name: \"Cosine\",\n    description: Descriptions.NodeSpecific.CosineNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cosine\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const cosine = Math.cos(number);\n        return {cosine};\n    }\n};\n\nconst tangentNumber: NodeType = {\n    id: \"tangent-number\",\n    name: \"Tangent\",\n    description: Descriptions.NodeSpecific.TangentNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"tangent\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const tangent = Math.tan(number);\n        return {tangent};\n    }\n};\n\nconst arcsineNumber: NodeType = {\n    id: \"arc-sine-number\",\n    name: \"ArcSine\",\n    description: Descriptions.NodeSpecific.ArcSineNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"arcsine\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const arcsine = Math.asin(number);\n        return {arcsine};\n    }\n};\n\nconst arccosineNumber: NodeType = {\n    id: \"arc-cosine-number\",\n    name: \"ArcCosine\",\n    description: Descriptions.NodeSpecific.ArcCosineNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"arccosine\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const arccosine = Math.acos(number);\n        return {arccosine};\n    }\n};\n\nconst arctangentNumber: NodeType = {\n    id: \"arc-tangent-number\",\n    name: \"ArcTangent\",\n    description: Descriptions.NodeSpecific.ArcTangentNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"arctangent\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const arctangent = Math.atan(number);\n        return {arctangent};\n    }\n};\n\nconst cosecantNumber: NodeType = {\n    id: \"cosecant-number\",\n    name: \"Cosecant\",\n    description: Descriptions.NodeSpecific.CosecantNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cosecant\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const cosecant = 1 / Math.sin(number);\n        return {cosecant};\n    }\n};\n\nconst secantNumber: NodeType = {\n    id: \"secant-number\",\n    name: \"Secant\",\n    description: Descriptions.NodeSpecific.SecantNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"secant\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const secant = 1 / Math.cos(number);\n        return {secant};\n    }\n};\n\nconst cotangentNumber: NodeType = {\n    id: \"cotangent-number\",\n    name: \"Cotangent\",\n    description: Descriptions.NodeSpecific.CotangentNumber.Description,\n    //variableName: \"absNumberResult\",\n    style: {\n        width: 150,\n    },\n    inputSlots: [\n        {\n            id: \"number\",\n            description: Descriptions.Common.Math.InputNumber,\n            type: Types.Number\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cotangent\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"number\"])){\n            errorHandler.error(Errors.MissingNodeInput(\"number\"));\n            return {};\n        }\n        \n        const number = input[\"number\"] as number;\n        const cotangent = 1 / Math.tan(number);\n        return {cotangent};\n    }\n};\n\nconst MathNodes: NodeCollection = {\n    id: \"math\",\n    name: \"Math Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"Constants\",\n            types: [\n                piConstant,\n                eConstant,\n                eulerConstant,\n                root2Constant,\n                goldenRatioConstant\n            ]\n        },\n        {\n            name: \"Trigonometry\",\n            types: [\n                sineNumber,\n                cosineNumber,\n                tangentNumber,\n                arcsineNumber,\n                arccosineNumber,\n                arctangentNumber,\n                cosecantNumber,\n                secantNumber,\n                cotangentNumber\n            ]\n        },\n        {\n            name: \"Operators\",\n            types: [\n                addNumbers, \n                subtractNumbers,\n                multiplyNumbers,\n                divideNumbers,\n                moduloNumbers,\n                powerNumbers,\n                sqrtNumber,\n                logNumbers,\n                absNumber,\n                invertNumber,\n                floorNumber,\n                roundNumber,\n                ceilingNumber,\n                randomNumber\n            ]\n        }\n    ]\n};\nexport default MathNodes;","import { DataFrame, Series } from \"danfojs\";\nimport { CSVSource } from \"../data/DataService\";\nimport { isTypeEqual, Types } from \"../utils/Types\";\nimport NodeExecManager from \"../managers/NodeExecManager\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, PrimitiveOutput, NodeCollection } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\n\nconst primitiveOutputNode: NodeType = {\n    id: \"primitive-output\",\n    name: \"Primitive Output\",\n    //variableName: \"outputResult\",\n    description: Descriptions.NodeSpecific.PrimitiveOutput.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.InputValueToOutput,\n            type: Types.OR(Types.String, Types.Number, Types.Boolean)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!input[\"input\"] || !properties)\n            return {};\n\n        const inputType = typeof input[\"input\"];\n        if (inputType === Types.String || inputType === Types.Number || inputType === Types.Boolean) {\n            const output: PrimitiveOutput = {\n                type: \"primitive\",\n                outputOrder: properties[\"outputOrder\"] as number,\n                output: input[\"input\"] as string | number | boolean\n            };\n            return output;\n        }\n\n        // Return different types to the output visualizer depending on the input\n        return {};\n    }\n};\n\nconst wackyOutputNode: NodeType = {\n    id: \"wacky-primitive-output\",\n    name: \"Wacky Output\",\n    //variableName: \"wackyOutputResult\",\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.OR(Types.String, Types.Number, Types.Boolean)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"isWackyOutput\",\n            type: \"boolean\"\n        },\n        {\n            id: \"repetitionAmount\",\n            type: \"number\"\n        },\n        {\n            id: \"finalOutput\",\n            type: \"string\"\n        },\n        {\n            id: \"hidden\",\n            type: \"string\",\n            isHidden: true\n        },\n        {\n            id: \"readOnly\",\n            type: \"string\",\n            isReadOnly: true,\n            defaultValue: \"someValuesdfgsdfgsdfgsdfg\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties?: PrimitiveObject): Promise<PrimitiveTree> => {\n        if (!input[\"input\"] || !properties)\n            return {};\n\n        const inputType = typeof input[\"input\"];\n        if (inputType === Types.String || inputType === Types.Number || inputType === Types.Boolean) {\n            let outputMsg = `${input[\"input\"] as string | number | boolean}`;\n\n            // Outputs normally if no properties found or flag is not true\n            const isWackyOutput = properties[\"isWackyOutput\"] as boolean;\n            if (isWackyOutput) {\n                const inputStr = outputMsg;\n                outputMsg = \"\";\n                for (let i = 0; i < (properties[\"repetitionAmount\"] as number); i++) {\n                    outputMsg += `${inputStr}\\n`;\n                }\n\n                outputMsg += `${(properties[\"finalOutput\"] as string)}`;\n            }\n\n            const output: PrimitiveOutput = {\n                type: \"primitive\",\n                outputOrder: properties[\"outputOrder\"] as number,\n                output: outputMsg\n            };\n\n            return output;\n        }\n        \n        // Return different types to the output visualizer depending on the input\n        return {};\n    }\n};\n\nconst csvSourceNode: NodeType = {\n    id: \"csv-source\",\n    name: \"CSV Source\",\n    //variableName: \"csvSourceResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"sourceId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const sourceId = properties[\"sourceId\"] as string;\n        const csv = new CSVSource(sourceId);\n        const loadResult = await csv.loadToDf();\n        if (!loadResult || !csv.df)\n            return {};\n\n        return {\n            output: csv.df\n        };\n    }\n};\n\n// Getters and Setters\n\nconst getStringVariableNode: NodeType = {\n    id: \"string-variable-getter\",\n    name: \"Get String\",\n    //variableName: \"getStringVariableResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.String\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const variableId = properties[\"variableId\"] as string;\n        const value = NodeExecManager.getVariable(variableId);\n        if (value == null)\n            return {};\n        \n        return {\n            output: value as string\n        };\n    }\n};\n\nconst setStringVariableNode: NodeType = {\n    id: \"string-variable-setter\",\n    name: \"Set String\",\n    //variableName: \"setStringVariableResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.String\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {\n                result: false\n            };\n\n        const inputVal = input[\"input\"] as string;\n        const variableId = properties[\"variableId\"] as string;\n        NodeExecManager.setVariable(variableId, inputVal);\n\n        return {\n            result: true\n        };\n    }\n};\n\nconst getNumberVariableNode: NodeType = {\n    id: \"number-variable-getter\",\n    name: \"Get Number\",\n    //variableName: \"getNumberVariableResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.Number\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const variableId = properties[\"variableId\"] as string;\n        const value = NodeExecManager.getVariable(variableId);\n        if (value == null)\n            return {};\n        \n        return {\n            output: value as number\n        };\n    }\n};\n\nconst setNumberVariableNode: NodeType = {\n    id: \"number-variable-setter\",\n    name: \"Set Number\",\n    //variableName: \"setNumberVariableResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.Number\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {\n                result: false\n            };\n\n        const inputVal = input[\"input\"] as number;\n        const variableId = properties[\"variableId\"] as string;\n        NodeExecManager.setVariable(variableId, inputVal);\n\n        return {\n            result: true\n        };\n    }\n};\n\nconst getBooleanVariableNode: NodeType = {\n    id: \"boolean-variable-getter\",\n    name: \"Get Boolean\",\n    //variableName: \"getBooleanVariableResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.Boolean\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const variableId = properties[\"variableId\"] as string;\n        const value = NodeExecManager.getVariable(variableId);\n        if (value == null)\n            return {};\n        \n        return {\n            output: value as boolean\n        };\n    }\n};\n\nconst setBooleanVariableNode: NodeType = {\n    id: \"boolean-variable-setter\",\n    name: \"Set Boolean\",\n    //variableName: \"setBooleanVariableResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.Boolean\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {\n                result: false\n            };\n\n        const inputVal = input[\"input\"] as boolean;\n        const variableId = properties[\"variableId\"] as string;\n        NodeExecManager.setVariable(variableId, inputVal);\n\n        return {\n            result: true\n        };\n    }\n};\n\nconst getDataFrameVariableNode: NodeType = {\n    id: \"DataFrame-variable-getter\",\n    name: \"Get DataFrame\",\n    //variableName: \"getDataFrameVariableResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const variableId = properties[\"variableId\"] as string;\n        const value = NodeExecManager.getVariable(variableId);\n        if (value == null)\n            return {};\n        \n        return {\n            output: value as DataFrame\n        };\n    }\n};\n\nconst setDataFrameVariableNode: NodeType = {\n    id: \"DataFrame-variable-setter\",\n    name: \"Set DataFrame\",\n    //variableName: \"setDataFrameVariableResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {\n                result: false\n            };\n\n        const inputVal = input[\"input\"] as DataFrame;\n        const variableId = properties[\"variableId\"] as string;\n        NodeExecManager.setVariable(variableId, inputVal);\n\n        return {\n            result: true\n        };\n    }\n};\n\nconst getSeriesVariableNode: NodeType = {\n    id: \"Series-variable-getter\",\n    name: \"Get Series\",\n    //variableName: \"getSeriesVariableResult\",\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"output\",\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {};\n\n        const variableId = properties[\"variableId\"] as string;\n        const value = NodeExecManager.getVariable(variableId);\n        if (value == null)\n            return {};\n        \n        return {\n            output: value as Series\n        };\n    }\n};\n\nconst setSeriesVariableNode: NodeType = {\n    id: \"Series-variable-setter\",\n    name: \"Set Series\",\n    //variableName: \"setSeriesVariableResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"variableId\",\n            type: \"string\",\n            isHidden: true\n        }\n    ],\n    isHiddenFromList: true,\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined): Promise<PrimitiveTree> => {\n        if (!properties)\n            return {\n                result: false\n            };\n\n        const inputVal = input[\"input\"] as Series;\n        const variableId = properties[\"variableId\"] as string;\n        NodeExecManager.setVariable(variableId, inputVal);\n\n        return {\n            result: true\n        };\n    }\n};\n\nconst BaseNodes: NodeCollection = {\n    id: \"base\",\n    name: \"Base Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"\",\n            types: [\n                primitiveOutputNode,\n                //wackyOutputNode,\n                csvSourceNode,\n            ]\n        },\n        {\n            name: \"Variables\",\n            types: [\n                getStringVariableNode,\n                setStringVariableNode,\n                getNumberVariableNode,\n                setNumberVariableNode,\n                getBooleanVariableNode,\n                setBooleanVariableNode,\n                getDataFrameVariableNode,\n                setDataFrameVariableNode,\n                getSeriesVariableNode,\n                setSeriesVariableNode\n            ]\n        }\n    ]\n};\nexport default BaseNodes;","import { DataFrame, Series } from \"danfojs\";\nimport { ArrayType1D, ArrayType2D } from \"danfojs/types/shared/types\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler, ChartOutput, NodeCollection } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\n\nconst lineChartOutputNode: NodeType = {\n    id: \"line-chart-output\",\n    name: \"Line Chart\",\n    //variableName: \"lineChartOutputResult\",\n    description: Descriptions.NodeSpecific.LineChart.Description,\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.Common.Chart.LabelsInput,\n            type: Types.Series\n        },\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        },\n        {\n            id: \"isSmooth\",\n            description: Descriptions.NodeSpecific.LineChart.IsSmoothProperty,\n            type: \"boolean\",\n            defaultValue: true\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"labels\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"labels\"));\n\n        if (Meta.isEmpty(input[\"data\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n\n        if (Meta.isEmpty(input[\"labels\"]) || Meta.isEmpty(input[\"data\"]))\n            return {};\n\n        const labels = input[\"labels\"] as Series;\n        const data = input[\"data\"] as DataFrame | Series;\n        const title = properties[\"title\"] as string;\n        const isSmooth = properties[\"isSmooth\"] as boolean;\n        if (labels.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"labels\", \"property\"));\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (labels.shape[0] <= 0 || data.shape[0] <= 0)\n            return {};\n\n        let invalidColumns: string[] = [];\n        if (data instanceof DataFrame)\n            invalidColumns = data.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return data.columns[index];\n            }).filter((col): col is string => !!col);\n        else\n            invalidColumns = (data.dtype === \"string\" || data.dtype === \"boolean\") ? [\"Series\"] : [];\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns));\n            return {};\n        }\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"multi-line\", \n            title: title,\n            labels: labels.values as ArrayType1D, \n\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            data: data instanceof Series ? [data.values as ArrayType1D] : data.$dataIncolumnFormat as ArrayType2D,\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n            \n            dataLabels: data.columns,\n            options: {\n                isSmooth: isSmooth\n            }\n        };\n        return output;\n    }\n};\n\nconst stackedLineChartOutputNode: NodeType = {\n    id: \"stacked-line-chart-output\",\n    name: \"Stacked Line Chart\",\n    description: Descriptions.NodeSpecific.StackedLineChart.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.Common.Chart.LabelsInput,\n            type: Types.Series\n        },\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"labels\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"labels\"));\n\n        if (Meta.isEmpty(input[\"data\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n\n        if (Meta.isEmpty(input[\"labels\"]) || Meta.isEmpty(input[\"data\"]))\n            return {};\n\n        const labels = input[\"labels\"] as Series;\n        const data = input[\"data\"] as DataFrame | Series;\n        const title = properties[\"title\"] as string;\n        if (labels.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"labels\", \"property\"));\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (labels.shape[0] <= 0 || data.shape[0] <= 0)\n            return {};\n\n        let invalidColumns: string[] = [];\n        if (data instanceof DataFrame)\n            invalidColumns = data.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return data.columns[index];\n            }).filter((col): col is string => !!col);\n        else\n            invalidColumns = (data.dtype === \"string\" || data.dtype === \"boolean\") ? [\"Series\"] : [];\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns));\n            return {};\n        }\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"stacked-line\", \n            title: title,\n            labels: labels.values as ArrayType1D, \n\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            data: data instanceof Series ? [data.values as ArrayType1D] : data.$dataIncolumnFormat as ArrayType2D,\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n            \n            dataLabels: data.columns\n        };\n        return output;\n    }\n};\n\nconst barChartOutputNode: NodeType = {\n    id: \"bar-chart-output\",\n    name: \"Bar Chart\",\n    description: Descriptions.NodeSpecific.BarChart.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.Common.Chart.LabelsInput,\n            type: Types.Series\n        },\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"labels\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"labels\"));\n\n        if (Meta.isEmpty(input[\"data\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n\n        if (Meta.isEmpty(input[\"labels\"]) || Meta.isEmpty(input[\"data\"]))\n            return {};\n\n        const labels = input[\"labels\"] as Series;\n        const data = input[\"data\"] as DataFrame | Series;\n        const title = properties[\"title\"] as string;\n\n        if (labels.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"labels\", \"property\"));\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (labels.shape[0] <= 0 || data.shape[0] <= 0)\n            return {};\n\n        let invalidColumns: string[] = [];\n        if (data instanceof DataFrame)\n            invalidColumns = data.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return data.columns[index];\n            }).filter((col): col is string => !!col);\n        else\n            invalidColumns = (data.dtype === \"string\" || data.dtype === \"boolean\") ? [\"Series\"] : [];\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns));\n            return {};\n        }\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"vertical-bar\", \n            title: title,\n            labels: labels.values as ArrayType1D, \n\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            data: data instanceof Series ? [data.values as ArrayType1D] : data.$dataIncolumnFormat as ArrayType2D,\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n\n            dataLabels: data.columns\n        };\n        return output;\n    }\n};\n\nconst horizontalBarChartOutputNode: NodeType = {\n    id: \"horizontal-bar-chart-output\",\n    name: \"Horizontal Bar Chart\",\n    description: Descriptions.NodeSpecific.HorizontalBarChart.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.Common.Chart.LabelsInput,\n            type: Types.Series\n        },\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"labels\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"labels\"));\n\n        if (Meta.isEmpty(input[\"data\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n\n        if (Meta.isEmpty(input[\"labels\"]) || Meta.isEmpty(input[\"data\"]))\n            return {};\n\n        const labels = input[\"labels\"] as Series;\n        const data = input[\"data\"] as DataFrame | Series;\n        const title = properties[\"title\"] as string;\n\n        if (labels.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"labels\", \"property\"));\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (labels.shape[0] <= 0 || data.shape[0] <= 0)\n            return {};\n\n        let invalidColumns: string[] = [];\n        if (data instanceof DataFrame)\n            invalidColumns = data.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return data.columns[index];\n            }).filter((col): col is string => !!col);\n        else\n            invalidColumns = (data.dtype === \"string\" || data.dtype === \"boolean\") ? [\"Series\"] : [];\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns));\n            return {};\n        }\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"horizontal-bar\", \n            title: title,\n            labels: labels.values as ArrayType1D, \n\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            data: data instanceof Series ? [data.values as ArrayType1D] : data.$dataIncolumnFormat as ArrayType2D,\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n\n            dataLabels: data.columns\n        };\n        return output;\n    }\n};\n\nconst stackedBarChartOutputNode: NodeType = {\n    id: \"stacked-bar-chart-output\",\n    name: \"Stacked Bar Chart\",\n    description: Descriptions.NodeSpecific.StackedBarChart.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.Common.Chart.LabelsInput,\n            type: Types.Series\n        },\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"labels\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"labels\"));\n\n        if (Meta.isEmpty(input[\"data\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n\n        if (Meta.isEmpty(input[\"labels\"]) || Meta.isEmpty(input[\"data\"]))\n            return {};\n\n        const labels = input[\"labels\"] as Series;\n        const data = input[\"data\"] as DataFrame | Series;\n        const title = properties[\"title\"] as string;\n\n        if (labels.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"labels\", \"property\"));\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (labels.shape[0] <= 0 || data.shape[0] <= 0)\n            return {};\n\n        let invalidColumns: string[] = [];\n        if (data instanceof DataFrame)\n            invalidColumns = data.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return data.columns[index];\n            }).filter((col): col is string => !!col);\n        else\n            invalidColumns = (data.dtype === \"string\" || data.dtype === \"boolean\") ? [\"Series\"] : [];\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns));\n            return {};\n        }\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"stacked-bar\", \n            title: title,\n            labels: labels.values as ArrayType1D, \n\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            data: data instanceof Series ? [data.values as ArrayType1D] : data.$dataIncolumnFormat as ArrayType2D,\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n\n            dataLabels: data.columns\n        };\n        return output;\n    }\n};\n\nconst violinPlotOutputNode: NodeType = {\n    id: \"violin-plot-output\",\n    name: \"Violin Plot\",\n    description: Descriptions.NodeSpecific.ViolinPlot.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataWithLabelInput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        },\n        {\n            id: \"labelsColumn\",\n            description: Descriptions.Common.Chart.LabelsColumnProperty,\n            type: \"string\",\n            regex: Regexes.labelRegex\n        },\n        {\n            id: \"ignoreDenseLabels\",\n            description: Descriptions.Common.Chart.IgnoreDenseLabelsProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"data\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n            return {};\n        }\n\n        const data = input[\"data\"] as DataFrame;\n        const title = properties[\"title\"] as string;\n        const labelsColumn = properties[\"labelsColumn\"] as string;\n        const ignoreDenseLabels = properties[\"ignoreDenseLabels\"] as boolean;\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (!Regexes.isMatch(labelsColumn, Regexes.labelRegex))\n            errorHandler.error(Errors.CannotBeEmpty(labelsColumn, \"property\"));\n\n        if (data.shape[0] <= 0 || !Regexes.isMatch(labelsColumn, Regexes.labelRegex))\n            return {};\n\n        if (!data.columns.includes(labelsColumn)) {\n            errorHandler.error(Errors.ValueNotExists(labelsColumn, \"column\"));\n            return {};\n        }\n\n        const labels = data.column(labelsColumn);\n        const dfNoLabel = data.drop({ columns: labelsColumn }) as DataFrame;\n\n        const invalidColumns: string[] = dfNoLabel.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return data.columns[index];\n        }).filter((col): col is string => !!col);\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameOnlyOneNonNumericalColumn(\"data\", invalidColumns));\n            return {};\n        }\n\n        const uniqueLabels = labels.unique().values as ArrayType1D;\n        if (uniqueLabels.length > 30 && !ignoreDenseLabels) {\n            errorHandler.error(Errors.DenseUniqueLabels(labelsColumn));\n            return {};\n        }\n\n        // Get the values in one column depending on the current unique value from the labels column\n        const resultData: number[][][] = [];\n        dfNoLabel.columns.forEach(col => {\n            const columns: number[][] = [];\n            uniqueLabels.forEach(label => {\n                const labelDf = data.loc({ rows: data[labelsColumn].eq(label) });\n                const column = labelDf.column(col);\n                columns.push(column.values as number[]);\n            });\n            resultData.push(columns);\n        });\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"violin-plot\", \n            title: title,\n            labels: uniqueLabels, \n            data: resultData,\n            dataLabels: dfNoLabel.columns\n        };\n        return output;\n    }\n};\n\nconst boxPlotOutputNode: NodeType = {\n    id: \"box-plot-output\",\n    name: \"Box Plot\",\n    description: Descriptions.NodeSpecific.BoxPlot.Description,\n    //variableName: \"lineChartOutputResult\",\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"data\",\n            description: Descriptions.Common.Chart.DataWithLabelInput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"title\",\n            description: Descriptions.Common.Chart.TitleProperty,\n            type: \"string\"\n        },\n        {\n            id: \"labelsColumn\",\n            description: Descriptions.Common.Chart.LabelsColumnProperty,\n            type: \"string\",\n            regex: Regexes.labelRegex\n        },\n        {\n            id: \"ignoreDenseLabels\",\n            description: Descriptions.Common.Chart.IgnoreDenseLabelsProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"data\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"data\"));\n            return {};\n        }\n\n        const data = input[\"data\"] as DataFrame;\n        const title = properties[\"title\"] as string;\n        const labelsColumn = properties[\"labelsColumn\"] as string;\n        const ignoreDenseLabels = properties[\"ignoreDenseLabels\"] as boolean;\n\n        if (data.shape[0] <= 0)\n            errorHandler.error(Errors.EmptyArray(\"data\", \"property\"));\n\n        if (!Regexes.isMatch(labelsColumn, Regexes.labelRegex))\n            errorHandler.error(Errors.CannotBeEmpty(labelsColumn, \"property\"));\n\n        if (data.shape[0] <= 0 || !Regexes.isMatch(labelsColumn, Regexes.labelRegex))\n            return {};\n\n        if (!data.columns.includes(labelsColumn)) {\n            errorHandler.error(Errors.ValueNotExists(labelsColumn, \"column\"));\n            return {};\n        }\n\n        const labels = data.column(labelsColumn);\n        const dfNoLabel = data.drop({ columns: labelsColumn }) as DataFrame;\n\n        const invalidColumns: string[] = dfNoLabel.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return data.columns[index];\n        }).filter((col): col is string => !!col);\n    \n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameOnlyOneNonNumericalColumn(\"data\", invalidColumns));\n            return {};\n        }\n\n        const uniqueLabels = labels.unique().values as ArrayType1D;\n        if (uniqueLabels.length > 30 && !ignoreDenseLabels) {\n            errorHandler.error(Errors.DenseUniqueLabels(labelsColumn));\n            return {};\n        }\n\n        // Get the values in one column depending on the current unique value from the labels column\n        const resultData: number[][][] = [];\n        dfNoLabel.columns.forEach(col => {\n            const columns: number[][] = [];\n            uniqueLabels.forEach(label => {\n                const labelDf = data.loc({ rows: data[labelsColumn].eq(label) });\n                const column = labelDf.column(col);\n                columns.push(column.values as number[]);\n            });\n            resultData.push(columns);\n        });\n\n        const output: ChartOutput = {\n            type: \"chart\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            chartType: \"box-plot\", \n            title: title,\n            labels: uniqueLabels, \n            data: resultData,\n            dataLabels: dfNoLabel.columns\n        };\n        return output;\n    }\n};\n\nconst ChartNodes: NodeCollection = {\n    id: \"chart\",\n    name: \"Chart Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"Output\",\n            types: [\n                lineChartOutputNode,\n                stackedLineChartOutputNode,\n                barChartOutputNode,\n                horizontalBarChartOutputNode,\n                stackedBarChartOutputNode,\n                violinPlotOutputNode,\n                boxPlotOutputNode\n            ]\n        }\n    ]\n};\nexport default ChartNodes;","import { DataFrame, Series } from \"danfojs\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport { Types } from \"../utils/Types\";\n\nconst addDataFrame: NodeType = {\n    id: \"add-dataframe\",\n    name: \"Add DataFrame\",\n    description: Descriptions.NodeSpecific.AddDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n\n        return {\n            result: input1.add(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst subtractDataFrame: NodeType = {\n    id: \"subtract-dataframe\",\n    name: \"Subtract DataFrame\",\n    description: Descriptions.NodeSpecific.SubtractDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n            \n        return {\n            result: input1.sub(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst multiplyDataFrame: NodeType = {\n    id: \"multiply-dataframe\",\n    name: \"Multiply DataFrame\",\n    description: Descriptions.NodeSpecific.MultiplyDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n            \n        return {\n            result: input1.mul(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst divideDataFrame: NodeType = {\n    id: \"divide-dataframe\",\n    name: \"Divide DataFrame\",\n    description: Descriptions.NodeSpecific.DivideDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        if (typeof input2 === \"number\" && input2 === 0) {\n            errorHandler.error(Errors.NumberCannotBeZero(\"input2\", \"input\"));\n            return {};\n        }\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n\n        return {\n            result: input1.div(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst modDataFrame: NodeType = {\n    id: \"modulo-dataframe\",\n    name: \"Modulo DataFrame\",\n    description: Descriptions.NodeSpecific.ModDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n            \n        return {\n            result: input1.mod(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst powerDataFrame: NodeType = {\n    id: \"power-dataframe\",\n    name: \"Exponent DataFrame\",\n    description: Descriptions.NodeSpecific.PowerDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.Common.DataFrameBinary.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series, Types.Number)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"isRowAxis\",\n            description: Descriptions.Common.DataFrameBinary.IsRowAxisProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame;\n        const input2 = input[\"input2\"] as DataFrame | Series | number;\n        const isRowAxis = properties[\"isRowAxis\"] as boolean;\n\n        const invalidColumns1 = input1.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return input1.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns1.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input1\", invalidColumns1));\n\n        let invalidColumns2: string[] = [];\n        if (input2 instanceof DataFrame) {\n            if (input2.shape !== input1.shape) {\n                errorHandler.error(Errors.DataFrameMismatchShape(\"input1\", input1.shape, \"input2\", input2.shape));\n                return {};\n            }\n\n            invalidColumns2 = input2.dtypes.map((type, index) => {\n                if (type === \"string\" || type === \"boolean\")\n                    return input2.columns[index];\n            }).filter((col): col is string => !!col);\n        }\n        else if (input2 instanceof Series) {\n            if (!isRowAxis && (input2.size !== input1.columns.length)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.columns.length, \"input2\", input2.size, \"column\"));\n                return {};\n            }\n\n            if (isRowAxis && (input2.size !== input1.size)) {\n                errorHandler.error(Errors.DataFrameSeriesMismatchShape(\"input1\", input1.size, \"input2\", input2.size, \"row\"));\n                return {};\n            }\n\n            invalidColumns2 = (input2.dtype === \"string\" || input2.dtype === \"boolean\") ? [\"Series\"] : [];\n        }\n\n        if (invalidColumns2.length > 0)\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input2\", invalidColumns2));\n\n        if (invalidColumns1.length > 0 || invalidColumns2.length > 0)\n            return {};\n            \n        return {\n            result: input1.pow(input2, { axis: isRowAxis && input2 instanceof Series ? 0 : 1 }) as DataFrame\n        };\n    }\n};\n\nconst absDataFrame: NodeType = {\n    id: \"absolute-dataframe\",\n    name: \"Absolute DataFrame\",\n    description: Descriptions.NodeSpecific.AbsoluteDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n\n        const invalidColumns = df.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return df.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input\", invalidColumns));\n            return {};\n        }\n            \n        const newDf = df.abs() as DataFrame;\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst roundDataFrame: NodeType = {\n    id: \"round-dataframe\",\n    name: \"Round DataFrame\",\n    description: Descriptions.NodeSpecific.RoundDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrame.Input1Input,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"numDecimal\",\n            type: \"number\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const numDecimal = properties[\"numDecimal\"] as number;\n\n        const invalidColumns = df.dtypes.map((type, index) => {\n            if (type === \"string\" || type === \"boolean\")\n                return df.columns[index];\n        }).filter((col): col is string => !!col);\n        if (invalidColumns.length > 0) {\n            errorHandler.error(Errors.DataFrameNumericalColumnsOnly(\"input\", invalidColumns));\n            return {};\n        }\n            \n        const newDf = df.round(numDecimal) as DataFrame;\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst BinaryOpsNodes = [\n    addDataFrame,\n    subtractDataFrame,\n    multiplyDataFrame,\n    divideDataFrame,\n    modDataFrame,\n    powerDataFrame,\n    absDataFrame,\n    roundDataFrame,\n];\n\nexport default BinaryOpsNodes;","import { DataFrame, Series } from \"danfojs\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport DanfoUtils from \"../utils/DanfoUtils\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\n\nfunction getConditionMask(df: DataFrame, col: string, cond: string, comp: string): Series | undefined {\n    let result: Series | undefined;\n\n    try {\n        if (cond === \">\")\n            result = df.column(col).gt(Number(comp) ?? comp);\n        else if (cond === \">=\")\n            result = df.column(col).ge(Number(comp) ?? comp);\n        else if (cond === \"<\")\n            result = df.column(col).lt(Number(comp) ?? comp);\n        else if (cond === \"<=\")\n            result = df.column(col).le(Number(comp) ?? comp);\n        \n        // These two use square brackets instead of column() so it will\n        // support equality checking for both strings and numbers, instead\n        // of only numbers.\n        else if (cond === \"==\") {\n            const dtype = df.column(col).dtype;\n            if (dtype === \"int32\" || dtype === \"float32\")\n                result = df.column(col).eq(Number(comp)) as Series;\n            else\n                result = df[col].eq(comp) as Series;\n        }\n        else if (cond === \"!=\") {\n            const dtype = df.column(col).dtype;\n            if (dtype === \"int32\" || dtype === \"float32\")\n                result = df.column(col).ne(Number(comp)) as Series;\n            else\n                result = df[col].ne(comp) as Series;\n        }\n\n        else if (cond === \"has\")\n            result = df.column(col).str.includes(comp) as Series;\n        else if (cond === \"start\")\n            result = df.column(col).str.startsWith(comp) as Series;\n        else if (cond === \"end\")\n            result = df.column(col).str.endsWith(comp) as Series;\n    } catch(err) {\n        console.error(err);\n        result = undefined;\n    }\n\n    return result;\n}\n\nconst locNode: NodeType = {\n    id: \"loc-dataframe\",\n    name: \"DataFrame Loc\",\n    description: Descriptions.NodeSpecific.DataFrameLoc.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"columns\",\n            description: Descriptions.NodeSpecific.DataFrameLoc.ColumnsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelCommaRegex, Regexes.labelSliceRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"rows\",\n            description: Descriptions.NodeSpecific.DataFrameLoc.RowsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.conditionRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"resetIndex\",\n            description: Descriptions.NodeSpecific.DataFrameLoc.ResetIndexProperty,\n            type: \"boolean\",\n            defaultValue: false\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n        \n        const columnPattern = properties[\"columns\"] as string;\n        const rowPattern = properties[\"rows\"] as string;\n        const resetIndex = properties[\"resetIndex\"] as boolean;\n        const df = input[\"input\"] as DataFrame;\n\n        let columns: string[] | undefined;\n        if (Regexes.isMatch(columnPattern, Regexes.labelCommaRegex))\n            columns = Regexes.processCommaDelimString(columnPattern, Regexes.baseLabelRegex);\n        else if (Regexes.isMatch(columnPattern, Regexes.labelSliceRegex))\n            columns = [columnPattern];\n\n        // These row patterns should refer to row indexes instead of actual values\n        let rows: string[] | Series | undefined;\n        if (Regexes.isMatch(rowPattern, Regexes.conditionRegex)) {\n            const parts = rowPattern.split(\" \");\n    \n            const col = parts[0];\n            const cond = parts[1];\n            let comp: string;\n            if (parts.length > 3)\n                comp = parts.slice(2).join(\" \").replaceAll(\"'\", \"\");\n            else\n                comp = parts[2];\n    \n            rows = getConditionMask(df, col, cond, comp);\n        }\n        \n        let loc = DanfoUtils.loc(df, columns, rows);\n        loc = resetIndex ? loc.reset_index() as DataFrame : loc;\n        return { \n            output: loc \n        };\n    }\n};\n\nconst ilocNode: NodeType = {\n    id: \"iloc-dataframe\",\n    name: \"DataFrame iLoc\",\n    description: Descriptions.NodeSpecific.DataFrameiLoc.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"columns\",\n            description: Descriptions.NodeSpecific.DataFrameiLoc.ColumnsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.numberCommaRegex, Regexes.numberSliceRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"rows\",\n            description: Descriptions.NodeSpecific.DataFrameiLoc.RowsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.numberCommaRegex, Regexes.numberSliceRegex, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n        \n        const columnPattern = properties[\"columns\"] as string;\n        const rowPattern = properties[\"rows\"] as string;\n        const df = input[\"input\"] as DataFrame;\n\n        let columns: (string | number)[] | undefined;\n        if (Regexes.isMatch(columnPattern, Regexes.numberCommaRegex))\n            columns = Regexes.processCommaDelimNumber(columnPattern, Regexes.baseNumberRegex);\n        else if (Regexes.isMatch(columnPattern, Regexes.numberSliceRegex))\n            columns = [columnPattern];\n\n        let rows: (string | number)[] | undefined;\n        if (Regexes.isMatch(rowPattern, Regexes.numberCommaRegex))\n            rows = Regexes.processCommaDelimNumber(rowPattern, Regexes.baseNumberRegex);\n        else if (Regexes.isMatch(rowPattern, Regexes.numberSliceRegex))\n            rows = [rowPattern];\n\n        const iloc = df.iloc({ columns, rows });\n        return { \n            output: iloc \n        };\n    }\n};\n\nconst getNumericalColumns: NodeType = {\n    id: \"numerical-column-dataframe\",\n    name: \"Get Numerical Columns\",\n    description: Descriptions.NodeSpecific.GetNumericalColumns.Description,\n    style: {\n        width: 170\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n        \n        const df = input[\"input\"] as DataFrame;\n        const validColumns = df.dtypes.map((type, index) => {\n            if (type !== \"string\" && type !== \"boolean\")\n                return df.columns[index];\n        }).filter((col): col is string => !!col);\n\n        const newDf = df.loc({ columns: validColumns });\n        return { \n            output: newDf \n        };\n    }\n};\n\nconst QueryNodes = [\n    locNode,\n    ilocNode,\n    getNumericalColumns\n];\n\nexport default QueryNodes;","import { DataFrame, Series } from \"danfojs\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\n\nconst describeDataFrame: NodeType = {\n    id: \"describe-dataframe\",\n    name: \"Describe DataFrame\",\n    description: Descriptions.NodeSpecific.DescribeDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.DataFrameDescriptive.DataFrameOutput,\n            type: Types.DataFrame\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const nullCols: string[] = [];\n        df.columns.forEach(col => {\n            const column = df.column(col);\n            if (column.count() !== column.size)\n                nullCols.push(col);\n        });\n\n        if (nullCols.length > 0) {\n            errorHandler.error(Errors.DataFrameNullColumnsCannotDescribe(nullCols));\n            return {};\n        }\n\n        const newDf = df.describe();\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst histogram: NodeType = {\n    id: \"histogram\",\n    name: \"Histogram\",\n    description: Descriptions.NodeSpecific.Histogram.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.NodeSpecific.Histogram.LabelsOutput,\n            type: Types.Series\n        },\n        {\n            id: \"count\",\n            description: Descriptions.NodeSpecific.Histogram.CountOutput,\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"name\",\n            description: Descriptions.NodeSpecific.Histogram.NameProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"bins\",\n            description: Descriptions.NodeSpecific.Histogram.BinsProperty,\n            type: \"number\",\n            defaultValue: 20\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const bins = properties[\"bins\"] as number;\n        const name = properties[\"name\"] as string;\n\n        if (bins <= 0) {\n            errorHandler.error(Errors.NumberCannotBeZeroOrNegative(\"bins\", \"property\"));\n            return {};\n        }\n\n        let colName = name;\n        if (!Regexes.isMatch(name, Regexes.labelRegex))\n            colName = \"Count\";\n\n        const min = series.min();\n        const max = series.max();\n        const range = max - min;\n        const step = range / bins;\n\n        const labels: number[] = [];\n        const count: number[] = [];\n        const digits = 4;\n        const fraction = Math.pow(10, digits);\n        for (let i = 0; i < bins; i++) {\n            labels.push(Math.round((step * i + min) * fraction) / fraction);\n            count.push(0);\n        }\n\n        const values = series.values as number[];\n        values.forEach(value => {\n            const index = Math.floor((value - min) / step);\n            count[index] += 1;\n        });\n\n        return {\n            labels: new Series(labels, { columns: [\"Labels\"] }),\n            count: new Series(count, { columns: [colName] })\n        };\n    }\n};\n\nconst headDataFrame: NodeType = {\n    id: \"head-dataframe\",\n    name: \"DataFrame Head\",\n    description: Descriptions.NodeSpecific.HeadDataFrame.Description,\n    //variableName: \"dataFrameOutputResult\",\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.DataFrameDescriptive.DataFrameOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"rowCount\",\n            description: Descriptions.Common.DataFrame.RowCountProperty,\n            type: \"number\",\n            defaultValue: 10\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const rowCount = properties[\"rowCount\"] as number;\n        const head = (df.shape[0] >= rowCount && rowCount > 0) ? df.head(rowCount) : df;\n        return {\n            output: head\n        };\n    }\n};\n\nconst tailDataFrame: NodeType = {\n    id: \"tail-dataframe\",\n    name: \"DataFrame Tail\",\n    description: Descriptions.NodeSpecific.TailDataFrame.Description,\n    //variableName: \"dataFrameOutputResult\",\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.DataFrameDescriptive.DataFrameOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"rowCount\",\n            description: Descriptions.Common.DataFrame.RowCountProperty,\n            type: \"number\",\n            defaultValue: 10\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const rowCount = properties[\"rowCount\"] as number;\n        const tail = (df.shape[0] >= rowCount && rowCount > 0) ? df.tail(rowCount) : df;\n        return {\n            output: tail\n        };\n    }\n};\n\nconst countDataFrame: NodeType = {\n    id: \"count-dataframe\",\n    name: \"Count DataFrame\",\n    description: Descriptions.NodeSpecific.CountDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"countRows\",\n            description: Descriptions.NodeSpecific.CountDataFrame.CountRowsOutput,\n            type: Types.Number\n        },\n        {\n            id: \"countColumns\",\n            description: Descriptions.NodeSpecific.CountDataFrame.CountColumnsOutput,\n            type: Types.Number\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        return {\n            countRows: df.shape[0],\n            countColumns: df.shape[1]\n        };\n    }\n};\n\nconst DataFrameDescriptiveNodes = [\n    describeDataFrame,\n    histogram,\n    headDataFrame,\n    tailDataFrame,\n    countDataFrame,\n];\n\nexport default DataFrameDescriptiveNodes;","import { DataFrame, Series } from \"danfojs\";\nimport * as Danfo from \"danfojs\";\nimport Errors from \"../utils/Errors\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport DanfoUtils from \"../utils/DanfoUtils\";\nimport Meta from \"../utils/Meta\";\nimport Descriptions from \"../utils/Descriptions\";\nimport { ArrayType1D } from \"danfojs/types/shared/types\";\n\nconst mapDataFrame: NodeType = {\n    id: \"map-dataframe\",\n    name: \"Map DataFrame\",\n    description: Descriptions.NodeSpecific.MapDataFrame.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"column\",\n            description: Descriptions.NodeSpecific.MapDataFrame.ColumnProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"mappings\",\n            description: Descriptions.NodeSpecific.MapDataFrame.MappingsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.valueMapRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"replaceColumn\",\n            description: Descriptions.NodeSpecific.MapDataFrame.ReplaceColumnProperty,\n            type: \"boolean\",\n            defaultValue: false\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const column = properties[\"column\"] as string;\n        const replaceColumn = properties[\"replaceColumn\"] as boolean;\n        const mappingsVal = properties[\"mappings\"] as string;\n        \n        let mappings: string[] | undefined;\n        if (Regexes.isMatch(mappingsVal, Regexes.valueMapRegex))\n            mappings = Regexes.processCommaDelimString(mappingsVal, Regexes.baseValueMapRegex);\n\n        if (!Regexes.isMatch(column, Regexes.labelRegex))\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"column\"));\n\n        if (!mappings || mappings.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"mappings\"));\n\n        if (!Regexes.isMatch(column, Regexes.labelRegex) || !mappings || mappings.length <= 0)\n            return {\n                output: df\n            };\n\n        const columnIndex = df.columns.indexOf(column);\n        if (columnIndex < 0) {\n            errorHandler.warning(Errors.ValueNotExists(column, \"column\"));\n            return {\n                output: df\n            };\n        }\n            \n        const columnType = df.dtypes[columnIndex];\n        const mappingsObj: {\n            [id: string]: string | number | boolean;\n        } = {};\n        mappings.forEach(map => {\n            const split = map.split(\":\");\n            const left: string = split[0].replaceAll(\"'\", \"\");\n            let right: string | number | boolean = split[1].replaceAll(\"'\", \"\");\n            if (right === \"$mean\") {\n                const tempSeries = df.column(column).astype(\"float32\") as Series;\n                right = tempSeries.mean();\n            }\n\n            if (columnType === \"float32\" || columnType === \"int32\")\n                right = Number(right);\n            else if (columnType === \"boolean\")\n                right = right === \"true\" || right === \"True\" || right === \"1\";\n\n            mappingsObj[left] = right;\n        });\n\n        let series = df.column(column);\n        series = DanfoUtils.map(series, mappingsObj);\n        \n        // For renaming column if replaceColumn is not ticked,\n        // will prevent name collisions\n        let newCol = column;\n        if (!replaceColumn) {\n            let i = 1;\n            while (df.columns.includes(newCol) && i < 10000)\n                newCol = `${column}_${i++}`;\n        }\n\n        const newDf = df.copy();\n        newDf.addColumn({\n            column: newCol,\n            values: replaceColumn ? series.values as ArrayType1D : series,\n            inplace: true\n        }) as DataFrame;\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst renameColumns: NodeType = {\n    id: \"rename-columns\",\n    name: \"Rename Columns\",\n    description: Descriptions.NodeSpecific.RenameColumns.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"mappings\",\n            description: Descriptions.Common.DataFrameModify.MappingsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.valueMapRegex, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const mappingsVal = properties[\"mappings\"] as string;\n        \n        let mappings: string[] | undefined;\n        if (Regexes.isMatch(mappingsVal, Regexes.valueMapRegex))\n            mappings = Regexes.processCommaDelimString(mappingsVal, Regexes.baseValueMapRegex);\n\n        if (!mappings || mappings.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"mappings\"));\n\n        if (!mappings || mappings.length <= 0)\n            return {\n                output: df\n            };\n            \n        const mappingsObj: {\n            [id: string]: string;\n        } = {};\n        mappings.forEach(map => {\n            const split = map.split(\":\");\n            const left: string = split[0];\n            let hasError = false;\n            if (!df.columns.includes(left)) {\n                errorHandler.error(Errors.ValueNotExists(left, \"column\"));\n                hasError = true;\n            }\n\n            const right: string = split[1];\n            if (df.columns.includes(right)) {\n                errorHandler.error(Errors.ValueExists(right, \"column\"));\n                hasError = true;\n            }\n\n            if (hasError)\n                return;\n\n            mappingsObj[left] = right;\n        });\n\n        if (!mappingsObj)\n            return {\n                output: df\n            };\n\n        const newDf = df.rename({\n            mapper: mappingsObj\n        }) as DataFrame;\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst removeColumns: NodeType = {\n    id: \"remove-columns\",\n    name: \"Remove Columns\",\n    description: Descriptions.NodeSpecific.RemoveColumns.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"columns\",\n            description: Descriptions.Common.DataFrameModify.ColumnsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelCommaRegex, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const columnPattern = properties[\"columns\"] as string;\n\n        if (!Regexes.isMatch(columnPattern, Regexes.labelCommaRegex))\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"columns\"));\n\n        const columns = Regexes.processCommaDelimString(columnPattern, Regexes.baseLabelRegex);\n        if (columns.length <= 0)\n            return {\n                output: df\n            };\n\n        let hasError = false;\n        columns.forEach(col => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"column\"));\n                hasError = true;\n            }\n        });\n        if (hasError)\n            return {\n                output: df\n            };\n\n\n        const newDf = df.drop({ columns }) as DataFrame;\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst fillNaDataFrame: NodeType = {\n    id: \"fillna-dataframe\",\n    name: \"Fill Null DataFrame\",\n    description: Descriptions.NodeSpecific.FillNaDataFrame.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"mappings\",\n            description: Descriptions.NodeSpecific.FillNaDataFrame.MappingsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelValueMapRegex, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const mappingsVal = properties[\"mappings\"] as string;\n        \n        let mappings: string[] | undefined;\n        if (Regexes.isMatch(mappingsVal, Regexes.labelValueMapRegex))\n            mappings = Regexes.processCommaDelimString(mappingsVal, Regexes.baseLabelValueMapRegex);\n\n        if (!mappings || mappings.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"mappings\"));\n\n        if (!mappings || mappings.length <= 0)\n            return {\n                output: df\n            };\n            \n        const mappingsObj: {\n            [id: string]: string | number | boolean;\n        } = {};\n        mappings.forEach(map => {\n            const split = map.split(\":\");\n            const left: string = split[0];\n            const columnIndex = df.columns.indexOf(left);\n            if (columnIndex < 0) {\n                errorHandler.error(Errors.ValueNotExists(left, \"column\"));\n                return;\n            }\n\n            const right: string = split[1].replaceAll(\"'\", \"\");\n            const type = df.dtypes[columnIndex];\n            let newValue: string | number | boolean;\n            if (type === \"float32\" || type === \"int32\") {\n                if (right === \"$mean\") {\n                    newValue = df.column(left).mean();\n                    newValue = type === \"int32\" ? Math.round(newValue) : newValue;\n                }\n                else\n                    newValue = Number(right);\n            }\n            else if (type === \"boolean\")\n                newValue = right.toLowerCase() === \"true\" || right === \"1\";\n            else\n                newValue = right;\n            \n            mappingsObj[left] = newValue;\n        });\n\n        if (!mappingsObj)\n            return {\n                output: df\n            };\n\n        const newDf = DanfoUtils.fillna(df, Object.keys(mappingsObj), Object.values(mappingsObj));\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst sortDataFrame: NodeType = {\n    id: \"sort-dataframe\",\n    name: \"Sort DataFrame\",\n    description: Descriptions.NodeSpecific.SortDataFrame.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"sortByColumn\",\n            description: Descriptions.NodeSpecific.SortDataFrame.SortByColumnProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"isAscending\",\n            description: Descriptions.NodeSpecific.SortDataFrame.IsAscendingProperty,\n            type: \"boolean\",\n            defaultValue: true\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const sortByColumn = properties[\"sortByColumn\"] as string;\n        const isAscending = properties[\"isAscending\"] as boolean;\n\n        if (!Regexes.isMatch(sortByColumn, Regexes.labelRegex)) {\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"sortByColumn\"));\n            return {\n                output: df\n            };\n        }\n\n        if (!df.columns.includes(sortByColumn)) {\n            errorHandler.warning(Errors.ValueNotExists(sortByColumn, \"column\"));\n            return {\n                output: df\n            };\n        }\n\n        const newDf = df.sort_values({\n            by: sortByColumn,\n            ascending: isAscending,\n            inplace: false\n        }) as DataFrame;\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst mergeDataFrame: NodeType = {\n    id: \"merge-dataframe\",\n    name: \"Merge DataFrames\",\n    description: Descriptions.NodeSpecific.MergeDataFrames.Description,\n    style: {\n        width: 180\n    },\n    inputSlots: [\n        {\n            id: \"left\",\n            description: Descriptions.NodeSpecific.MergeDataFrames.LeftInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        },\n        {\n            id: \"right\",\n            description: Descriptions.NodeSpecific.MergeDataFrames.RightInput,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"onColumns\",\n            description: Descriptions.NodeSpecific.MergeDataFrames.OnColumnsProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelCommaRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"joinType\",\n            description: Descriptions.NodeSpecific.MergeDataFrames.JoinTypeProperty,\n            type: \"string\",\n            regex: Regexes.combine(/^(left|right|outer|inner)$/, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"left\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"left\"));\n\n        if (Meta.isEmpty(input[\"right\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"right\"));\n\n        if (Meta.isEmpty(input[\"left\"]) || Meta.isEmpty(input[\"right\"]))\n            return {};\n\n        const left = input[\"left\"] as DataFrame | Series;\n        const right = input[\"right\"] as DataFrame | Series;\n        const onColumnsPattern = properties[\"onColumns\"] as string;\n        let joinType = properties[\"joinType\"] as string;\n\n        let onColumns: string[] | undefined;\n        if (Regexes.isMatch(onColumnsPattern, Regexes.labelCommaRegex))\n            onColumns = Regexes.processCommaDelimString(onColumnsPattern, Regexes.baseLabelRegex);\n\n        // Should simply concat on the column axis or if either are Series\n        if (!onColumns || onColumns.length <= 0 || left instanceof Series || right instanceof Series) {\n            const newDf = Danfo.concat({\n                df_list: [left, right],\n                axis: 1\n            });\n            return {\n                output: newDf\n            };\n        }\n\n        const invalidValues: string[] = [];\n        onColumns.forEach((col) => {\n            if (!left.columns.includes(col) || !right.columns.includes(col)) {\n                errorHandler.error(`The column '${col}' must exist on both the left and right dataframes.`);\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: left\n            };\n\n        if (!Regexes.isMatch(joinType, /^(left|right|outer|inner)$/))\n            joinType = \"inner\";\n\n        const newDf = Danfo.merge({\n            left,\n            right,\n            on: onColumns,\n            how: joinType\n        });\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst appendDataFrame: NodeType = {\n    id: \"append-dataframe\",\n    name: \"Append DataFrames\",\n    description: Descriptions.NodeSpecific.AppendDataFrame.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input1\",\n            description: Descriptions.NodeSpecific.AppendDataFrame.Input1Input,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        },\n        {\n            id: \"input2\",\n            description: Descriptions.NodeSpecific.AppendDataFrame.Input2Input,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input1\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input1\"));\n\n        if (Meta.isEmpty(input[\"input2\"]))\n            errorHandler.error(Errors.MissingNodeInput(\"input2\"));\n\n        if (Meta.isEmpty(input[\"input1\"]) || Meta.isEmpty(input[\"input2\"]))\n            return {};\n\n        const input1 = input[\"input1\"] as DataFrame | Series;\n        const input2 = input[\"input2\"] as DataFrame | Series;\n\n        const newDf = Danfo.concat({\n            df_list: [input1, input2],\n            axis: 0\n        });\n\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst ModifyNodes = [\n    mapDataFrame,\n    renameColumns,\n    removeColumns,\n    fillNaDataFrame,\n    sortDataFrame,\n    mergeDataFrame,\n    appendDataFrame\n];\n\nexport default ModifyNodes;","import { DataFrame, Series } from \"danfojs\";\nimport { ArrayType1D } from \"danfojs/types/shared/types\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport DanfoUtils from \"../utils/DanfoUtils\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\n\nconst groupbyDataFrame: NodeType = {\n    id: \"groupby-dataframe\",\n    name: \"Group By\",\n    description: Descriptions.NodeSpecific.GroupByDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"keys\",\n            description: Descriptions.NodeSpecific.GroupByDataFrame.KeysProperty,\n            type: \"string\",\n            regex: Regexes.valueCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const columns = properties[\"groupColumns\"] as string;\n        const keys = properties[\"keys\"] as string;\n\n        let columnsArr: string[] | undefined;\n        if (Regexes.isMatch(columns, Regexes.labelCommaRegex))\n            columnsArr = Regexes.processCommaDelimString(columns, Regexes.baseLabelRegex);\n\n        let keysArr: string[] | undefined;\n        if (Regexes.isMatch(keys, Regexes.valueCommaRegex))\n            keysArr = Regexes.processCommaDelimString(keys, Regexes.baseValueRegex);\n\n        if (!columnsArr || columnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!keysArr || keysArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"keys\"));\n\n        if (columnsArr && keysArr && columnsArr.length !== keysArr.length)\n            errorHandler.error(Errors.ArrayLengthsNotEqual(\"groupColumns\", \"keys\"));\n\n        if (!columnsArr || columnsArr.length <= 0 || !keysArr || keysArr.length <= 0 ||\n            (columnsArr && keysArr && columnsArr.length !== keysArr.length))\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        columnsArr.forEach((col, index) => {\n            const colIndex = df.columns.indexOf(col);\n            if (colIndex < 0) {\n                errorHandler.error(Errors.ValueNotExists(col, \"column\"));\n                invalidValues.push(col);\n                return;\n            }\n\n            if (!keysArr)\n                return;\n\n            const type = df.dtypes[colIndex];\n            let key: string | number | boolean = keysArr[index];\n            if (type === \"float32\" || type === \"int32\")\n                key = Number(key);\n            else if (type === \"boolean\")\n                key = key.toLowerCase() === \"true\" || key === \"1\";\n\n            const dfUniques = df.column(col).unique().values as ArrayType1D;\n            if (!dfUniques.includes(key)) {\n                errorHandler.error(Errors.ValueNotExists(keysArr[index], \"key\"));\n                invalidValues.push(keysArr[index]);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, columnsArr);\n        const newDf = group.get_groups(keysArr) as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupCountDataFrame: NodeType = {\n    id: \"group-count-dataframe\",\n    name: \"Group Count\",\n    description: Descriptions.NodeSpecific.GroupCountDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"isPercent\",\n            description: Descriptions.NodeSpecific.GroupCountDataFrame.IsPercentProperty,\n            type: \"boolean\",\n            defaultValue: false\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const isPercent = properties[\"isPercent\"] as boolean;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(groupColumns, Regexes.baseLabelRegex);\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n\n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col([groupColumnsArr[0]]).count() as DataFrame;\n        newDf.rename({ mapper: { [`${groupColumnsArr[0]}_count`]: \"Count\" }, inplace: true });\n\n        if (isPercent) {\n            let countCol = newDf.column(\"Count\");\n            const total = countCol.sum();\n            countCol = countCol.div(total) as Series;\n            newDf.addColumn({\n                column: \"Count\",\n                values: countCol.values as ArrayType1D,\n                inplace: true\n            });\n        }\n\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupCumMaxDataFrame: NodeType = {\n    id: \"group-cummax-dataframe\",\n    name: \"Group Cumulative Max\",\n    description: Descriptions.NodeSpecific.GroupCumMaxDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description: Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(groupColumns, Regexes.baseLabelRegex);\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(targetColumns, Regexes.baseLabelRegex);\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"targetColumns\"));\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0 || !targetColumnsArr || targetColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n    \n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).cummax() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupCumMinDataFrame: NodeType = {\n    id: \"group-cummin-dataframe\",\n    name: \"Group Cumulative Min\",\n    description: Descriptions.NodeSpecific.GroupCumMinDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description: Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(groupColumns, Regexes.baseLabelRegex);\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(targetColumns, Regexes.baseLabelRegex);\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"targetColumns\"));\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0 || !targetColumnsArr || targetColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n    \n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).cummin() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupCumSumDataFrame: NodeType = {\n    id: \"group-cumsum-dataframe\",\n    name: \"Group Cumulative Sum\",\n    description: Descriptions.NodeSpecific.GroupCumSumDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description: Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(groupColumns, Regexes.baseLabelRegex);\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(targetColumns, Regexes.baseLabelRegex);\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"targetColumns\"));\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0 || !targetColumnsArr || targetColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n    \n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).cumsum() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupCumProdDataFrame: NodeType = {\n    id: \"group-cumprod-dataframe\",\n    name: \"Group Cumulative Product\",\n    description: Descriptions.NodeSpecific.GroupCumProdDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description: Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(groupColumns, Regexes.baseLabelRegex);\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(targetColumns, Regexes.baseLabelRegex);\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"targetColumns\"));\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0 || !targetColumnsArr || targetColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n    \n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).cumprod() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupSumDataFrame: NodeType = {\n    id: \"group-sum-dataframe\",\n    name: \"Group Sum\",\n    description: Descriptions.NodeSpecific.GroupSumDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description: Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(groupColumns, Regexes.baseLabelRegex);\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(targetColumns, Regexes.baseLabelRegex);\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"targetColumns\"));\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0 || !targetColumnsArr || targetColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n    \n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).sum() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupMeanDataFrame: NodeType = {\n    id: \"group-mean-dataframe\",\n    name: \"Group Mean\",\n    description: Descriptions.NodeSpecific.GroupMeanDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description: Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(groupColumns, Regexes.baseLabelRegex);\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(targetColumns, Regexes.baseLabelRegex);\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"targetColumns\"));\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0 || !targetColumnsArr || targetColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n    \n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).mean();\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupMaxDataFrame: NodeType = {\n    id: \"group-max-dataframe\",\n    name: \"Group Max\",\n    description: Descriptions.NodeSpecific.GroupMaxDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description: Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(groupColumns, Regexes.baseLabelRegex);\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(targetColumns, Regexes.baseLabelRegex);\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"targetColumns\"));\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0 || !targetColumnsArr || targetColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n    \n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).max() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupMinDataFrame: NodeType = {\n    id: \"group-min-dataframe\",\n    name: \"Group Min\",\n    description: Descriptions.NodeSpecific.GroupMinDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description: Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(groupColumns, Regexes.baseLabelRegex);\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(targetColumns, Regexes.baseLabelRegex);\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"targetColumns\"));\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0 || !targetColumnsArr || targetColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n    \n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).min() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupStdDataFrame: NodeType = {\n    id: \"group-std-dataframe\",\n    name: \"Group Standard Deviation\",\n    description: Descriptions.NodeSpecific.GroupStdDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description: Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(groupColumns, Regexes.baseLabelRegex);\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(targetColumns, Regexes.baseLabelRegex);\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"targetColumns\"));\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0 || !targetColumnsArr || targetColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n    \n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).std() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst groupVarDataFrame: NodeType = {\n    id: \"group-var-dataframe\",\n    name: \"Group Variance\",\n    description: Descriptions.NodeSpecific.GroupVarDataFrame.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"result\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"groupColumns\",\n            description: Descriptions.Common.DataFrameGrouping.GroupColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        },\n        {\n            id: \"targetColumns\",\n            description: Descriptions.Common.DataFrameGrouping.TargetColumnsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const groupColumns = properties[\"groupColumns\"] as string;\n        const targetColumns = properties[\"targetColumns\"] as string;\n\n        let groupColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(groupColumns, Regexes.labelCommaRegex))\n            groupColumnsArr = Regexes.processCommaDelimString(groupColumns, Regexes.baseLabelRegex);\n\n        let targetColumnsArr: string[] | undefined;\n        if (Regexes.isMatch(targetColumns, Regexes.labelCommaRegex))\n            targetColumnsArr = Regexes.processCommaDelimString(targetColumns, Regexes.baseLabelRegex);\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"groupColumns\"));\n\n        if (!targetColumnsArr || targetColumnsArr.length <= 0)\n            errorHandler.warning(Errors.EmptyNodePropertyNoEffect(\"targetColumns\"));\n\n        if (!groupColumnsArr || groupColumnsArr.length <= 0 || !targetColumnsArr || targetColumnsArr.length <= 0)\n            return {\n                result: df\n            };\n\n        const invalidValues: string[] = [];\n        groupColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"group column\"));\n                invalidValues.push(col);\n            }\n        });\n        targetColumnsArr.forEach((col) => {\n            if (!df.columns.includes(col)) {\n                errorHandler.error(Errors.ValueNotExists(col, \"target column\"));\n                invalidValues.push(col);\n            }\n        });\n    \n        if (invalidValues.length > 0)\n            return {\n                result: df\n            };\n\n        const group = DanfoUtils.groupby(df, groupColumnsArr);\n        const newDf = group.col(targetColumnsArr).var() as DataFrame;\n        return {\n            result: newDf\n        };\n    }\n};\n\nconst GroupingNodes = [\n    groupbyDataFrame,\n    groupCountDataFrame,\n    groupCumMaxDataFrame,\n    groupCumMinDataFrame,\n    groupCumSumDataFrame,\n    groupCumProdDataFrame,\n    groupMaxDataFrame,\n    groupMinDataFrame,\n    groupMeanDataFrame,\n    groupSumDataFrame,\n    groupStdDataFrame,\n    groupVarDataFrame\n];\n\nexport default GroupingNodes;","import { DataFrame, Series } from \"danfojs\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler, DataFrameOutput } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport MathUtils from \"../utils/MathUtils\";\nimport Meta from \"../utils/Meta\";\nimport { Types } from \"../utils/Types\";\n\nconst dataFrameOutput: NodeType = {\n    id: \"dataframe-output\",\n    name: \"DataFrame Output\",\n    description: Descriptions.NodeSpecific.DataFrameOutput.Description,\n    //variableName: \"dataFrameOutputResult\",\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.NodeSpecific.DataFrameOutput.Input,\n            type: Types.OR(Types.DataFrame, Types.Series)\n        }\n    ],\n    properties: [\n        {\n            id: \"outputOrder\",\n            description: Descriptions.Common.OutputOrderProperty,\n            type: \"number\"\n        },\n        {\n            id: \"rowCount\",\n            description: Descriptions.NodeSpecific.DataFrameOutput.RowCountProperty,\n            type: \"number\",\n            defaultValue: 10\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const rowCount = properties[\"rowCount\"] as number;\n        const df = input[\"input\"] as DataFrame | Series;\n        const head = (df.shape[0] >= rowCount && rowCount > 0) ? df.head(rowCount) : df;\n        let values: string[][];\n        if (head.columns.length > 1) {\n            values = head.values.map(value1 => {\n                const val1 = value1 as string[] | (string | number | boolean)[] | number[] | boolean[];\n                return val1.map(value2 => {\n                    if (typeof value2 === \"number\")\n                        return `${MathUtils.toDecimal(value2, 4)}`;\n\n                    return `${value2}`;\n                });\n            });\n        } else {\n            values = head.values.map(value => {\n                const val = value as string | number | boolean;\n                return [`${val}`];\n            });\n        }\n        \n        const output: DataFrameOutput = {\n            type: \"dataframe\",\n            outputOrder: properties[\"outputOrder\"] as number,\n            columns: head.columns,\n            indexes: head.index,\n            values\n        };\n        return output;\n    }\n};\n\nconst OutputNodes = [\n    dataFrameOutput\n];\n\nexport default OutputNodes;","import { DataFrame, Series } from \"danfojs\";\nimport Errors from \"../utils/Errors\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\nimport * as random from \"random-seed\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport Meta from \"../utils/Meta\";\nimport Descriptions from \"../utils/Descriptions\";\n\nconst randomLabelsColumn: NodeType = {\n    id: \"random-labels-column\",\n    name: \"Random Labels\",\n    description: Descriptions.NodeSpecific.RandomLabels.Description,\n    style: {\n        width: 130\n    },\n    inputSlots: [\n        {\n            id: \"seed\",\n            description: Descriptions.Common.DataFrameDataGen.SeedInput,\n            type: Types.String,\n            defaultValue: \"SomeSeed\"\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"labels\",\n            description: Descriptions.NodeSpecific.RandomLabels.LabelsOutput,\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"columnName\",\n            description: Descriptions.Common.DataFrameDataGen.ColumnNameProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"rowCount\",\n            description: Descriptions.Common.DataFrame.RowCountProperty,\n            type: \"number\",\n            defaultValue: 1\n        },\n        {\n            id: \"labels\",\n            description: Descriptions.NodeSpecific.RandomLabels.LabelsProperty,\n            type: \"string\",\n            regex: Regexes.labelCommaRegex\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"seed\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"seed\"));\n            return {};\n        }\n\n        const seed = input[\"seed\"] as string;\n        const columnName = properties[\"columnName\"] as string;\n        const rowCount = properties[\"rowCount\"] as number;\n        const labelPattern = properties[\"labels\"] as string;\n\n        if (rowCount <= 0)\n            errorHandler.error(Errors.NumberCannotBeZeroOrNegative(\"rowCount\", \"property\"));\n\n        if (!Regexes.isMatch(labelPattern, Regexes.labelCommaRegex))\n            errorHandler.error(Errors.CannotBeEmpty(\"labels\", \"property\"));\n\n        if (rowCount <= 0 || !Regexes.isMatch(labelPattern, Regexes.labelCommaRegex))\n            return {};\n\n        const rand = random.create(seed !== \"\" ? seed : undefined);\n            \n        let colName = columnName;\n        if (!Regexes.isMatch(columnName, Regexes.labelRegex))\n            colName = \"Labels\";\n\n        const labelNames = Regexes.processCommaDelimString(labelPattern, Regexes.baseLabelRegex);\n        const labels: string[] = [];\n        for (let i = 0; i < rowCount; i++) {\n            const randIndex = rand(labelNames.length);\n            labels.push(labelNames[randIndex]);\n        }\n\n        return {\n            labels: new Series(labels, { columns: [colName] })\n        };\n    }\n};\n\nconst randomData: NodeType = {\n    id: \"random-data-dataframe\",\n    name: \"Random Data\",\n    description: Descriptions.NodeSpecific.RandomData.Description,\n    style: {\n        width: 120\n    },\n    inputSlots: [\n        {\n            id: \"seed\",\n            description: Descriptions.Common.DataFrameDataGen.SeedInput,\n            type: Types.String,\n            defaultValue: \"SomeSeed\"\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"data\",\n            description: Descriptions.NodeSpecific.RandomData.DataOutput,\n            type: Types.DataFrame\n        }\n    ],\n    properties: [\n        {\n            id: \"columnNames\",\n            description: Descriptions.NodeSpecific.RandomData.ColumnNamesProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelCommaRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"rowCount\",\n            description: Descriptions.Common.DataFrame.RowCountProperty,\n            type: \"number\",\n            defaultValue: 1\n        },\n        {\n            id: \"minMax\",\n            description: Descriptions.NodeSpecific.RandomData.MinMaxProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.numberMapRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"isIntegers\",\n            description: Descriptions.NodeSpecific.RandomData.IsIntegersProperty,\n            type: \"boolean\"\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"seed\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"seed\"));\n            return {};\n        }\n\n        const seed = input[\"seed\"] as string;\n        const columnNamesPattern = properties[\"columnNames\"] as string;\n        const rowCount = properties[\"rowCount\"] as number;\n        const minMaxPattern = properties[\"minMax\"] as string;\n        const isIntegers = properties[\"isIntegers\"] as boolean;\n\n        if (rowCount <= 0) {\n            errorHandler.error(Errors.NumberCannotBeZeroOrNegative(\"rowCount\", \"property\"));\n            return {};\n        }\n\n        const rand = random.create(seed !== \"\" ? seed : undefined);\n\n        let columnNames: string[] = [];\n        let minMax: string[] = [];\n        if (columnNamesPattern === \"\" && minMaxPattern === \"\") {\n            columnNames = [\"Data\"];\n            minMax = [\"0:1\"];\n        } else if (columnNamesPattern === \"\" && minMaxPattern !== \"\") {\n            if (!Regexes.isMatch(minMaxPattern, Regexes.numberMapRegex)) {\n                errorHandler.error(Errors.DoesNotMatchPattern(\"minMax\", minMaxPattern, \"property\"));\n                return {};\n            }\n\n            minMax = Regexes.processCommaDelimString(minMaxPattern, Regexes.baseNumberMapRegex);\n            minMax.forEach((val, index) => {\n                columnNames.push(`Data_${index + 1}`);\n            });\n        } else if (columnNamesPattern !== \"\" && minMaxPattern === \"\") {\n            if (!Regexes.isMatch(columnNamesPattern, Regexes.labelCommaRegex)) {\n                errorHandler.error(Errors.DoesNotMatchPattern(\"columnNames\", columnNamesPattern, \"property\"));\n                return {};\n            }\n\n            columnNames = Regexes.processCommaDelimString(columnNamesPattern, Regexes.baseLabelRegex);\n            columnNames.forEach(() => {\n                minMax.push(\"0:1\");\n            });\n        } else {\n            let hasError = false;\n            if (!Regexes.isMatch(minMaxPattern, Regexes.numberMapRegex)) {\n                errorHandler.error(Errors.DoesNotMatchPattern(\"minMax\", minMaxPattern, \"property\"));\n                hasError = true;\n            }\n\n            if (!Regexes.isMatch(columnNamesPattern, Regexes.labelCommaRegex)) {\n                errorHandler.error(Errors.DoesNotMatchPattern(\"columnNames\", columnNamesPattern, \"property\"));\n                hasError = true;\n            }\n\n            if (hasError)\n                return {};\n\n            minMax = Regexes.processCommaDelimString(minMaxPattern, Regexes.baseNumberMapRegex);\n            columnNames = Regexes.processCommaDelimString(columnNamesPattern, Regexes.baseLabelRegex);\n        }\n\n        if (minMax.length !== columnNames.length) {\n            errorHandler.error(Errors.ArrayLengthsNotEqual(\"columnNames\", \"minMax\"));\n            return {};\n        }\n\n        const dataObj: {\n            [column: string]: number[];\n        } = {};\n\n        for (let i = 0; i < columnNames.length; i++) {\n            const minMaxSplit = minMax[i].split(\":\").map(val => Number(val));\n            const min = minMaxSplit[0];\n            const max = minMaxSplit[1];\n            if (min > max) {\n                errorHandler.error(Errors.MinCannotBeGreaterThanMax(minMax[i]));\n                return {};\n            }\n\n            const column = columnNames[i];\n            if (!dataObj[column])\n                dataObj[column] = [];\n\n            for (let j = 0; j < rowCount; j++) {\n                const baseRandomVal = (rand.random() * 0.5) + (rand.random() * 0.5);\n                let randomVal = baseRandomVal * (max - min) + min;\n                if (isIntegers)\n                    randomVal = Math.round(randomVal);\n                    \n                dataObj[column].push(randomVal);\n            }\n        }\n\n        return {\n            data: new DataFrame(dataObj)\n        };\n    }\n};\n\nconst arangeNode: NodeType = {\n    id: \"arange-dataframe\",\n    name: \"Array of Integers\",\n    description: Descriptions.NodeSpecific.ARange.Description,\n    style: {\n        width: 120\n    },\n    outputSlots: [\n        {\n            id: \"arange\",\n            description: Descriptions.NodeSpecific.ARange.ARangeOutput,\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"columnName\",\n            description: Descriptions.Common.DataFrameDataGen.ColumnNameProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        },\n        {\n            id: \"start\",\n            description: Descriptions.NodeSpecific.ARange.StartProperty,\n            type: \"number\",\n            defaultValue: 0\n        },\n        {\n            id: \"stop\",\n            description: Descriptions.NodeSpecific.ARange.StopProperty,\n            type: \"number\",\n            defaultValue: 10\n        },\n        {\n            id: \"step\",\n            description: Descriptions.NodeSpecific.ARange.StepProperty,\n            type: \"number\",\n            defaultValue: 1\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        const columnName = properties[\"columnName\"] as string;\n        const start = properties[\"start\"] as number;\n        const stop = properties[\"stop\"] as number;\n        const step = properties[\"step\"] as number;\n\n        if (step === 0) {\n            errorHandler.error(Errors.NumberCannotBeZero(\"step\", \"property\"));\n            return {};\n        }\n\n        let hasError = false;\n        if (start < stop) {\n            if (step < 0) {\n                errorHandler.error(Errors.InvalidStartStopStepConfig(start, stop, step));\n                hasError = true;\n            }\n        } else {\n            if (step > 0) {\n                errorHandler.error(Errors.InvalidStartStopStepConfig(start, stop, step));\n                hasError = true;\n            }\n        }\n\n        if (hasError)\n            return {};\n\n        let colName = columnName;\n        if (!Regexes.isMatch(columnName, Regexes.labelRegex))\n            colName = \"Array\";\n\n        const arr: number[] = [];\n        for (let i = start; (start < stop) ? i < stop : i > stop; i += step)\n            arr.push(i);\n\n        return {\n            arange: new Series(arr, { columns: [colName] })\n        };\n    }\n};\n\nconst DataGenNodes = [\n    randomLabelsColumn,\n    randomData,\n    arangeNode\n];\n\nexport default DataGenNodes;","import BinaryOpsNodes from \"./DataFrameNodes.binary\";\nimport QueryNodes from \"./DataFrameNodes.query\";\nimport DataFrameDescriptiveNodes from \"./DataFrameNodes.descriptive\";\nimport ModifyNodes from \"./DataFrameNodes.modify\";\nimport GroupingNodes from \"./DataFrameNodes.grouping\";\nimport OutputNodes from \"./DataFrameNodes.output\";\nimport DataGenNodes from \"./DataFrameNodes.datagen\";\nimport { NodeCollection } from \"../types\";\n\n// Stats\n\n// Random\n\nconst DataFrameNodes: NodeCollection = {\n    id: \"dataframe\",\n    name: \"DataFrame Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"BinaryOps\",\n            types: BinaryOpsNodes\n        },\n        {\n            name: \"Descriptive\",\n            types: DataFrameDescriptiveNodes\n        },\n        {\n            name: \"Modify\",\n            types: ModifyNodes\n        },\n        {\n            name: \"Query\",\n            types: QueryNodes\n        },\n        {\n            name: \"Grouping\",\n            types: GroupingNodes\n        },\n        {\n            name: \"DataGen\",\n            types: DataGenNodes\n        },\n        {\n            name: \"Output\",\n            types: OutputNodes\n        }\n    ]\n};\nexport default DataFrameNodes;","import { Series } from \"danfojs\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport { Types } from \"../utils/Types\";\n\nconst countSeries: NodeType = {\n    id: \"count-column-dataframe\",\n    name: \"Count Series\",\n    description: Descriptions.NodeSpecific.CountSeries.Description,\n    style: {\n        width: 130\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"count\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    properties: [\n        {\n            id: \"skipNull\",\n            description: Descriptions.NodeSpecific.CountSeries.SkipNullProperty,\n            type: \"boolean\",\n            defaultValue: false\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const skipNull = properties[\"skipNull\"] as boolean;\n        const count = skipNull ? series.count() : series.size;\n        return {\n            count\n        };\n    }\n};\n\nconst cumMaxSeries: NodeType = {\n    id: \"cumulative-max-column-dataframe\",\n    name: \"Cumulative Max Series\",\n    description: Descriptions.NodeSpecific.CumMaxSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cumMax\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Series\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const cumMax = series.cummax() as Series;\n\n        return {\n            cumMax\n        };\n    }\n};\n\nconst cumMinSeries: NodeType = {\n    id: \"cumulative-min-column-dataframe\",\n    name: \"Cumulative Min Series\",\n    description: Descriptions.NodeSpecific.CumMinSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cumMin\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Series\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const cumMin = series.cummin() as Series;\n\n        return {\n            cumMin\n        };\n    }\n};\n\nconst cumSumSeries: NodeType = {\n    id: \"cumulative-sum-column-dataframe\",\n    name: \"Cumulative Sum Series\",\n    description: Descriptions.NodeSpecific.CumSumSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cumSum\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Series\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const cumSum = series.cumsum() as Series;\n\n        return {\n            cumSum\n        };\n    }\n};\n\nconst cumProdSeries: NodeType = {\n    id: \"cumulative-prod-column-dataframe\",\n    name: \"Cumulative Prod Series\",\n    description: Descriptions.NodeSpecific.CumProdSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"cumProd\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Series\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const cumProd = series.cumprod() as Series;\n\n        return {\n            cumProd\n        };\n    }\n};\n\nconst maxSeries: NodeType = {\n    id: \"max-column-dataframe\",\n    name: \"Max Series\",\n    description: Descriptions.NodeSpecific.MaxSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"max\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const max = series.max();\n\n        return {\n            max\n        };\n    }\n};\n\nconst minSeries: NodeType = {\n    id: \"min-column-dataframe\",\n    name: \"Min Series\",\n    description: Descriptions.NodeSpecific.MinSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"min\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const min = series.min();\n\n        return {\n            min\n        };\n    }\n};\n\nconst meanSeries: NodeType = {\n    id: \"mean-column-dataframe\",\n    name: \"Mean Series\",\n    description: Descriptions.NodeSpecific.MeanSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"mean\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const mean = series.mean();\n\n        return {\n            mean\n        };\n    }\n};\n\nconst medianSeries: NodeType = {\n    id: \"median-column-dataframe\",\n    name: \"Median Series\",\n    description: Descriptions.NodeSpecific.MedianSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"median\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const median = series.median();\n\n        return {\n            median\n        };\n    }\n};\n\nconst modeSeries: NodeType = {\n    id: \"mode-column-dataframe\",\n    name: \"Mode Series\",\n    description: Descriptions.NodeSpecific.ModeSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"mode\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const mode = series.mode();\n\n        return {\n            mode\n        };\n    }\n};\n\nconst sumSeries: NodeType = {\n    id: \"sum-column-dataframe\",\n    name: \"Sum Series\",\n    description: Descriptions.NodeSpecific.SumSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"sum\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const sum = series.sum();\n\n        return {\n            sum\n        };\n    }\n};\n\nconst stdSeries: NodeType = {\n    id: \"std-column-dataframe\",\n    name: \"Standard Deviation Series\",\n    description: Descriptions.NodeSpecific.StdSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"std\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const std = series.std();\n\n        return {\n            std\n        };\n    }\n};\n\nconst varSeries: NodeType = {\n    id: \"var-column-dataframe\",\n    name: \"Variance Series\",\n    description: Descriptions.NodeSpecific.VarSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"var\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const variance = series.var();\n\n        return {\n            var: variance\n        };\n    }\n};\n\nconst nuniqueSeries: NodeType = {\n    id: \"nunique-column-dataframe\",\n    name: \"Num Unique Series\",\n    description: Descriptions.NodeSpecific.NUniqueSeries.Description,\n    style: {\n        width: 160\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.SeriesInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"nunique\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Number\n        }\n    ],\n    \n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const nunique = series.nunique();\n\n        return {\n            nunique\n        };\n    }\n};\n\nconst SeriesDescriptiveNodes = [\n    countSeries,\n    cumMaxSeries,\n    cumMinSeries,\n    cumSumSeries,\n    cumProdSeries,\n    maxSeries,\n    minSeries,\n    meanSeries,\n    medianSeries,\n    modeSeries,\n    sumSeries,\n    stdSeries,\n    varSeries,\n    nuniqueSeries\n];\n\nexport default SeriesDescriptiveNodes;","import { NodeCollection } from \"../types\";\nimport SeriesDescriptiveNodes from \"./SeriesNodes.descriptive\";\n\nconst SeriesNodes: NodeCollection = {\n    id: \"series\",\n    name: \"Series Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"Descriptive\",\n            types: SeriesDescriptiveNodes\n        }\n    ]\n};\nexport default SeriesNodes;","import { DataFrame, Series } from \"danfojs\";\nimport { NodeType, PrimitiveTree, PrimitiveObject, NodeErrorHandler, NodeCollection } from \"../types\";\nimport Descriptions from \"../utils/Descriptions\";\nimport Errors from \"../utils/Errors\";\nimport Meta from \"../utils/Meta\";\nimport Regexes from \"../utils/Regexes\";\nimport { Types } from \"../utils/Types\";\n\nconst dataFrameToSeries: NodeType = {\n    id: \"dataframe-to-series\",\n    name: \"DataFrame To Series\",\n    description: Descriptions.NodeSpecific.DataFrameToSeries.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.DataFrame\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.Series\n        }\n    ],\n    properties: [\n        {\n            id: \"column\",\n            description: Descriptions.NodeSpecific.DataFrameToSeries.ColumnProperty,\n            type: \"string\",\n            regex: Regexes.combine(Regexes.labelRegex, Regexes.emptyRegex)\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const df = input[\"input\"] as DataFrame;\n        const column = properties[\"column\"] as string;\n\n        if (!df.columns.includes(column)) {\n            errorHandler.error(Errors.ValueNotExists(column, \"column\"));\n            return {\n                output: df\n            };\n        }\n\n        const newDf = df.column(column) as Series;\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst seriesToDataFrame: NodeType = {\n    id: \"series-to-dataframe\",\n    name: \"Series To DataFrame\",\n    description: Descriptions.NodeSpecific.SeriesToDataFrame.Description,\n    style: {\n        width: 140\n    },\n    inputSlots: [\n        {\n            id: \"input\",\n            description: Descriptions.Common.DataFrameInput,\n            type: Types.Series\n        }\n    ],\n    outputSlots: [\n        {\n            id: \"output\",\n            description: Descriptions.Common.ResultOutput,\n            type: Types.DataFrame\n        }\n    ],\n    nodeFunction: async (input: PrimitiveTree, properties: PrimitiveObject | undefined, errorHandler: NodeErrorHandler | undefined): Promise<PrimitiveTree> => {\n        if (!errorHandler)\n            return {};\n\n        if (!properties) {\n            errorHandler.error(Errors.MissingNodeProperties);\n            return {};\n        }\n\n        if (Meta.isEmpty(input[\"input\"])) {\n            errorHandler.error(Errors.MissingNodeInput(\"input\"));\n            return {};\n        }\n\n        const series = input[\"input\"] as Series;\n        const newDf = new DataFrame({ [series.columns[0]]: series.values });\n        return {\n            output: newDf\n        };\n    }\n};\n\nconst ConverterNodes: NodeCollection = {\n    id: \"converter\",\n    name: \"Converter Nodes Collection\",\n    description: \"\",\n    nodeGroups: [\n        {\n            name: \"\",\n            types: [\n                dataFrameToSeries,\n                seriesToDataFrame\n            ]\n        }\n    ]\n};\nexport default ConverterNodes;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./assets/app.css\";\nimport \"./assets/main.css\";\nimport \"./assets/github.css\";\nimport \"./assets/github-markdown.css\";\nimport \"./assets/material.css\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport store from \"./app/store\";\nimport App from \"./app/App\";\nimport { Provider } from \"react-redux\";\nimport NodeTypeManager from \"./managers/NodeTypeManager\";\nimport MathNodes from \"./nodeTypes/MathNodes\";\nimport BaseNodes from \"./nodeTypes/BaseNodes\";\nimport ChartNodes from \"./nodeTypes/ChartNodes\";\nimport DataFrameNodes from \"./nodeTypes/DataFrameNodes\";\nimport SeriesNodes from \"./nodeTypes/SeriesNodes\";\nimport { Chart, registerables } from \"chart.js\";\nimport { ViolinController } from \"@sgratzl/chartjs-chart-boxplot\";\nimport ConverterNodes from \"./nodeTypes/ConverterNodes\";\n\n// Initialize anything global\nNodeTypeManager.addNodeCollections(\n    MathNodes, \n    BaseNodes, \n    ChartNodes,\n    DataFrameNodes,\n    SeriesNodes,\n    ConverterNodes\n);\n\nChart.register(...registerables, ViolinController);\n\nexport const baseName = \"/node-books\";\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter basename={baseName}>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}