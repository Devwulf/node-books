(this["webpackJsonpnode-ml"]=this["webpackJsonpnode-ml"]||[]).push([[0],{1e3:function(e,t){},1080:function(e,t,r){"use strict";r.r(t);var n=r(19),a=r(13),o=r.n(a),i=r(110),s=r.n(i),u=(r(704),r(705),r(706),r(707),r(708),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function c(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=r(181),p=r(274),d=r(1),b=r.n(d),f=r(6),m=r(47),h=r(2),x=r(4),v=r(388),y=r(618),g={String:"string",Number:"number",Boolean:"boolean",DataFrame:"DataFrame",Series:"Series"},j="_noType_",k={OR:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length<1?j:t.join(" | ")},ARRAY:function(e){return e.includes("|")?"(".concat(e,")[]"):"".concat(e,"[]")}},w=Object(m.a)(Object(m.a)(Object(m.a)({},g),{Output:"Output"}),k),O=Object.keys(g),N={CSV:"csv"};Object.keys(N);function C(e,t){for(var r=Object.entries(w),n=0;n<r.length;n++){var a=r[n];if(a[0]===e&&a[1]===t)return!0}return!1}var S=r(10),D=function(){function e(t){Object(h.a)(this,e),this.userId="",this.name=void 0,this.notebooks=void 0,this.name=t}return Object(x.a)(e,[{key:"toObject",value:function(){var e={userId:this.userId,name:this.name,notebooks:[]};if(this.notebooks){var t=[];Object.entries(this.notebooks).forEach((function(e){var r=Object(S.a)(e,2),n=(r[0],r[1]);t.push(n.toObject())})),e.notebooks=t}return e}}],[{key:"fromObject",value:function(t){var r=new e(t.name);r.userId=t.userId;var n={};return t.notebooks.forEach((function(e){var t=I.fromObject(e);n[t.notebookId]=t})),r.notebooks=n,r}}]),e}(),I=function(){function e(t,r,n){Object(h.a)(this,e),this.notebookId="",this.name=void 0,this.dateCreated=void 0,this.dateModified=void 0,this.cells=void 0,this.sources=void 0,this.variables=void 0,this.name=t,this.dateCreated=r,this.dateModified=n}return Object(x.a)(e,[{key:"toObject",value:function(){var e={notebookId:this.notebookId,name:this.name,dateCreated:this.dateCreated,dateModified:this.dateModified,cells:[],sources:[],variables:[]};if(this.cells){var t=[];Object.entries(this.cells).forEach((function(e){var r=Object(S.a)(e,2),n=(r[0],r[1]);t.push(n.toObject())})),e.cells=t}if(this.sources){var r=[];Object.entries(this.sources).forEach((function(e){var t=Object(S.a)(e,2),n=(t[0],t[1]);r.push(n.toObject())})),e.sources=r}if(this.variables){var n=[];Object.entries(this.variables).forEach((function(e){var t=Object(S.a)(e,2),r=(t[0],t[1]);n.push(r.toObject())})),e.variables=n}return e}}],[{key:"fromObject",value:function(t){var r=new e(t.name,t.dateCreated,t.dateModified);r.notebookId=t.notebookId;var n={};t.cells.forEach((function(e){var t=F.fromObject(e);n[t.cellId]=t}));var a={};t.sources.forEach((function(e){var t=M.fromObject(e);a[t.sourceId]=t}));var o={};return t.variables.forEach((function(e){var t=R.fromObject(e);o[t.variableId]=t})),r.cells=n,r.sources=a,r.variables=o,r}}]),e}(),M=function(){function e(t,r){Object(h.a)(this,e),this.sourceId="",this.name=void 0,this.type=void 0,this.name=t,this.type=r}return Object(x.a)(e,[{key:"toObject",value:function(){return{sourceId:this.sourceId,name:this.name,type:this.type}}}],[{key:"fromObject",value:function(t){var r=new e(t.name,t.type);return r.sourceId=t.sourceId,r}}]),e}(),R=function(){function e(t,r,n){Object(h.a)(this,e),this.variableId="",this.name=void 0,this.type=void 0,this.value=void 0,this.name=t,this.type=r,this.value=n}return Object(x.a)(e,[{key:"toObject",value:function(){return{variableId:this.variableId,name:this.name,type:this.type,value:this.value}}}],[{key:"fromObject",value:function(t){var r=new e(t.name,t.type,t.value);return r.variableId=t.variableId,r}}]),e}(),F=function(){function e(t){Object(h.a)(this,e),this.cellId="",this.nextCell="",this.type=void 0,this.value=void 0,this.nodes=void 0,this.connections=void 0,this.type=t,"markdown"===t&&(this.value="")}return Object(x.a)(e,[{key:"toObject",value:function(){var e={cellId:this.cellId,nextCell:this.nextCell,type:this.type,value:this.value,nodes:[],connections:[]};if(this.nodes){var t=[];Object.entries(this.nodes).forEach((function(e){var r=Object(S.a)(e,2),n=(r[0],r[1]);t.push(n.toObject())})),e.nodes=t}if(this.connections){var r=[];Object.entries(this.connections).forEach((function(e){var t=Object(S.a)(e,2),n=(t[0],t[1]);r.push(n.toObject())})),e.connections=r}return e}}],[{key:"fromObject",value:function(t){var r=new e(t.type);r.cellId=t.cellId,r.nextCell=t.nextCell,r.value=t.value;var n={};t.nodes.forEach((function(e){var t=P.fromObject(e);n[t.nodeId]=t}));var a={};return t.connections.forEach((function(e){var t=E.fromObject(e);a[t.connectionId]=t})),r.nodes=n,r.connections=a,r}}]),e}(),E=function(){function e(t,r,n,a){Object(h.a)(this,e),this.connectionId="",this.fromNodeId=void 0,this.fromSlotId=void 0,this.toNodeId=void 0,this.toSlotId=void 0,this.fromNodeId=t,this.fromSlotId=r,this.toNodeId=n,this.toSlotId=a}return Object(x.a)(e,[{key:"toObject",value:function(){return{connectionId:this.connectionId,fromNodeId:this.fromNodeId,fromSlotId:this.fromSlotId,toNodeId:this.toNodeId,toSlotId:this.toSlotId}}}],[{key:"fromObject",value:function(t){var r=new e(t.fromNodeId,t.fromSlotId,t.toNodeId,t.toSlotId);return r.connectionId=t.connectionId,r}}]),e}(),P=function(){function e(t,r,n){Object(h.a)(this,e),this.nodeId="",this.name=void 0,this.type=void 0,this.coords=void 0,this.properties=[],this.inputValues=[],this.name=t,this.type=r,this.coords=null!==n&&void 0!==n?n:{x:0,y:0}}return Object(x.a)(e,[{key:"toObject",value:function(){return{nodeId:this.nodeId,name:this.name,type:this.type,coords:this.coords,properties:this.properties,inputValues:this.inputValues}}}],[{key:"fromObject",value:function(t){var r=new e(t.name,t.type,t.coords);return r.nodeId=t.nodeId,r.properties=t.properties,r.inputValues=t.inputValues,r}}]),e}(),T=r(14),V=r(15),A=r(168),L=r(302),B=r(73),G=r.n(B),z=function(){function e(){Object(h.a)(this,e)}return Object(x.a)(e,null,[{key:"unique",value:function(e){var t=new Set(e);return Array.from(t)}},{key:"groupby",value:function(e,t){return e.groupby(t)}},{key:"isEmpty",value:function(e){return void 0===e||null===e||isNaN(e)&&"string"!==typeof e||""===e&&"string"===typeof e}},{key:"mapColumnsToTypes",value:function(e,t){if(e.length<=0||t.length<=0)throw ReferenceError("Either columns or types parameter is empty");if(e.length!==t.length)throw ReferenceError("The length of both columns and types must be equal");for(var r={},n=0;n<e.length;n++)r[e[n]]=t[n];return r}},{key:"fillna",value:function(t,r,a){if(r.length<=0||a.length<=0)throw Error("ParamError: either columns or values parameter is empty");if(a.length!==r.length)throw Error("ParamError: specified column and values must have the same length");r.forEach((function(e){if(!t.columns.includes(e))throw Error('ValueError: Specified column "'.concat(e,'" must be one of ').concat(t.columns))}));for(var o=[],i=Object(n.a)(t.values),s=0;s<i.length;s++){for(var u=i[s],c=0;c<r.length;c++){var l=t.columns.indexOf(r[c]),p=a[c];u[l]=e.isEmpty(u[l])?p:u[l]}o.push(u)}return new G.a(o,{index:Object(n.a)(t.index),columns:Object(n.a)(t.columns),dtypes:Object(n.a)(t.dtypes),config:Object(m.a)({},t.config)})}},{key:"rebuildDataFrame",value:function(e,t){var r=e.copy();return r=r.apply((function(e){var r=0;return e.map((function(e){var n=t[r];return r++,"float32"===n||"int32"===n?""!==e?Number(e):NaN:"boolean"===n?"true"===e.toLowerCase()||"1"===e:""===e?"":e}))}),{axis:1})}},{key:"map",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.values.map((function(e){var n="".concat(e);return n in t?t[n]:r?NaN:e})),a=e.copy();return a.$setValues(n),a=a.asType(a.dtype)}},{key:"loc",value:function(e,t,r){var n,a,o=e.values,i=e.index,s=null===r||void 0===r?void 0:r.values;if(void 0!==s&&!Array.isArray(s))throw new Error('rows parameter must be an Array. For example: rows: [1,2] or rows: ["0:10"]');if(void 0!==t&&!Array.isArray(t))throw new Error('columns parameter must be an Array. For example: columns: ["a","b"] or columns: ["a:c"]');if(s)if(1===s.length&&"string"===typeof s[0])if(-1===s[0].indexOf(":")){var u;if(-1===(u=s[0].startsWith('"')||s[0].startsWith("'")||s[0].startsWith("`")?i.indexOf(s[0].replace(/['"`]/g,"")):"string"===typeof s[0]?i.indexOf(s[0]):i.indexOf(Number(s[0]))))throw new Error("IndexError: Specified index (".concat(s[0],") not found"));n=[u]}else{var c,l,p=s[0].split(":");if(2!=p.length)throw new Error('Invalid row split parameter: If using row split string, it must be of the form; rows: ["start:end"]');if(c=""===p[0]?i.indexOf(i[0]):p[0].startsWith('"')||p[0].startsWith("'")||p[0].startsWith("`")?i.indexOf(p[0].replace(/['"`]/g,"")):i.indexOf(Number(p[0])),l=""===p[1]?i.indexOf(i[i.length-1])+1:p[1].startsWith('"')||p[1].startsWith("'")||p[1].startsWith("`")?i.indexOf(p[1].replace(/['"`]/g,"")):i.indexOf(Number(p[1])),-1===c)throw new Error("IndexError: Specified start index not found");if(-1===l)throw new Error("IndexError: Specified end index not found");n=i.slice(c,l+1>=i.length?void 0:l+1).map((function(e){return i.indexOf(e)}))}else{for(var d=[],b=0;b<s.length;b++){var f="boolean"===typeof s[b];if(f&&s[b]&&d.push(i.indexOf(i[b])),!f){var m=i.indexOf(s[b]);if(-1===m)throw new Error("IndexError: Specified index (".concat(s[b],") not found"));d.push(m)}}n=d}else n=i.map((function(e){return i.indexOf(e)}));var h=e.columns;if(t)if(1==t.length){if("string"!==typeof t[0])throw new Error('ColumnIndexError: columns parameter must be an array of a string name. For example: columns: ["b"]');if(-1==t[0].indexOf(":"))a=[h.indexOf(t[0])];else{var x=t[0].split(":");if(2!=x.length)throw new Error('ColumnIndexError: Invalid row split parameter. If using row split string, it must be of the form; rows: ["start:end"]');var v=""==x[0]?h.indexOf(h[0]):h.indexOf(x[0]),y=""==x[1]?h.indexOf(h[h.length-1]):h.indexOf(x[1]);if(-1===v)throw new Error("ColumnIndexError: Specified start index not found");if(-1===y)throw new Error("ColumnIndexError: Specified end index not found");a=h.slice(v,y+1>=h.length?void 0:y+1).map((function(e){return h.indexOf(e)}))}}else{for(var g=0;g<t.length;g++)if(-1===h.indexOf(t[g]))throw new Error("ColumnIndexError: Specified column (".concat(t[g],") not found"));a=t.map((function(e){return h.indexOf(e)}))}else a=h.map((function(e){return h.indexOf(e)}));for(var j=[],k=[],w=[],O=[],N=0;N<n.length;N++){for(var C=n[N],S=o[C],D=[],I=0;I<a.length;I++){var M=a[I];D.push(S[M])}j.push(D),k.push(i[C])}for(var R=0;R<a.length;R++){var F=a[R];w.push(e.columns[F]),O.push(e.dtypes[F])}return new G.a(j,{index:k,columns:w,dtypes:O,config:e.config})}}]),e}(),H=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(){return Object(h.a)(this,r),t.apply(this,arguments)}return Object(x.a)(r,[{key:"saveToDB",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.df){e.next=2;break}return e.abrupt("return",!1);case 2:if(ee.db){e.next=4;break}throw new ReferenceError("The DBService has not been started yet.");case 4:return t=A.toJSON(this.df,{download:!1,format:"row"}),r=(new TextEncoder).encode(JSON.stringify(t)),e.next=8,ee.db.addData(this.id,r);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(function(){function e(t){Object(h.a)(this,e),this._id=void 0,this._df=void 0,this._id=t}return Object(x.a)(e,[{key:"id",get:function(){return this._id}},{key:"df",get:function(){return this._df}}]),e}()),U=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e,n){var a;return Object(h.a)(this,r),(a=t.call(this,e)).csvFile=void 0,a.csvFile=n,a}return Object(x.a)(r,[{key:"loadToDf",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r,n,a,o,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee.db){e.next=2;break}throw new ReferenceError("The DBService has not been started yet.");case 2:return e.next=4,ee.db.getData(this.id);case 4:if(!(t=e.sent)){e.next=10;break}return r=JSON.parse((new TextDecoder).decode(t)),n=new A.DataFrame(r),this._df=n,e.abrupt("return",!0);case 10:if(this.csvFile){e.next=12;break}return e.abrupt("return",!1);case 12:return a=this.csvFile,e.next=15,new Promise((function(e){L.parse(a,{header:!0,dynamicTyping:!1,complete:function(t){e(t.data)}})}));case 15:return o=e.sent,i=new A.DataFrame(o),s=z.rebuildDataFrame(i,i.dtypes),this._df=s,e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(H),q=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e,n){var a;return Object(h.a)(this,r),(a=t.call(this,e)).csvUrl=void 0,a.csvUrl=n,a}return Object(x.a)(r,[{key:"loadToDf",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r,n,a,o,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee.db){e.next=2;break}throw new ReferenceError("The DBService has not been started yet.");case 2:return e.next=4,ee.db.getData(this.id);case 4:if(!(t=e.sent)){e.next=10;break}return r=JSON.parse((new TextDecoder).decode(t)),n=new A.DataFrame(r),this._df=n,e.abrupt("return",!0);case 10:if(this.csvUrl){e.next=12;break}return e.abrupt("return",!1);case 12:return a=this.csvUrl,e.next=15,new Promise((function(e){L.parse(a,{download:!0,header:!0,dynamicTyping:!1,complete:function(t){e(t.data)}})}));case 15:return o=e.sent,i=new A.DataFrame(o),s=z.rebuildDataFrame(i,i.dtypes),this._df=s,e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(H),W=function(){function e(){Object(h.a)(this,e),this._sources={}}return Object(x.a)(e,[{key:"addSource",value:function(e){this._sources[e.id]=e}},{key:"getSource",value:function(e){try{var t=this._sources[e];if(!t)throw new ReferenceError("Source not found");if(!t.df&&!t.loadToDf())throw new ReferenceError("Source not initialized");return t}catch(r){return console.error(r),null}}},{key:"getAllSources",value:function(){return Object.values(this._sources)}},{key:"loadAllSources",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"clearSources",value:function(){this._sources={}}}]),e}(),K=(new W,"ky7ukwew00003f61vd3yuohz");function Y(){return J.apply(this,arguments)}function J(){return(J=Object(f.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("/node-books","/titanic.csv"),r=new q(K,t),e.next=4,r.loadToDf();case 4:if(!e.sent){e.next=11;break}return e.next=8,r.saveToDB();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=!1;case 12:e.t0;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return Z.apply(this,arguments)}function Z(){return(Z=Object(f.a)(b.a.mark((function e(){var t,r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/node-books","/exported-db.json"));case 2:return t=e.sent,e.next=5,t.text();case 5:return r=e.sent,n=JSON.parse(r),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q,_=function(){function e(t,r){var n=this;if(Object(h.a)(this,e),this.db=void 0,this.dbType=void 0,this.readyListeners=[],r)this.db=r;else if(t===Q.Offline)this.db=v.AceBase.WithIndexedDB("node-ml-offline",{removeVoidProperties:!0});else if(t===Q.Online){var a=v.AceBase.WithIndexedDB("node-ml-online",{removeVoidProperties:!0});this.db=new y.AceBaseClient({cache:{db:a},host:"test",port:443,https:!0,dbname:"node-ml"})}else this.db=v.AceBase.WithIndexedDB("node-ml-test",{removeVoidProperties:!0});this.dbType=t,this.db.ready(Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.mapToClass(),e.next=3,n.setupSchema();case 3:n.readyListeners.forEach(function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))))}return Object(x.a)(e,[{key:"onReady",value:function(e){this.readyListeners.push(e)}},{key:"mapToClass",value:function(){this.db.types.bind("users",D,{creator:function(e){var t=e.ref.key,r=e.val(),n=new D(r.name);return n.userId=t,n.notebooks=r.notebooks,n},serializer:function(e,t){return{name:t.name,notebooks:t.notebooks}}}),this.db.types.bind("users/*/notebooks",I,{creator:function(e){var t=e.ref.key,r=e.val(),n=new I(r.name,r.dateCreated,r.dateModified);return n.notebookId=t,n.cells=r.cells,n.sources=r.sources,n.variables=r.variables,n},serializer:function(e,t){return{name:t.name,dateCreated:t.dateCreated,dateModified:t.dateModified,cells:t.cells,sources:t.sources,variables:t.variables}}}),this.db.types.bind("users/*/notebooks/*/sources",M,{creator:function(e){var t=e.ref.key,r=e.val(),n=new M(r.name,r.type);return n.sourceId=t,n},serializer:function(e,t){return{name:t.name,type:t.type}}}),this.db.types.bind("users/*/notebooks/*/variables",R,{creator:function(e){var t=e.ref.key,r=e.val(),n=new R(r.name,r.type,r.value);return n.variableId=t,n},serializer:function(e,t){return{name:t.name,type:t.type,value:t.value}}}),this.db.types.bind("users/*/notebooks/*/cells",F,{creator:function(e){var t=e.ref.key,r=e.val(),n=new F(r.type);return n.cellId=t,n.value=r.value,n.nodes=r.nodes,n.connections=r.connections,n.nextCell=r.nextCell,n},serializer:function(e,t){return{type:t.type,value:t.value,nextCell:t.nextCell,nodes:t.nodes,connections:t.connections}}}),this.db.types.bind("users/*/notebooks/*/cells/*/nodes",P,{creator:function(e){var t=e.ref.key,r=e.val(),n=new P(r.name,r.type,r.coords);return n.nodeId=t,n.properties=r.properties,n.inputValues=r.inputValues,n},serializer:function(e,t){return{name:t.name,type:t.type,coords:t.coords,properties:t.properties,inputValues:t.inputValues}}}),this.db.types.bind("users/*/notebooks/*/cells/*/connections",E,{creator:function(e){var t=e.ref.key,r=e.val(),n=new E(r.fromNodeId,r.fromSlotId,r.toNodeId,r.toSlotId);return n.connectionId=t,n},serializer:function(e,t){return{fromNodeId:t.fromNodeId,fromSlotId:t.fromSlotId,toNodeId:t.toNodeId,toSlotId:t.toSlotId}}})}},{key:"setupSchema",value:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.schema.set("users/$userId",{name:"string","notebooks?":{$notebookId:{name:"string",dateCreated:"number",dateModified:"number","cells?":{$cellId:{type:"string",nextCell:"string","value?":"string","nodes?":{$nodeId:{name:"string",type:"string",coords:"{ x: number, y: number }",properties:"{ id: string, value: string | number | boolean }[]",inputValues:"{ id: string, value: any }[]"}},"connections?":{$connectionId:{fromNodeId:"string",fromSlotId:"string",toNodeId:"string",toSlotId:"string"}}}},"sources?":{$sourceId:{name:"string",type:"string"}},"variables?":{$variableId:{name:"string",type:"string","value?":"string | number | boolean"}}}}});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"seedDatabase",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.root.count();case 2:if(!(e.sent>0)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,X();case 7:return t=e.sent,e.next=10,this.db.ref("users").push(t);case 10:return e.next=12,Y();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exportDatabase",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",r=function(e){t+=e},e.next=4,this.db.ref("users").export({write:r});case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearDatabase",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.root.forEach(function(){var e=Object(f.a)(b.a.mark((function e(r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.db.ref(r.key).remove();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createNewUser",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new D(t),e.next=3,this.db.ref("users").push(r);case 3:return n=e.sent,e.next=6,n.get();case 6:return a=e.sent,e.abrupt("return",a.val());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeUser",value:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t)).remove();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUserName",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/name")).transaction((function(e){return r}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAllUsers",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.dbType!==Q.Online){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,this.db.query("users").get({include:["*/name"]});case 4:return t=e.sent,r=[],t.forEach((function(e){return r.push(e.val())})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserDetail",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t)).get({include:["name"]});case 2:return r=e.sent,e.abrupt("return",r.val());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createNewNotebook",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a,o,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),a=new I(r,n,n),e.next=4,this.db.ref("users/".concat(t,"/notebooks")).push(a);case 4:return o=e.sent,i=new F("markdown"),e.next=8,this.db.ref("users/".concat(t,"/notebooks/").concat(o.key,"/cells")).push(i);case 8:return e.next=10,o.get();case 10:return s=e.sent,e.abrupt("return",s.val());case 12:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"addNotebook",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===r.notebookId){e.next=5;break}return e.next=3,this.db.ref("users/".concat(t,"/notebooks/").concat(r.notebookId)).set(r);case 3:e.next=7;break;case 5:return e.next=7,this.db.ref("users/".concat(t,"/notebooks")).push(r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"removeNotebook",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r)).remove();case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"updateNotebookName",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Date.now(),e.next=3,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/name")).transaction((function(e){return n}));case 3:return e.next=5,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/dateModified")).transaction((function(e){return a}));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getNotebook",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r)).get();case 2:return n=e.sent,e.abrupt("return",n.val());case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getNotebooksByUser",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,this.db.query("users/".concat(t,"/notebooks")).get();case 3:return e.sent.forEach((function(e){return r.push(e.val())})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getNotebookDetailsByUser",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.next=3,this.db.query("users/".concat(t,"/notebooks")).get({exclude:["cells"],snapshots:!0});case 3:return e.sent.forEach((function(e){return r.push(e.val())})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createNewDataSource",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a){var o,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new M(n,a),e.next=3,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/sources")).push(o);case 3:return i=e.sent,e.next=6,i.get();case 6:return s=e.sent,e.abrupt("return",s.val());case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"updateDataSourceName",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/sources/").concat(n,"/name")).transaction((function(e){return a}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"removeDataSource",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/sources/").concat(n)).remove();case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getDataSource",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/sources/").concat(n)).get();case 2:return a=e.sent,e.abrupt("return",a.val());case 4:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getDataSources",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.db.query("users/".concat(t,"/notebooks/").concat(r,"/sources")).get();case 3:return e.sent.forEach((function(e){return n.push(e.val())})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"addData",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("data/".concat(t)).set(r);case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"removeData",value:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("data/".concat(t)).remove();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("data/".concat(t)).get();case 2:if(!(r=e.sent).exists()){e.next=5;break}return e.abrupt("return",r.val());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isDataExists",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.db.ref("data/".concat(t)),e.next=3,r.exists();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createNewVariable",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a,o){var i,s,u,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(i=o)&&(i=C(a,w.String)?"":C(a,w.Number)?0:!C(a,w.Boolean)&&void 0),s=new R(n,a,i),e.next=5,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/variables")).push(s);case 5:return u=e.sent,e.next=8,u.get();case 8:return c=e.sent,e.abrupt("return",c.val());case 10:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o){return e.apply(this,arguments)}}()},{key:"updateVariableName",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/variables/").concat(n,"/name")).transaction((function(e){return a}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"updateVariableValue",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/variables/").concat(n,"/value")).transaction((function(e){return a}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"removeVariable",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/variables/").concat(n)).remove();case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getVariable",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/variables/").concat(n)).get();case 2:return a=e.sent,e.abrupt("return",a.val());case 4:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"getVariables",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.db.query("users/".concat(t,"/notebooks/").concat(r,"/variables")).get();case 3:return e.sent.forEach((function(e){return n.push(e.val())})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"createNewCell",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.query("users/".concat(t,"/notebooks/").concat(r,"/cells")).filter("nextCell","==","").get();case 2:if(!((a=e.sent).length>1)){e.next=5;break}return e.abrupt("return");case 5:return o=new F(n),e.next=8,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells")).push(o);case 8:return i=e.sent,e.next=11,i.get();case 11:if(s=e.sent,u=s.val(),!(a.length<=0)){e.next=15;break}return e.abrupt("return",u);case 15:return c=a[0].key,e.next=18,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(c,"/nextCell")).transaction((function(e){return u.cellId}));case 18:return e.abrupt("return",u);case 19:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"cellsToLinkedList",value:function(e){for(var t=[],r="",n=0;n<e.length;n++){var a=e.find((function(e){return e.nextCell===r}));if(!a)return[];t.push(a),r=a.cellId}return t.reverse(),t}},{key:"insertCell",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a){var o,i,s,u,c,l,p,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.db.query("users/".concat(t,"/notebooks/").concat(r,"/cells")).get({snapshots:!0});case 4:if(o=e.sent,i=[],o.forEach((function(e){return i.push(e.val())})),!((s=this.cellsToLinkedList(i)).length<=0)){e.next=10;break}return e.abrupt("return");case 10:if(u=s.findIndex((function(e){return e.cellId===n})),c=s[u],l=s[u-1],p=s.findIndex((function(e){return e.cellId===a})),d=s[p],!l||l.cellId!==d.cellId){e.next=17;break}return e.abrupt("return");case 17:if(!l){e.next=20;break}return e.next=20,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(l.cellId,"/nextCell")).transaction((function(e){return c.nextCell}));case 20:return e.next=22,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(c.cellId,"/nextCell")).transaction((function(e){return d.nextCell}));case 22:return e.next=24,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(d.cellId,"/nextCell")).transaction((function(e){return c.cellId}));case 24:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"insertCellWithIndex",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a){var o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.query("users/".concat(t,"/notebooks/").concat(r,"/cells")).get({snapshots:!0});case 2:if(o=e.sent,i=[],o.forEach((function(e){return i.push(e.val())})),!((s=this.cellsToLinkedList(i)).length<=0)){e.next=8;break}return e.abrupt("return");case 8:if(u=s.findIndex((function(e){return e.cellId===n})),c=s[u],l=s[u-1],p=s[a],l.cellId!==p.cellId){e.next=14;break}return e.abrupt("return");case 14:return e.next=16,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(l.cellId,"/nextCell")).transaction((function(e){return c.nextCell}));case 16:return e.next=18,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(c.cellId,"/nextCell")).transaction((function(e){return p.nextCell}));case 18:return e.next=20,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(p.cellId,"/nextCell")).transaction((function(e){return c.cellId}));case 20:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"insertCellToTop",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.query("users/".concat(t,"/notebooks/").concat(r,"/cells")).get({snapshots:!0});case 2:if(a=e.sent,o=[],a.forEach((function(e){return o.push(e.val())})),!((i=this.cellsToLinkedList(o)).length<=0)){e.next=8;break}return e.abrupt("return");case 8:if(!((s=i.findIndex((function(e){return e.cellId===n})))<=0)){e.next=11;break}return e.abrupt("return");case 11:return u=i[s],c=i[s-1],l=i[0],e.next=16,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(c.cellId,"/nextCell")).transaction((function(e){return u.nextCell}));case 16:return e.next=18,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(u.cellId,"/nextCell")).transaction((function(e){return l.cellId}));case 18:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"removeCell",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n)).get();case 2:if((a=e.sent).val()){e.next=5;break}return e.abrupt("return");case 5:return o=a.val(),e.next=8,this.db.query("users/".concat(t,"/notebooks/").concat(r,"/cells")).filter("nextCell","==",o.cellId).get({snapshots:!1});case 8:if(1==(i=e.sent).length){e.next=11;break}return e.abrupt("return");case 11:return s=i[0].key,e.next=14,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(s,"/nextCell")).transaction((function(e){return o.nextCell}));case 14:return e.next=16,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n)).remove();case 16:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"updateCellType",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/type")).transaction((function(e){return a}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"getCellsByNotebook",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,this.db.query("users/".concat(t,"/notebooks/").concat(r,"/cells")).get();case 3:return e.sent.forEach((function(e){return n.push(e.val())})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"updateMarkdownCell",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a){var o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n)).get();case 2:if(o=e.sent,"markdown"!==o.val().type){e.next=7;break}return e.next=7,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/value")).transaction((function(e){return a}));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"createNewNode",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a,o,i){var s,u,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new P(a,o,i),e.next=3,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/nodes")).push(s);case 3:return u=e.sent,e.next=6,u.get();case 6:return c=e.sent,e.abrupt("return",c.val());case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o,i){return e.apply(this,arguments)}}()},{key:"addNode",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===a.nodeId){e.next=5;break}return e.next=3,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/nodes/").concat(a.nodeId)).set(a);case 3:e.next=7;break;case 5:return e.next=7,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/nodes")).push(a);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"removeNode",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.query("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/connections")).filter("fromNodeId","==",a).remove();case 2:return e.next=4,this.db.query("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/connections")).filter("toNodeId","==",a).remove();case 4:return e.next=6,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/nodes/").concat(a)).remove();case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},{key:"updateNodeName",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a,o){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/nodes/").concat(a,"/name")).transaction((function(e){return o}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o){return e.apply(this,arguments)}}()},{key:"updateNodeCoords",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a,o){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/nodes/").concat(a,"/coords")).transaction((function(e){return o}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o){return e.apply(this,arguments)}}()},{key:"setNodeInputValue",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a,o,i){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/nodes/").concat(a,"/inputValues")).transaction((function(e){var t=e.val(),r=t.findIndex((function(e){return e.id===o}));return r<0?t.push({id:o,value:i}):t[r].value=i,t}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o,i){return e.apply(this,arguments)}}()},{key:"setNodeProperty",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a,o,i){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/nodes/").concat(a,"/properties")).transaction((function(e){var t=e.val(),r=t.findIndex((function(e){return e.id===o}));return r<0?t.push({id:o,value:i}):t[r].value=i,t}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o,i){return e.apply(this,arguments)}}()},{key:"createNewNodeConnection",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a,o,i,s){var u,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=new E(a,o,i,s),e.next=3,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/connections")).push(u);case 3:return c=e.sent,e.next=6,c.get();case 6:return l=e.sent,e.abrupt("return",l.val());case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o,i,s){return e.apply(this,arguments)}}()},{key:"removeNodeConnection",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a,o,i,s){var u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.query("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/connections")).filter("fromNodeId","==",a).filter("fromSlotId","==",o).filter("toNodeId","==",i).filter("toSlotId","==",s).get({snapshots:!1});case 2:if(!((u=e.sent).length<=0)){e.next=5;break}return e.abrupt("return");case 5:u.forEach(function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.remove();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,o,i,s){return e.apply(this,arguments)}}()},{key:"removeNodeConnectionWithId",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.ref("users/".concat(t,"/notebooks/").concat(r,"/cells/").concat(n,"/connections/").concat(a)).remove();case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}()}]),e}();!function(e){e[e.Test=0]="Test",e[e.Offline=1]="Offline",e[e.Online=2]="Online"}(Q||(Q={}));var $=function(){function e(){Object(h.a)(this,e),this._db=void 0,this._isRunning=!1}return Object(x.a)(e,[{key:"start",value:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isRunning){e.next=2;break}return e.abrupt("return");case 2:if(this._db=new _(t),t!==Q.Test){e.next=6;break}return e.next=6,this._db.setupSchema();case 6:this._isRunning=!0;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isRunning",get:function(){return this._isRunning}},{key:"db",get:function(){return this._db}}]),e}(),ee=new $,te=function(){function e(){Object(h.a)(this,e)}return Object(x.a)(e,null,[{key:"setCookie",value:function(e,t){var r=new Date,n=t;r.setTime(r.getTime()+864e5),document.cookie="".concat(e,"=").concat(n,"; expires=").concat(r.toUTCString(),"; path=/")}},{key:"getCookie",value:function(e){var t,r=("; "+document.cookie).split("; "+e+"=");if(2==r.length)return null===(t=r.pop())||void 0===t?void 0:t.split(";").shift()}},{key:"deleteCookie",value:function(e){var t=new Date;t.setTime(t.getTime()+-864e5),document.cookie="".concat(e,"=; expires=").concat(t.toUTCString(),"; path=/")}}]),e}(),re={userList:[],currentUser:void 0},ne=Object(p.b)({name:"users",initialState:re,reducers:{addUser:function(e,t){e.userList.push(t.payload)},removeUser:function(e,t){var r=t.payload,n=e.userList.findIndex((function(e){return e.userId===r}));if(!(n<0)){var a=e.userList.slice();a.splice(n,1),e.userList=a,e.currentUser&&e.currentUser.userId===r&&(e.currentUser=void 0)}},setUserList:function(e,t){e.userList=t.payload},setCurrentUser:function(e,t){e.currentUser=t.payload},removeCurrentUser:function(e,t){e.currentUser=void 0},updateUserName:function(e,t){var r=t.payload;e.currentUser&&e.currentUser.userId===r.userId&&(e.currentUser.name=r.name);var n=e.userList.findIndex((function(e){return e.userId===r.userId}));n<0||(e.userList[n].name=r.name)}}}),ae=ne.actions,oe=ae.addUser,ie=ae.removeUser,se=ae.setUserList,ue=ae.setCurrentUser,ce=ae.removeCurrentUser,le=ae.updateUserName,pe=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,ee.db){t.next=3;break}throw new ReferenceError("The DBService has not been started yet.");case 3:return t.next=5,ee.db.createNewUser(e);case 5:a=t.sent,r(oe(a.toObject())),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()},de=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,ee.db){t.next=3;break}throw new ReferenceError("The DBService has not been started yet.");case 3:return t.next=5,ee.db.removeUser(e);case 5:r(ie(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()},be=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,ee.db){t.next=3;break}throw new ReferenceError("The DBService has not been started yet.");case 3:return t.next=5,ee.db.getUserDetail(e);case 5:a=t.sent,te.setCookie("user_id",a.userId),r(ue(a.toObject())),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,r){return t.apply(this,arguments)}}()},fe=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,ee.db){r.next=3;break}throw new ReferenceError("The DBService has not been started yet.");case 3:return r.next=5,ee.db.updateUserName(e,t);case 5:r.sent,n(le({userId:e,name:t})),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e,t){return r.apply(this,arguments)}}()},me=function(e){return e.user.currentUser},he=ne.reducer,xe=r(114),ve=r.n(xe),ye={notebookDetails:[],currentNotebook:void 0,selectedNode:void 0,selectedNodeTypeHelp:void 0,isDraggingSource:!1,isDraggingVariable:!1,isDraggingCell:!1},ge=Object(p.b)({name:"notebooks",initialState:ye,reducers:{openNotebook:function(e,t){e.currentNotebook=t.payload},closeNotebook:function(e,t){e.currentNotebook=void 0},setNotebookDetails:function(e,t){e.notebookDetails=t.payload},updateNotebookName:function(e,t){var r=t.payload,n=e.notebookDetails.findIndex((function(e){return e.notebookId===r.notebookId}));if(!(n<0)){var a=e.notebookDetails[n],o=Date.now();a.name=r.name,a.dateModified=o}},addNotebook:function(e,t){var r=Object(m.a)(Object(m.a)({},t.payload),{},{cells:[]});e.notebookDetails.push(r)},removeNotebook:function(e,t){var r=t.payload,n=e.notebookDetails.findIndex((function(e){return e.notebookId===r}));if(!(n<0)){var a=e.notebookDetails.slice();a.splice(n,1),e.notebookDetails=a}},addDataSource:function(e,t){var r=t.payload;e.currentNotebook&&(e.currentNotebook.sources=[].concat(Object(n.a)(e.currentNotebook.sources),[r]))},updateDataSourceName:function(e,t){var r=t.payload;if(e.currentNotebook){var n=e.currentNotebook.sources.findIndex((function(e){return e.sourceId===r.sourceId}));n<0||(e.currentNotebook.sources[n].name=r.name)}},removeDataSource:function(e,t){var r=t.payload;if(e.currentNotebook&&!(e.currentNotebook.sources.length<=0)){var n=e.currentNotebook.sources.findIndex((function(e){return e.sourceId===r}));if(!(n<0)){var a=e.currentNotebook.sources.slice();a.splice(n,1),e.currentNotebook.sources=a}}},setIsDraggingSource:function(e,t){var r=t.payload;e.currentNotebook&&(e.isDraggingSource=r)},addVariable:function(e,t){var r=t.payload;e.currentNotebook&&(e.currentNotebook.variables=[].concat(Object(n.a)(e.currentNotebook.variables),[r]))},updateVariableName:function(e,t){var r=t.payload;if(e.currentNotebook){var n=e.currentNotebook.variables.findIndex((function(e){return e.variableId===r.variableId}));n<0||(e.currentNotebook.variables[n].name=r.name)}},updateVariableValue:function(e,t){var r=t.payload;if(e.currentNotebook){var n=e.currentNotebook.variables.findIndex((function(e){return e.variableId===r.variableId}));n<0||(e.currentNotebook.variables[n].value=r.value)}},removeVariable:function(e,t){var r=t.payload;if(e.currentNotebook&&!(e.currentNotebook.variables.length<=0)){var n=e.currentNotebook.variables.findIndex((function(e){return e.variableId===r}));if(!(n<0)){var a=e.currentNotebook.variables.slice();a.splice(n,1),e.currentNotebook.variables=a}}},setIsDraggingVariable:function(e,t){var r=t.payload;e.currentNotebook&&(e.isDraggingVariable=r)},addCell:function(e,t){var r=t.payload;if(e.currentNotebook){var a=e.currentNotebook.cells.findIndex((function(e){return""===e.nextCell}));e.currentNotebook.cells.length>0&&a>=0&&(e.currentNotebook.cells[a].nextCell=r.cellId),e.currentNotebook.cells=[].concat(Object(n.a)(e.currentNotebook.cells),[r])}},updateCellType:function(e,t){var r=t.payload;if(e.currentNotebook){var n=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));n<0||(e.currentNotebook.cells[n].type=r.type)}},removeCell:function(e,t){var r=t.payload;if(e.currentNotebook&&!(e.currentNotebook.cells.length<=0)){var n=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r}));if(!(n<0)){var a=e.currentNotebook.cells.findIndex((function(e){return e.nextCell===r}));e.currentNotebook.cells.length>1&&a>=0&&(e.currentNotebook.cells[a].nextCell=e.currentNotebook.cells[n].nextCell);var o=e.currentNotebook.cells.slice();o.splice(n,1),e.currentNotebook.cells=o}}},updateCellValue:function(e,t){var r=t.payload;if(e.currentNotebook){var n=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));n<0||(e.currentNotebook.cells[n].value=r.value)}},insertCell:function(e,t){var r=t.payload;if(e.currentNotebook&&r.cellId!==r.targetCellId){var n=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));if(!(n<0)){var a=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.targetCellId}));if(!(a<0)){var o=e.currentNotebook.cells.findIndex((function(e){return e.nextCell===r.cellId})),i=e.currentNotebook.cells[n].nextCell,s=e.currentNotebook.cells.slice();s[a].nextCell!==s[n].cellId&&(s[n].nextCell=s[a].nextCell,s[a].nextCell=s[n].cellId,o>=0&&(s[o].nextCell=i),e.currentNotebook.cells=s)}}}},insertCellToTop:function(e,t){var r=t.payload;if(e.currentNotebook){var n=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r}));if(!(n<0)){var a=e.currentNotebook.cells.findIndex((function(e){return e.nextCell===r}));if(!(a<0)){for(var o=e.currentNotebook.cells.map((function(e){return e.nextCell})),i=-1,s=0;s<e.currentNotebook.cells.length;s++){var u=e.currentNotebook.cells[s];if(!o.includes(u.cellId)){i=s;break}}if(!(i<0)&&i!==n){var c=e.currentNotebook.cells.slice();c[a].nextCell=c[n].nextCell,c[n].nextCell=c[i].cellId,e.currentNotebook.cells=c}}}}},setIsDraggingCell:function(e,t){var r=t.payload;e.currentNotebook&&(e.isDraggingCell=r)},addNode:function(e,t){var r=t.payload;if(e.currentNotebook){var a=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));if(!(a<0)){var o=e.currentNotebook.cells[a].nodes;e.currentNotebook.cells[a].nodes=[].concat(Object(n.a)(o),[r.node])}}},removeNode:function(e,t){var r=t.payload;if(e.currentNotebook){var n=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));if(!(n<0)){var a=e.currentNotebook.cells[n].nodes.findIndex((function(e){return e.nodeId===r.nodeId}));if(!(a<0)){var o=e.currentNotebook.cells[n].connections.filter((function(e){return e.fromNodeId!==r.nodeId&&e.toNodeId!==r.nodeId}));e.currentNotebook.cells[n].connections=o;var i=e.currentNotebook.cells[n].nodes.slice();i.splice(a,1),e.currentNotebook.cells[n].nodes=i}}}},updateNodeName:function(e,t){var r=t.payload;if(e.currentNotebook){var n=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));if(!(n<0)){var a=e.currentNotebook.cells[n].nodes.findIndex((function(e){return e.nodeId===r.nodeId}));a<0||(e.currentNotebook.cells[n].nodes[a].name=r.name)}}},updateNodeCoords:function(e,t){var r=t.payload;if(e.currentNotebook){var n=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));if(!(n<0)){var a=e.currentNotebook.cells[n].nodes.findIndex((function(e){return e.nodeId===r.nodeId}));a<0||(e.currentNotebook.cells[n].nodes[a].coords=r.coords)}}},selectNode:function(e,t){var r=t.payload;e.currentNotebook&&(e.selectedNode={cellId:r.cellId,nodeId:r.nodeId})},clearSelectedNode:function(e,t){e.selectedNode=void 0},selectNodeType:function(e,t){var r=t.payload;e.currentNotebook&&(e.selectedNodeTypeHelp=r)},clearSelectedNodeType:function(e,t){e.selectedNodeTypeHelp=void 0},setNodeInputValue:function(e,t){var r=t.payload;if(e.currentNotebook){var a=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));if(!(a<0)){var o=e.currentNotebook.cells[a].nodes.findIndex((function(e){return e.nodeId===r.nodeId}));if(!(o<0)){var i=e.currentNotebook.cells[a].nodes[o].inputValues.findIndex((function(e){return e.id===r.slotId}));if(i<0){var s=e.currentNotebook.cells[a].nodes[o].inputValues;e.currentNotebook.cells[a].nodes[o].inputValues=[].concat(Object(n.a)(s),[{id:r.slotId,value:r.value}])}else e.currentNotebook.cells[a].nodes[o].inputValues[i].value=r.value}}}},setNodeProperty:function(e,t){var r=t.payload;if(e.currentNotebook){var a=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));if(!(a<0)){var o=e.currentNotebook.cells[a].nodes.findIndex((function(e){return e.nodeId===r.nodeId}));if(!(o<0)){var i=e.currentNotebook.cells[a].nodes[o].properties.findIndex((function(e){return e.id===r.propertyId}));if(i<0){var s=e.currentNotebook.cells[a].nodes[o].properties;e.currentNotebook.cells[a].nodes[o].properties=[].concat(Object(n.a)(s),[{id:r.propertyId,value:r.value}])}else e.currentNotebook.cells[a].nodes[o].properties[i].value=r.value}}}},addConnection:function(e,t){var r=t.payload;if(e.currentNotebook){var a=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));if(!(a<0)){var o=e.currentNotebook.cells[a].connections;e.currentNotebook.cells[a].connections=[].concat(Object(n.a)(o),[r.connection])}}},removeConnection:function(e,t){var r=t.payload;if(e.currentNotebook){var n=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));if(!(n<0)){var a=e.currentNotebook.cells[n].connections.filter((function(e){return e.fromNodeId===r.fromNodeId&&e.fromSlotId===r.fromSlotId&&e.toNodeId===r.toNodeId&&e.toSlotId===r.toSlotId}));if(!(a.length<=0)){var o=e.currentNotebook.cells[n].connections.slice();a.forEach((function(e){var t=o.findIndex((function(t){return t.connectionId===e.connectionId}));t<0||o.splice(t,1)})),e.currentNotebook.cells[n].connections=o}}}},removeConnectionWithId:function(e,t){var r=t.payload;if(e.currentNotebook){var n=e.currentNotebook.cells.findIndex((function(e){return e.cellId===r.cellId}));if(!(n<0)){var a=e.currentNotebook.cells[n].connections.findIndex((function(e){return e.connectionId===r.connectionId}));if(!(a<0)){var o=e.currentNotebook.cells[n].connections.slice();o.splice(a,1),e.currentNotebook.cells[n].connections=o}}}}}}),je=ge.actions,ke=je.openNotebook,we=je.closeNotebook,Oe=je.setNotebookDetails,Ne=je.updateNotebookName,Ce=je.addNotebook,Se=je.removeNotebook,De=ge.actions,Ie=De.addDataSource,Me=De.updateDataSourceName,Re=De.removeDataSource,Fe=De.setIsDraggingSource,Ee=ge.actions,Pe=Ee.addVariable,Te=Ee.updateVariableName,Ve=Ee.updateVariableValue,Ae=Ee.removeVariable,Le=Ee.setIsDraggingVariable,Be=ge.actions,Ge=Be.addCell,ze=Be.updateCellType,He=Be.removeCell,Ue=Be.updateCellValue,qe=Be.insertCell,We=Be.insertCellToTop,Ke=Be.setIsDraggingCell,Ye=ge.actions,Je=Ye.addNode,Xe=Ye.removeNode,Ze=Ye.updateNodeName,Qe=Ye.updateNodeCoords,_e=Ye.selectNode,$e=Ye.clearSelectedNode,et=Ye.selectNodeType,tt=Ye.clearSelectedNodeType,rt=Ye.setNodeInputValue,nt=Ye.setNodeProperty,at=ge.actions,ot=at.addConnection,it=(at.removeConnection,at.removeConnectionWithId),st=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){var a,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(!Bt(n(),e)){t.next=6;break}return t.abrupt("return");case 6:if(ee.db){t.next=8;break}throw new ReferenceError("The DBService has not been started yet.");case 8:return t.next=10,ee.db.getNotebook(a.userId,e);case 10:o=t.sent,r(ke(o.toObject())),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}()},ut=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(ee.db){r.next=6;break}throw new ReferenceError("The DBService has not been started yet.");case 6:return r.next=8,ee.db.updateNotebookName(o.userId,e,t);case 8:n(Ne({notebookId:e,name:t})),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},ct=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){var a,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(ee.db){t.next=6;break}throw new ReferenceError("The DBService has not been started yet.");case 6:return t.next=8,ee.db.createNewNotebook(a.userId,e);case 8:o=t.sent,r(Ce(o.toObject())),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},lt=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(Gt(n(),e)){t.next=6;break}return t.abrupt("return");case 6:if(ee.db){t.next=8;break}throw new ReferenceError("The DBService has not been started yet.");case 8:return t.next=10,ee.db.removeNotebook(a.userId,e);case 10:r(Se(e)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()},pt=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o,i,s,u;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(i=Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return r.next=11,ee.db.createNewDataSource(o.userId,i.notebookId,e,t);case 11:if(s=r.sent){r.next=14;break}throw new ReferenceError("An error has occured when creating a data source.");case 14:return u=s.toObject(),n(Ie(u)),r.abrupt("return",u);case 19:r.prev=19,r.t0=r.catch(0),console.log(r.t0);case 22:case"end":return r.stop()}}),r,null,[[0,19]])})));return function(e,t){return r.apply(this,arguments)}}()},dt=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o,i;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(i=Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return r.next=11,ee.db.updateDataSourceName(o.userId,i.notebookId,e,t);case 11:n(Me({sourceId:e,name:t})),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e,t){return r.apply(this,arguments)}}()},bt=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){var a,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(o=Lt(n())){t.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){t.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return t.next=11,ee.db.removeData(e);case 11:return t.next=13,ee.db.removeDataSource(a.userId,o.notebookId,e);case 13:r(Re(e)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e,r){return t.apply(this,arguments)}}()},ft=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(Lt(n())){t.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){t.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:r(Fe(e)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},mt=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o,i,s,u;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(i=Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return r.next=11,ee.db.createNewVariable(o.userId,i.notebookId,e,t);case 11:if(s=r.sent){r.next=14;break}throw new ReferenceError("An error has occured when creating a variable.");case 14:return u=s.toObject(),n(Pe(u)),r.abrupt("return",u);case 19:r.prev=19,r.t0=r.catch(0),console.log(r.t0);case 22:case"end":return r.stop()}}),r,null,[[0,19]])})));return function(e,t){return r.apply(this,arguments)}}()},ht=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o,i;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(i=Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return r.next=11,ee.db.updateVariableName(o.userId,i.notebookId,e,t);case 11:n(Te({variableId:e,name:t})),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e,t){return r.apply(this,arguments)}}()},xt=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o,i;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(i=Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return r.next=11,ee.db.updateVariableValue(o.userId,i.notebookId,e,t);case 11:n(Ve({variableId:e,value:t})),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e,t){return r.apply(this,arguments)}}()},vt=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){var a,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(o=Lt(n())){t.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){t.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return t.next=11,ee.db.removeVariable(a.userId,o.notebookId,e);case 11:r(Ae(e)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}()},yt=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(Lt(n())){t.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){t.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:r(Le(e)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},gt=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){var a,o,i,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(o=Lt(n())){t.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){t.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return t.next=11,ee.db.createNewCell(a.userId,o.notebookId,e);case 11:if(i=t.sent){t.next=14;break}throw new ReferenceError("An error has occured when creating a cell.");case 14:return s=i.toObject(),r(Ge(s)),t.abrupt("return",s);case 19:t.prev=19,t.t0=t.catch(0),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e,r){return t.apply(this,arguments)}}()},jt=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o,i;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(i=Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return r.next=11,ee.db.updateCellType(o.userId,i.notebookId,e,t);case 11:n(ze({cellId:e,type:t})),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e,t){return r.apply(this,arguments)}}()},kt=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){var a,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(o=Lt(n())){t.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){t.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return t.next=11,ee.db.removeCell(a.userId,o.notebookId,e);case 11:r(He(e)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}()},wt=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o,i;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(i=Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return r.next=11,ee.db.updateMarkdownCell(o.userId,i.notebookId,e,t);case 11:n(Ue({cellId:e,value:t})),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e,t){return r.apply(this,arguments)}}()},Ot=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o,i;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(i=Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return r.next=11,ee.db.insertCell(o.userId,i.notebookId,e,t);case 11:n(qe({cellId:e,targetCellId:t})),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e,t){return r.apply(this,arguments)}}()},Nt=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){var a,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a=me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(o=Lt(n())){t.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){t.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return t.next=11,ee.db.insertCellToTop(a.userId,o.notebookId,e);case 11:r(We(e)),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,r){return t.apply(this,arguments)}}()},Ct=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(Lt(n())){t.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){t.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:r(Ke(e)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},St=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0};return function(){var a=Object(f.a)(b.a.mark((function a(o,i){var s,u,c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,s=me(i())){a.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(u=Lt(i())){a.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){a.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return a.next=11,ee.db.createNewNode(s.userId,u.notebookId,e,t,r,n);case 11:c=a.sent,o(Je({cellId:e,node:c.toObject()})),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),console.log(a.t0);case 18:case"end":return a.stop()}}),a,null,[[0,15]])})));return function(e,t){return a.apply(this,arguments)}}()},Dt=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o,i;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(i=Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return""===t.nodeId&&(t.nodeId=ve()()),r.next=12,ee.db.addNode(o.userId,i.notebookId,e,P.fromObject(t));case 12:n(Je({cellId:e,node:t})),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),console.log(r.t0);case 18:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e,t){return r.apply(this,arguments)}}()},It=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o,i;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(i=Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return r.next=11,ee.db.removeNode(o.userId,i.notebookId,e,t);case 11:n(Xe({cellId:e,nodeId:t})),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e,t){return r.apply(this,arguments)}}()},Mt=function(e,t,r){return function(){var n=Object(f.a)(b.a.mark((function n(a,o){var i,s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,i=me(o())){n.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(s=Lt(o())){n.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){n.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return n.next=11,ee.db.updateNodeName(i.userId,s.notebookId,e,t,r);case 11:a(Ze({cellId:e,nodeId:t,name:r})),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e,t){return n.apply(this,arguments)}}()},Rt=function(e,t,r){return function(){var n=Object(f.a)(b.a.mark((function n(a,o){var i,s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,i=me(o())){n.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(s=Lt(o())){n.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){n.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return n.next=11,ee.db.updateNodeCoords(i.userId,s.notebookId,e,t,r);case 11:a(Qe({cellId:e,nodeId:t,coords:r})),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e,t){return n.apply(this,arguments)}}()},Ft=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:n(_e({cellId:e,nodeId:t})),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e,t){return r.apply(this,arguments)}}()},Et=function(){return function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,me(r())){e.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(Lt(r())){e.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){e.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:t($e()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()},Pt=function(e){return function(){var t=Object(f.a)(b.a.mark((function t(r,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,me(n())){t.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(Lt(n())){t.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){t.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:r(et(e)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,r){return t.apply(this,arguments)}}()},Tt=function(){return function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,me(r())){e.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(Lt(r())){e.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){e.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:t(tt()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}()},Vt=function(e,t,r,n,a){return function(){var o=Object(f.a)(b.a.mark((function o(i,s){var u,c,l;return b.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,u=me(s())){o.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(c=Lt(s())){o.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){o.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return o.next=11,ee.db.createNewNodeConnection(u.userId,c.notebookId,e,t,r,n,a);case 11:l=o.sent,i(ot({cellId:e,connection:l.toObject()})),o.next=18;break;case 15:o.prev=15,o.t0=o.catch(0),console.log(o.t0);case 18:case"end":return o.stop()}}),o,null,[[0,15]])})));return function(e,t){return o.apply(this,arguments)}}()},At=function(e,t){return function(){var r=Object(f.a)(b.a.mark((function r(n,a){var o,i;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,o=me(a())){r.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(i=Lt(a())){r.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){r.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return r.next=11,ee.db.removeNodeConnectionWithId(o.userId,i.notebookId,e,t);case 11:n(it({cellId:e,connectionId:t})),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e,t){return r.apply(this,arguments)}}()},Lt=function(e){return e.notebook.currentNotebook},Bt=function(e,t){var r=Lt(e);return(null===r||void 0===r?void 0:r.notebookId)===t},Gt=function(e,t){var r=function(e){return e.notebook.notebookDetails}(e);return r.findIndex((function(e){return e.notebookId===t}))>-1},zt=function(e,t){var r=Lt(e);if(!r)return[];var n=r.cells.findIndex((function(e){return e.cellId===t}));return n<0?[]:r.cells[n].nodes},Ht=function(e,t,r){var n=Lt(e);if(n){var a=n.cells.findIndex((function(e){return e.cellId===t}));if(!(a<0)){var o=n.cells[a].nodes.findIndex((function(e){return e.nodeId===r}));if(!(o<0))return n.cells[a].nodes[o]}}},Ut=function(e){return e.notebook.selectedNode},qt=function(e,t,r){var n=[],a=[],o=Lt(e);if(!o)return{fromConnections:[],toConnections:[]};var i=o.cells.findIndex((function(e){return e.cellId===t}));return i<0?{fromConnections:[],toConnections:[]}:(o.cells[i].connections.forEach((function(e){e.fromNodeId===r?n.push(e):e.toNodeId===r&&a.push(e)})),{fromConnections:n,toConnections:a})},Wt=ge.reducer,Kt=Object(p.a)({reducer:{notebook:Wt,user:he}}),Yt=r(227),Jt=r(687),Xt=r(688),Zt=r(83),Qt=r(27),_t=r(126),$t=r(78),er=r(113),tr=r.n(er),rr=new(function(){function e(){Object(h.a)(this,e),this.refs={},this.delayFocusKey="",this.currentNotebookId="",Kt.subscribe(this.onStoreUpdate)}return Object(x.a)(e,[{key:"onStoreUpdate",value:function(){var e=Kt.getState().notebook.currentNotebook;e&&this&&this.currentNotebookId!==e.notebookId&&this.reset()}},{key:"addRef",value:function(e,t){this.refs[e]=t,e===this.delayFocusKey&&this.focus(e)}},{key:"focus",value:function(e){var t;this.refs[e]&&(null===(t=this.refs[e].view)||void 0===t||t.focus())}},{key:"delayedFocus",value:function(e){this.delayFocusKey=e}},{key:"reset",value:function(){this.refs={},this.delayFocusKey=""}}]),e}()),nr=r(11),ar=function(){function e(){Object(h.a)(this,e)}return Object(x.a)(e,null,[{key:"isEmpty",value:function(t){var r=!0;for(var n in t){r=!1;break}return!e.isPrimitive(t)&&r}},{key:"isPrimitive",value:function(e){return e!==Object(e)}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}}]),e}(),or={id:ve()(),name:ve()(),description:"",inputSlots:[],outputSlots:[],properties:[],isDeletable:!0,isHiddenFromList:!1,style:{width:200,height:-1},nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function ir(e,t){for(var r=Object(m.a)({},t),n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];if(null!=r[o]&&null!=e[o])if(ar.isPrimitive(e[o])||ar.isFunction(e[o]))r[o]=e[o];else{if(Array.isArray(e[o])){r[o]=e[o];continue}var i=ir(e[o],r[o]);if(void 0==i)continue;r[o]=i}}return r}var sr={string:"",number:0,boolean:!1,"string[]":[],"number[]":[],"boolean[]":[]},ur=function(){function e(){Object(h.a)(this,e),this.collections={},this.types={}}return Object(x.a)(e,[{key:"addNodeCollection",value:function(e){var t=this;e.nodeGroups.forEach((function(r){r.types.forEach((function(n){return t.addNodeType(""===r.name?e.id:"".concat(e.id,":").concat(r.name),n,e.defaultValues)}))})),this.collections[e.id]=e}},{key:"addNodeCollections",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach((function(t){e.addNodeCollection(t)}))}},{key:"addNodeType",value:function(e,t,r){var n=ir(t,or);if(n){n.id="".concat(e,":").concat(n.id);for(var a=0;a<n.inputSlots.length;a++)if(null==n.inputSlots[a].defaultValue){var o=n.inputSlots[a].type,i=null!=r?r[o]:void 0,s=sr[o];null==i&&null==s||(n.inputSlots[a].defaultValue=null!==i&&void 0!==i?i:s)}for(var u=0;u<n.properties.length;u++)if(null==n.properties[u].defaultValue){var c=n.properties[u].type,l=null!=r?r[c]:void 0,p=sr[c];null==l&&null==p||(n.properties[u].defaultValue=null!==l&&void 0!==l?l:p)}this.types[n.id]=n}}},{key:"getType",value:function(e){if(""!==e){var t=this.types[e];if(t)return t}}},{key:"getVisibleTypeIds",value:function(){return Object.values(this.types).filter((function(e){return!e.isHiddenFromList})).map((function(e){return e.id}))}}]),e}(),cr=new ur,lr=function(){function e(){Object(h.a)(this,e),this.outputs={},this.variables={},this.errors={},this.cellExecs={},this.currentNotebookId="",this.onStoreUpdate=this.onStoreUpdate.bind(this),Kt.subscribe(this.onStoreUpdate)}return Object(x.a)(e,[{key:"onStoreUpdate",value:function(){var e=Kt.getState().notebook.currentNotebook;e&&this.currentNotebookId!==e.notebookId&&(this.reset(),this.currentNotebookId=e.notebookId)}},{key:"reset",value:function(){this.outputs={},this.variables={},this.errors={}}},{key:"resetCellOutputs",value:function(e){this.outputs[e]={},this.errors[e]=[]}},{key:"getVariable",value:function(e){var t=this.variables[e];if(null==t){var r=Lt(Kt.getState());if(!r)return t;var n=r.variables.findIndex((function(t){return t.variableId===e}));if(n<0)return t;t=r.variables[n].value}return t}},{key:"setVariable",value:function(e,t){this.variables[e]=t}},{key:"getErrors",value:function(e){return this.errors[e]||(this.errors[e]=[]),this.errors[e]}},{key:"addCellExec",value:function(e,t){this.cellExecs[e]=t}},{key:"runCells",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r,n,a,o,i=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],(n=Lt(Kt.getState()))&&(null===n||void 0===n?void 0:n.notebookId)===t){e.next=4;break}return e.abrupt("return");case 4:n.cells.forEach((function(e){i.cellExecs[e.cellId]&&r.push(i.cellExecs[e.cellId])})),this.variables={},a=0;case 7:if(!(a<r.length)){e.next=14;break}return o=r[a],e.next=11,o();case 11:a++,e.next=7;break;case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"runFunction",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.runFunc(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"runFunctions",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a,o,i,s,u,c,l=this,p=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.length>2&&void 0!==p[2]&&p[2],a=[],!n){e.next=24;break}o=Object(nr.a)(r),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=14;break}return s=i.value,e.next=10,this.runFunc(t,s);case 10:u=e.sent,a.push(u);case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),o.e(e.t0);case 19:return e.prev=19,o.f(),e.finish(19);case 22:e.next=28;break;case 24:return c=r.map((function(e){return l.runFunc(t,e)})),e.next=27,Promise.all(c);case 27:a=e.sent;case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"runFunc",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a,o,i,s,u,c,l,p,d,m,h,x,v,y,g,j=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(n=this.outputs[t][r])){e.next=3;break}return e.abrupt("return",n);case 3:if(a=Ht(Kt.getState(),t,r)){e.next=6;break}return e.abrupt("return",{});case 6:if(o=cr.getType(a.type)){e.next=9;break}return e.abrupt("return",{});case 9:return i=qt(Kt.getState(),t,r),s=function(e){return i.toConnections.findIndex((function(t){return t.toNodeId===r&&t.toSlotId===e}))},u=function(){var e=Object(f.a)(b.a.mark((function e(r){var n,o,u,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=s(r.id))<0)){e.next=7;break}if(u=a.inputValues.findIndex((function(e){return e.id===r.id})),null!=(o=u>=0?a.inputValues[u].value:r.defaultValue)){e.next=6;break}return e.abrupt("return",{slotId:r.id,result:{}});case 6:return e.abrupt("return",{slotId:r.id,result:o});case 7:return c=i.toConnections[n],e.next=10,j.runFunc(t,c.fromNodeId);case 10:return l=e.sent,e.abrupt("return",{slotId:r.id,result:l[c.fromSlotId]});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=o.inputSlots.map(u),e.next=15,Promise.all(c);case 15:l=e.sent,p={},d=0;case 18:if(!(d<l.length)){e.next=28;break}if(m=l[d]){e.next=22;break}return e.abrupt("return",{});case 22:if(m.result||!(s(m.slotId)>=0)){e.next=24;break}return e.abrupt("return",{});case 24:p[m.slotId]=m.result;case 25:d++,e.next=18;break;case 28:return h=[],o&&o.properties.forEach((function(e){var t=e;if(a){var r=a.properties.findIndex((function(t){return t.id===e.id}));if(r>=0){var n=a.properties[r];t={id:e.id,type:e.type,defaultValue:n.value}}}null!=t.defaultValue&&h.push(t)})),x={},h.forEach((function(e){null!=e.defaultValue&&(x[e.id]=e.defaultValue)})),v=function(e){return function(r){j.errors[t].push({type:e,message:"'".concat(a.name,"' Node: ").concat(r)})}},y={debug:v("debug"),log:v("info"),warning:v("warning"),error:v("error")},e.prev=34,e.next=37,o.nodeFunction(p,x==={}?void 0:x,y);case 37:return g=e.sent,this.outputs[t][r]=g,e.abrupt("return",g);case 42:return e.prev=42,e.t0=e.catch(34),console.error(e.t0),e.abrupt("return",{});case 46:case"end":return e.stop()}}),e,this,[[34,42]])})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),pr=new lr,dr=r(697),br=r(277),fr=r(693),mr=r(105),hr=r(692),xr=function(){function e(){Object(h.a)(this,e)}return Object(x.a)(e,null,[{key:"hexToRGB",value:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,r,n){return t+t+r+r+n+n}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:void 0}},{key:"hexToRGBA",value:function(t,r){var n=e.hexToRGB(t);return n?Object(m.a)(Object(m.a)({},n),{},{a:r}):void 0}},{key:"rgbToStr",value:function(e){return e?"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"):"rgb(0, 0, 0)"}},{key:"rgbaToStr",value:function(e){return e?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a,")"):"rgba(0, 0, 0, 1)"}}]),e}();xr.Gray={100:"#f7fafc",200:"#edf2f7",300:"#e2e8f0",400:"#cbd5e0",500:"#a0aec0",600:"#718096",700:"#4a5568",800:"#2d3748",900:"#1a202c"},xr.Red={100:"#fff5f5",200:"#fed7d7",300:"#feb2b2",400:"#fc8181",500:"#f56565",600:"#e53e3e",700:"#c53030",800:"#9b2c2c",900:"#742a2a"},xr.Orange={100:"#fffaf0",200:"#feebc8",300:"#fbd38d",400:"#f6ad55",500:"#ed8936",600:"#dd6b20",700:"#c05621",800:"#9c4221",900:"#7b341e"},xr.Yellow={100:"#fffff0",200:"#fefcbf",300:"#faf089",400:"#f6e05e",500:"#ecc94b",600:"#d69e2e",700:"#b7791f",800:"#975a16",900:"#744210"},xr.Green={100:"#f0fff4",200:"#c6f6d5",300:"#9ae6b4",400:"#68d391",500:"#48bb78",600:"#38a169",700:"#2f855a",800:"#276749",900:"#22543d"},xr.Teal={100:"#e6fffa",200:"#b2f5ea",300:"#81e6d9",400:"#4fd1c5",500:"#38b2ac",600:"#319795",700:"#2c7a7b",800:"#285e61",900:"#234e52"},xr.Blue={100:"#ebf8ff",200:"#bee3f8",300:"#90cdf4",400:"#63b3ed",500:"#4299e1",600:"#3182ce",700:"#2b6cb0",800:"#2c5282",900:"#2a4365"},xr.Indigo={100:"#ebf4ff",200:"#c3dafe",300:"#a3bffa",400:"#7f9cf5",500:"#667eea",600:"#5a67d8",700:"#4c51bf",800:"#434190",900:"#3c366b"},xr.Purple={100:"#faf5ff",200:"#e9d8fd",300:"#d6bcfa",400:"#b794f4",500:"#9f7aea",600:"#805ad5",700:"#6b46c1",800:"#553c9a",900:"#44337a"},xr.Pink={100:"#fff5f7",200:"#fed7e2",300:"#fbb6ce",400:"#f687b3",500:"#ed64a6",600:"#d53f8c",700:"#b83280",800:"#97266d",900:"#702459"};var vr=r(3);function yr(e){var t=ve()();return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("button",{"data-tip":!0,"data-for":t,className:Object(mr.a)("transition duration-200 ease-in-out p-2 flex items-center select-none ".concat(e.isDisabled?"bg-blue-800 text-blue-600 cursor-default":"bg-blue-500 text-blue-100 hover:bg-blue-400 hover:text-blue-100"),e.className),disabled:e.isDisabled,onClick:e.onClick,children:[e.icon&&Object(vr.jsx)($t.a,{icon:e.icon}),e.text&&Object(vr.jsx)("span",{className:"".concat(e.icon?"ml-2":""),children:e.text})]}),e.tooltip&&!e.isDisabled&&Object(vr.jsx)(br.a,{id:t,place:"bottom",effect:"float",children:e.tooltip})]})}function gr(e){var t=ve()();return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("button",{"data-tip":!0,"data-for":t,className:Object(mr.a)("transition duration-200 ease-in-out p-2 flex items-center select-none ".concat(e.isDisabled?"bg-gray-800 text-gray-600 cursor-default":"bg-gray-700 text-gray-200 hover:bg-gray-600 hover:text-gray-100"),e.className),disabled:e.isDisabled,onClick:e.onClick,children:[e.icon&&Object(vr.jsx)($t.a,{icon:e.icon}),e.text&&Object(vr.jsx)("span",{className:"".concat(e.icon?"ml-2":""),children:e.text})]}),e.tooltip&&!e.isDisabled&&Object(vr.jsx)(br.a,{id:t,place:"bottom",effect:"float",children:e.tooltip})]})}function jr(e){var t=ve()();return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("button",{"data-tip":!0,"data-for":t,className:Object(mr.a)("transition duration-200 ease-in-out p-2 flex items-center select-none ".concat(e.isDisabled?"bg-red-800 text-red-600 cursor-default":"bg-red-500 text-red-100 hover:bg-red-400 hover:text-red-100"),e.className),disabled:e.isDisabled,onClick:e.onClick,children:[e.icon&&Object(vr.jsx)($t.a,{icon:e.icon}),e.text&&Object(vr.jsx)("span",{className:"".concat(e.icon?"ml-2":""),children:e.text})]}),e.tooltip&&!e.isDisabled&&Object(vr.jsx)(br.a,{id:t,place:"bottom",effect:"float",children:e.tooltip})]})}function kr(e){var t=ve()();return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("button",{"data-tip":!0,"data-for":t,className:Object(mr.a)("transition duration-200 ease-in-out p-2 flex items-center select-none ".concat(e.isDisabled?"bg-green-800 text-green-600 cursor-default":"bg-green-500 text-green-100 hover:bg-green-400 hover:text-green-100"),e.className),disabled:e.isDisabled,onClick:e.onClick,children:[e.icon&&Object(vr.jsx)($t.a,{icon:e.icon}),e.text&&Object(vr.jsx)("span",{className:"".concat(e.icon?"ml-2":""),children:e.text})]}),e.tooltip&&!e.isDisabled&&Object(vr.jsx)(br.a,{id:t,place:"bottom",effect:"float",children:e.tooltip})]})}function wr(e){var t=Object(a.useRef)(null),r=ve()();return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("button",{"data-tip":!0,"data-for":r,className:Object(mr.a)("transition duration-200 ease-in-out p-2 flex items-center bg-orange-500 text-orange-100 hover:bg-orange-400 hover:text-orange-100 select-none",e.className),disabled:e.isDisabled,onClick:function(){t.current&&t.current.click()},children:[e.icon&&Object(vr.jsx)($t.a,{icon:e.icon}),e.text&&Object(vr.jsx)("span",{className:"".concat(e.icon?"ml-2":""),children:e.text})]}),!e.isDisabled&&Object(vr.jsx)("input",{ref:t,type:"file",accept:e.accept,style:{display:"none"},onChange:function(){var t=Object(f.a)(b.a.mark((function t(r){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.target.files||!e.onChange){t.next=4;break}return n=r.target.files[0],t.next=4,e.onChange(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),e.tooltip&&!e.isDisabled&&Object(vr.jsx)(br.a,{id:r,place:"bottom",effect:"float",children:e.tooltip})]})}function Or(e){var t={boxShadow:"inset 0 -1px 1px 0 rgb(0 0 0 / 15%)"};if(null!=e.value&&e.regex){var r=e.value.match(e.regex),n=null!=r&&r.length>0;t=Object(m.a)(Object(m.a)({},t),{},{border:"2px solid ".concat(n?xr.Green[500]:xr.Red[500])})}return Object(vr.jsxs)("div",{className:"flex flex-col",children:[e.label&&Object(vr.jsx)("label",{className:"text-xs text-gray-600 mb-2",children:e.label}),!e.readonly&&Object(vr.jsx)(dr.a,{minRows:2,value:e.value,onChange:e.onChange,onKeyDown:e.onKeyDown,className:Object(mr.a)("w-full p-2 text-sm bg-gray-200 shadow-inner",e.className)})||e.readonly&&Object(vr.jsx)("div",{className:Object(mr.a)("p-2 text-sm bg-gray-500 text-gray-900 overflow-hidden w-full",e.className),style:{wordWrap:"break-word"},children:e.value})]})}function Nr(e){return Object(vr.jsx)(fr.a,Object(m.a)(Object(m.a)({className:"fixed flex justify-center items-center w-full h-full",style:{top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"},renderBackdrop:function(e){return Object(vr.jsx)("div",Object(m.a)({className:"fixed top-0 right-0 bottom-0 left-0 bg-gray-900 opacity-50"},e))}},e),{},{children:e.children}))}function Cr(e){var t={boxShadow:"inset 0 -1px 1px 0 rgb(0 0 0 / 15%)"};if(null!=e.value&&e.regex){var r=e.value.match(e.regex),n=null!=r&&r.length>0;t=Object(m.a)(Object(m.a)({},t),{},{border:"2px solid ".concat(n?xr.Green[500]:xr.Red[500])})}return Object(vr.jsxs)("div",{className:"flex flex-col overflow-hidden",children:[e.label&&Object(vr.jsx)("label",{className:"text-xs text-gray-600",children:e.label}),Object(vr.jsxs)("div",{className:"flex flex-row items-center",style:{boxShadow:"inset 0 -1px 1px 0 rgb(0 0 0 / 15%)"},children:[e.icon&&Object(vr.jsx)("div",{className:"px-2",children:Object(vr.jsx)($t.a,{icon:e.icon,className:"text-sm text-gray-600"})}),!e.readonly&&Object(vr.jsx)("input",{className:Object(mr.a)("p-2 text-sm bg-gray-100 text-gray-800 w-full",e.className),style:t,type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.onChange})||e.readonly&&Object(vr.jsx)("div",{className:Object(mr.a)("p-2 text-sm bg-gray-500 text-gray-900 overflow-hidden w-full",e.className),style:{textOverflow:"ellipsis"},children:e.value})]})]})}function Sr(e){var t,r=null!==(t=e.checkType)&&void 0!==t?t:"check";return Object(vr.jsxs)("div",{className:"flex flex-row items-center",children:[e.label&&Object(vr.jsx)("label",{className:"text-xs text-gray-600 mr-4",children:e.label}),Object(vr.jsx)("div",{className:Object(mr.a)("flex items-center justify-center w-4 h-4 shadow-inner bg-gray-100 cursor-pointer",e.className),onClick:Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.onToggle){t.next=3;break}return t.next=3,e.onToggle();case 3:case"end":return t.stop()}}),t)}))),children:e.value&&Object(vr.jsx)($t.a,{className:"text-xs",icon:r})})]})}function Dr(e){var t={control:function(e){return Object(m.a)(Object(m.a)({},e),{},{borderRadius:0,borderWidth:0,backgroundColor:"#f7fafc",borderBottomWidth:1,fontSize:"0.875rem"})},menu:function(e){return Object(m.a)(Object(m.a)({},e),{},{borderRadius:0})},option:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{backgroundColor:t.isSelected?"#4299e1":t.isFocused?"#bee3f8":"#f7fafc"})}};return Object(vr.jsxs)("div",{className:"flex flex-col",children:[e.label&&Object(vr.jsx)("label",{className:"text-xs text-gray-600",children:e.label}),Object(vr.jsx)(hr.a,{styles:t,options:e.options,isSearchable:!1,onChange:e.onChange})]})}function Ir(e){return Object(vr.jsxs)("div",{className:Object(mr.a)("transition duration-200 ease-in-out px-2 py-1 text-sm bg-gray-100 text-gray-700 hover:bg-gray-800 hover:text-gray-200 cursor-pointer select-none",e.className),children:[e.icon&&Object(vr.jsx)($t.a,{icon:e.icon}),e.text&&Object(vr.jsx)("span",{className:"".concat(e.icon?"ml-2":""),children:e.text})]})}var Mr=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isHovering:!1},n.onDrop=n.onDrop.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"onDrop",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.cellId,t.preventDefault(),this.setState({isHovering:!1}),n=JSON.parse(t.dataTransfer.getData("text/plain")),a=n.cellId,e.next=7,Kt.dispatch(""===r?Nt(a):Ot(a,r));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.isHovering;return Object(vr.jsx)("div",{className:"absolute w-full h-4 z-50 ".concat(t?"bg-yellow-500 opacity-50":""),style:{bottom:"-0.5rem"},onDragEnter:function(t){t.preventDefault(),e.setState({isHovering:!0})},onDragOver:function(e){e.preventDefault()},onDragLeave:function(t){t.preventDefault(),e.setState({isHovering:!1})},onDrop:this.onDrop})}}]),r}(o.a.Component),Rr=r(690),Fr=r(696),Er=r(691),Pr=r(695),Tr=r(699),Vr=r(266),Ar=r(385),Lr=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n,a;return Object(h.a)(this,r),(a=t.call(this,e)).ref=void 0,a.ref=o.a.createRef(),a.state={input:"",savedInput:null!==(n=e.cell.value)&&void 0!==n?n:"",isEditing:void 0===e.cell.value||""===e.cell.value},a.onChange=a.onChange.bind(Object(Qt.a)(a)),a.onSubmit=a.onSubmit.bind(Object(Qt.a)(a)),a.onSaveCell=a.onSaveCell.bind(Object(Qt.a)(a)),a.onEdit=a.onEdit.bind(Object(Qt.a)(a)),a}return Object(x.a)(r,[{key:"componentDidMount",value:function(){}},{key:"onChange",value:function(e){this.setState({input:e.target.value})}},{key:"onSubmit",value:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key||!t.shiftKey){e.next=4;break}return t.preventDefault(),e.next=4,this.onSaveCell(!0);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSaveCell",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r,n,a,o=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],r=this.props.cell,n=this.state.input,e.next=5,Kt.dispatch(wt(r.cellId,n));case 5:if(!t){e.next=14;break}if(""!==r.nextCell){e.next=13;break}return e.next=9,Kt.dispatch(gt("markdown"));case 9:(a=e.sent)&&rr.delayedFocus(a.cellId),e.next=14;break;case 13:rr.focus(r.nextCell);case 14:this.setState({savedInput:n,isEditing:!1});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEdit",value:function(e){e.preventDefault(),this.setState({isEditing:!0})}},{key:"render",value:function(){var e=this,t=this.props.cell,r=this.state,n=r.savedInput,a=r.isEditing;return Object(vr.jsx)("div",{className:"relative flex w-full",style:{minHeight:"4rem"},children:a&&Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsx)(Tr.a,{ref:function(e){e&&rr.addRef(t.cellId,e)},value:n,extensions:[Vr.a,Ar.a,Object(Pr.a)()],className:"w-full overflow-auto shadow-inner",height:"100%",minHeight:"4rem",onClick:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(Et());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),onUpdate:function(t){t.docChanged&&e.setState({input:t.state.doc.toString()})},onKeyDown:this.onSubmit}),Object(vr.jsx)("div",{className:"absolute flex flex-row-reverse",style:{top:"0.5rem",right:"0.5rem"},children:Object(vr.jsx)(kr,{icon:"save",text:"Save",className:"absolute text-xs px-2 py-1",onClick:Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onSaveCell();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))})})]})||!a&&Object(vr.jsx)("div",{className:"p-2 w-full markdown-body",style:{backgroundColor:"#ffffff"},onDoubleClick:this.onEdit,children:Object(vr.jsx)(Rr.a,{remarkPlugins:[Er.a],rehypePlugins:[Fr.a],children:n})})})}}]),r}(o.a.Component),Br=r(53),Gr=r(446),zr=r(698),Hr=function(){function e(){Object(h.a)(this,e)}return Object(x.a)(e,null,[{key:"setCursor",value:function(e,t){var r=e.target.getStage();r?r.container().style.cursor=t:console.error("The Konva stage could not be found.")}}]),e}();function Ur(e){var t=e.x,r=void 0===t?0:t,n=e.y,a=void 0===n?0:n,o=e.width,i=void 0===o?10:o,s=e.height,u=void 0===s?10:s,c=e.cornerRadius,l=void 0===c?0:c,p=e.backgroundColor,d=void 0===p?xr.Blue[500]:p,b=e.text,f=void 0===b?"":b,m=e.textOffsetY,h=void 0===m?0:m,x=e.textColor,v=void 0===x?xr.Blue[100]:x,y=e.fontSize,g=void 0===y?14:y,j=e.onClick,k=void 0===j?function(){}:j;return Object(vr.jsxs)(Br.d,{x:r,y:a,onMouseEnter:function(e){e.cancelBubble=!0,Hr.setCursor(e,"pointer")},onMouseLeave:function(e){e.cancelBubble=!0,Hr.setCursor(e,"default")},onClick:k,children:[Object(vr.jsx)(Br.i,{fill:d,cornerRadius:l}),Object(vr.jsx)(Br.j,{offsetY:h,width:i,height:u,fontSize:g,fontStyle:"bold",align:"center",verticalAlign:"middle",fill:v,text:f})]})}var qr=function(){function e(){Object(h.a)(this,e)}return Object(x.a)(e,null,[{key:"cancel",value:function(){Wr.cancelInput(),Kr.cancelDropdown()}}]),e}(),Wr=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={value:""},n.showInput=n.showInput.bind(Object(Qt.a)(n)),n.onHover=n.onHover.bind(Object(Qt.a)(n)),n.onHoverExit=n.onHoverExit.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"showInput",value:function(e){var t=this;r.cancelInput();var n=this.props,a=n.width,o=n.height,i=n.fontSize,s=n.padding,u=n.textColor,c=n.hoverColor,l=n.borderRadius,p=n.zIndex,d=n.type,m=n.isEditable,h=n.onChange,x=""===this.state.value?this.props.value:this.state.value;if(m){var v=e.target.getStage();if(v){var y=v.scaleX(),g=v.container().getBoundingClientRect(),j=e.target.absolutePosition().y+g.top,k=e.target.absolutePosition().x+g.left,w=document.createElement("input");document.body.appendChild(w),w.value=x,w.type=d,w.style.position="absolute",w.style.top="".concat(j,"px"),w.style.left="".concat(k+Math.max(0,g.left-k),"px"),w.style.width="".concat(Math.min(a*y,g.right-k,a*y-(g.left-k)),"px"),w.style.height="".concat(o*y,"px"),w.style.paddingLeft="".concat(s*y,"px"),w.style.fontSize="".concat(i*y,"px"),w.style.color=u,w.style.backgroundColor=c,w.style.borderRadius="".concat(l*y,"px"),w.style.verticalAlign="center",w.style.zIndex="".concat(p),w.focus(),w.onchange=function(){var e=Object(f.a)(b.a.mark((function e(n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.target){e.next=5;break}return console.error("Cannot cast target to 'HTMLInputElement'."),r.cancelInput(),e.abrupt("return");case 5:if(a.value){e.next=9;break}return console.error("No value typed in while editing the text."),r.cancelInput(),e.abrupt("return");case 9:return e.next=11,h(a.value);case 11:if(e.sent){e.next=16;break}return console.error("Input value requirements not met."),r.cancelInput(),e.abrupt("return");case 16:t.setState({value:a.value}),r.cancelInput();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.inputElement=w}else console.error("The Konva stage could not be found.")}}},{key:"onHover",value:function(e){if(this.props.isEditable){Hr.setCursor(e,"text");var t=e.currentTarget.getLayer();if(t){var r=e.currentTarget;if(r&&r.children)r.children[0].setAttr("fill",this.props.hoverColor),t.draw()}else console.error("The Konva layer could not be found.")}}},{key:"onHoverExit",value:function(e){if(this.props.isEditable){Hr.setCursor(e,"default");var t=e.currentTarget.getLayer();if(t){var r=e.currentTarget;if(r&&r.children)r.children[0].setAttr("fill",this.props.bgColor),t.draw()}else console.error("The Konva layer could not be found.")}}},{key:"render",value:function(){var e=this,t=this.props,r=t.x,n=t.y,a=t.width,o=t.height,i=t.fontSize,s=t.fontStyle,u=t.padding,c=t.textColor,l=t.bgColor,p=t.borderRadius,d=""===this.state.value?this.props.value:this.state.value;return Object(vr.jsxs)(Br.d,{name:"top-bar-label",x:r,y:n,onMouseEnter:this.onHover,onMouseLeave:this.onHoverExit,onClick:function(t){t.cancelBubble=!0,e.showInput(t)},onTap:function(t){t.cancelBubble=!0,e.showInput(t)},children:[Object(vr.jsx)(Br.i,{fill:l,cornerRadius:p}),Object(vr.jsx)(Br.j,{name:"top-bar-text",width:a,height:o,fontStyle:s,fontSize:i,verticalAlign:"middle",padding:u,fill:c,text:d})]})}}],[{key:"cancelInput",value:function(){var e,t=r.inputElement;t&&(t.onchange=null,null===(e=t.parentNode)||void 0===e||e.removeChild(t))}}]),r}(o.a.Component);Wr.inputElement=void 0,Wr.defaultProps={x:0,y:0,width:100,height:20,fontSize:12,fontStyle:"normal",padding:0,textColor:"#000000",bgColor:"#ffffff",hoverColor:"#cccccc",borderRadius:0,zIndex:0,value:"",type:"text",isEditable:!0,onChange:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};var Kr=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={selectedIndex:0},n.showDropdown=n.showDropdown.bind(Object(Qt.a)(n)),n.onHover=n.onHover.bind(Object(Qt.a)(n)),n.onHoverExit=n.onHoverExit.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.value,r=e.values,n=this.state.selectedIndex;null!=t&&r.includes(t)&&n!==r.indexOf(t)&&this.setState({selectedIndex:r.indexOf(t)})}},{key:"showDropdown",value:function(e){var t=this;r.cancelDropdown();var n=this.props,a=n.width,o=n.height,i=n.padding,s=n.fontSize,u=n.textColor,c=n.hoverColor,l=n.borderRadius,p=n.zIndex,d=n.values,m=n.onChange,h=e.target.getStage();if(h){var x=h.scaleX(),v=h.container().getBoundingClientRect(),y=e.target.absolutePosition().y+v.top,g=e.target.absolutePosition().x+v.left,j=document.createElement("select");document.body.appendChild(j),d.forEach((function(e){var t=document.createElement("option");t.value=e,t.innerText=e,j.add(t)})),j.selectedIndex=this.state.selectedIndex,j.style.position="absolute",j.style.top="".concat(y,"px"),j.style.left="".concat(g+Math.max(0,v.left-g),"px"),j.style.width="".concat(Math.min(a*x,v.right-g,a*x-(v.left-g)),"px"),j.style.height="".concat(o*x,"px"),j.style.paddingLeft="".concat(i*x,"px"),j.style.fontSize="".concat(s*x,"px"),j.style.color=u,j.style.backgroundColor=c,j.style.borderRadius="".concat(l*x,"px"),j.style.zIndex="".concat(p),j.focus(),j.onchange=function(){var e=Object(f.a)(b.a.mark((function e(n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.target){e.next=5;break}return console.error("Cannot cast target to 'HTMLSelectElement'."),r.cancelDropdown(),e.abrupt("return");case 5:if(a.value){e.next=9;break}return console.error("No value selected."),r.cancelDropdown(),e.abrupt("return");case 9:return e.next=11,m(a.value);case 11:if(e.sent){e.next=16;break}return console.error("Input value requirements not met."),r.cancelDropdown(),e.abrupt("return");case 16:t.setState({selectedIndex:a.selectedIndex}),r.cancelDropdown();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.dropdownElement=j}else console.error("The Konva stage could not be found.")}},{key:"onHover",value:function(e){Hr.setCursor(e,"pointer");var t=e.currentTarget.getLayer();if(t){var r=e.currentTarget;if(r&&r.children)r.children[0].setAttr("fill",this.props.hoverColor),t.draw()}else console.error("The Konva layer could not be found.")}},{key:"onHoverExit",value:function(e){Hr.setCursor(e,"default");var t=e.currentTarget.getLayer();if(t){var r=e.currentTarget;if(r&&r.children)r.children[0].setAttr("fill",this.props.bgColor),t.draw()}else console.error("The Konva layer could not be found.")}},{key:"render",value:function(){var e=this,t=this.props,r=t.x,n=t.y,a=t.width,o=t.height,i=t.fontSize,s=t.fontStyle,u=t.padding,c=t.textColor,l=t.bgColor,p=t.borderRadius,d=t.values,b=t.value;return Object(vr.jsxs)(Br.d,{name:"top-bar-label",x:r,y:n,onMouseEnter:this.onHover,onMouseLeave:this.onHoverExit,onClick:function(t){t.cancelBubble=!0,e.showDropdown(t)},onTap:function(t){t.cancelBubble=!0,e.showDropdown(t)},children:[Object(vr.jsx)(Br.i,{fill:l,cornerRadius:p}),Object(vr.jsx)(Br.j,{name:"top-bar-text",width:a,height:o,fontStyle:s,fontSize:i,verticalAlign:"middle",padding:u,fill:c,text:null!=b&&d.includes(b)?b:d[this.state.selectedIndex]})]})}}],[{key:"cancelDropdown",value:function(){var e,t=r.dropdownElement;t&&(t.onchange=null,null===(e=t.parentNode)||void 0===e||e.removeChild(t))}}]),r}(o.a.Component);Kr.dropdownElement=void 0,Kr.defaultProps={x:0,y:0,width:100,height:20,fontSize:12,fontStyle:"normal",padding:0,textColor:"#000000",bgColor:"#ffffff",hoverColor:"#cccccc",borderRadius:0,zIndex:0,values:[],value:"",onChange:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};o.a.Component;var Yr=new(function(){function e(){Object(h.a)(this,e),this.connectionRefs={},this.layerRef=void 0,this.currentNotebookId="",this.onStoreUpdate=this.onStoreUpdate.bind(this),Kt.subscribe(this.onStoreUpdate)}return Object(x.a)(e,[{key:"onStoreUpdate",value:function(){var e=Kt.getState().notebook.currentNotebook;e&&this.currentNotebookId!==e.notebookId&&(this.reset(),this.currentNotebookId=e.notebookId)}},{key:"setLayerRef",value:function(e){this.layerRef=e}},{key:"addRef",value:function(e,t,r){this.connectionRefs[e]||(this.connectionRefs[e]={}),this.connectionRefs[e][t]||(this.connectionRefs[e][t]=r,this.moveToInitialPos(e,t))}},{key:"removeRef",value:function(e,t){this.connectionRefs[e][t]=void 0}},{key:"moveToInitialPos",value:function(e,t){var r=function(e,t,r){var n=Lt(e);if(n){var a=n.cells.findIndex((function(e){return e.cellId===t}));if(!(a<0)){var o=n.cells[a].connections.findIndex((function(e){return e.connectionId===r}));if(!(o<0))return n.cells[a].connections[o]}}}(Kt.getState(),e,t);if(r){var n=Ht(Kt.getState(),e,r.fromNodeId),a=Ht(Kt.getState(),e,r.toNodeId);if(n&&a){var o=this.connectionRefs[e][t];o&&(o.setFromCoords(n.coords),o.setToCoords(a.coords))}}}},{key:"moveConnections",value:function(e,t,r,n){var a=this;this.layerRef&&(t.forEach((function(t){var r=a.connectionRefs[e][t.connectionId];r&&a&&r.setFromCoords(n)})),r.forEach((function(t){var r=a.connectionRefs[e][t.connectionId];r&&a&&r.setToCoords(n)})),this.layerRef.getStage().batchDraw())}},{key:"reset",value:function(){this.connectionRefs={}}}]),e}()),Jr=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={startPosition:{x:0,y:0}},n.onDragStart=n.onDragStart.bind(Object(Qt.a)(n)),n.onDragMove=n.onDragMove.bind(Object(Qt.a)(n)),n.onDragEnd=n.onDragEnd.bind(Object(Qt.a)(n)),n.onConnect=n.onConnect.bind(Object(Qt.a)(n)),n.isSlotTypeEqual=n.isSlotTypeEqual.bind(Object(Qt.a)(n)),n.isOtherInputSlotConnected=n.isOtherInputSlotConnected.bind(Object(Qt.a)(n)),n.isGraphCyclic=n.isGraphCyclic.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"onDragStart",value:function(e){qr.cancel();var t=e.target,n=t.parent;if(n){var a=t.getPosition(),o=a,i="M".concat(a.x," ").concat(a.y," L").concat(o.x," ").concat(o.y),s=new Gr.a.Path({data:i,stroke:xr.Gray[900],strokeWidth:3});n.add(s),s.setZIndex(0),r.path=s,this.setState({startPosition:a})}else console.error("This Konva node should be under a container node.")}},{key:"onDragMove",value:function(e){var t=this.props.isInput,n=this.state.startPosition;if(e.target.getLayer()){var a,o,i=e.target.getPosition();t?(a=i,o=n):(a=n,o=i);var s={x:(o.x-a.x)/2+a.x,y:(o.y-a.y)/2+a.y},u="M".concat(a.x," ").concat(a.y," Q").concat(a.x+30," ").concat(a.y," ").concat(s.x," ").concat(s.y," Q").concat(o.x-30," ").concat(o.y," ").concat(o.x," ").concat(o.y),c=r.path;c?c.data(u):console.error("The Konva path could not be found.")}else console.error("The Konva layer could not be found.")}},{key:"onDragEnd",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var n,a,o,i,s,u,c,l,p,d,f,m,h,x,v,y,g;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,a=n.isInput,o=n.nodeId,i=this.state.startPosition,(s=t.target).position(i),null!=(u=r.path)&&(u.destroy(),r.path=null),c=s.getStage()){e.next=10;break}return console.error("The Konva stage could not be found."),e.abrupt("return");case 10:if(c.draw(),l=c.getPointerPosition()){e.next=15;break}return console.error("The Konva pointer position could not be found."),e.abrupt("return");case 15:if(p=Math.floor(l.x),d=Math.floor(l.y),(f=c.getAllIntersections({x:p,y:d}))&&!(f.length<=0)){e.next=20;break}return e.abrupt("return");case 20:h="",x="",v=0;case 23:if(!(v<f.length)){e.next=40;break}if(y=f[v],(g=y.getAttr("data-type"))&&(a?"output"===g:"input"===g)){e.next=28;break}return e.abrupt("continue",37);case 28:if(h=y.getAttr("data-node-id"),x=y.getAttr("data-slot-id"),null!=h&&null!=x){e.next=33;break}return console.error("No attributes 'data-item-id' or 'data-slot-id' could be found from the element."),e.abrupt("continue",37);case 33:if(o!==h){e.next=35;break}return e.abrupt("continue",37);case 35:return m=y,e.abrupt("break",40);case 37:v++,e.next=23;break;case 40:if(m){e.next=42;break}return e.abrupt("return");case 42:return e.next=44,this.onConnect(h,x);case 44:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onConnect",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a,o,i,s,u,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,a=n.cellId,o=n.nodeId,i=n.slotId,s=n.isInput,o!==t){e.next=3;break}return e.abrupt("return");case 3:if(this.isSlotTypeEqual(a,s,o,i,t,r)){e.next=5;break}return e.abrupt("return");case 5:if(!this.isGraphCyclic(a,s?o:t,s?t:o)){e.next=7;break}return e.abrupt("return");case 7:if(!this.isOtherInputSlotConnected(a,s,o,i,t,r)){e.next=14;break}if(u=qt(Kt.getState(),a,s?o:t),c=u.toConnections,!(l=c.find((function(e){return e.toNodeId===(s?o:t)&&e.toSlotId===(s?i:r)})))){e.next=14;break}return e.next=14,Kt.dispatch(At(a,l.connectionId));case 14:if(!s){e.next=19;break}return e.next=17,Kt.dispatch(Vt(a,t,r,o,i));case 17:e.next=21;break;case 19:return e.next=21,Kt.dispatch(Vt(a,o,i,t,r));case 21:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"isSlotTypeEqual",value:function(e,t,r,n,a,o){var i=Ht(Kt.getState(),e,r),s=Ht(Kt.getState(),e,a);if(!i||!s)return!1;var u=cr.getType(i.type),c=cr.getType(s.type);if(!u||!c)return!1;var l=(t?u.inputSlots:u.outputSlots).find((function(e){return e.id===n}));if(!l)return!1;var p=(t?c.outputSlots:c.inputSlots).find((function(e){return e.id===o}));if(!p)return!1;var d=t?l.type.replace(/[ ]/g,"").split("|"):p.type.replace(/[ ]/g,"").split("|"),b=t?p.type:l.type;return d.includes(b)}},{key:"isOtherInputSlotConnected",value:function(e,t,r,n,a,o){return!(qt(Kt.getState(),e,t?r:a).toConnections.findIndex((function(e){return e.toNodeId===(t?r:a)&&e.toSlotId===(t?n:o)}))<0)}},{key:"isGraphCyclic",value:function(e,t,r){for(var n=qt(Kt.getState(),e,r).toConnections,a=0;a<n.length;a++){var o=n[a];if(o.fromNodeId===t)return!0;if(this.isGraphCyclic(e,t,o.fromNodeId))return!0}return!1}},{key:"render",value:function(){var e=this,t=this.props,r=t.nodeId,n=t.slotId,a=t.x,o=t.y,i=t.fill,s=t.stroke,u=t.isInput,c=t.isConnected;return Object(vr.jsxs)(vr.Fragment,{children:[!c&&Object(vr.jsx)(Br.a,{x:a,y:o,radius:4,fill:i,stroke:s,strokeWidth:1,listening:!1})||c&&Object(vr.jsx)(Br.g,{x:a,y:o-5,width:7,height:7,rotation:45,fill:s,strokeEnabled:!1}),Object(vr.jsx)(Br.a,{"data-type":"".concat(u?"input":"output"),"data-node-id":r,"data-slot-id":n,x:a,y:o,radius:15,fill:"transparent",draggable:!0,onDragStart:function(t){t.cancelBubble=!0,e.onDragStart(t)},onDragMove:function(t){t.cancelBubble=!0,e.onDragMove(t)},onDragEnd:function(){var t=Object(f.a)(b.a.mark((function t(r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.cancelBubble=!0,t.next=3,e.onDragEnd(r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onMouseEnter:function(e){Hr.setCursor(e,"pointer")},onMouseLeave:function(e){Hr.setCursor(e,"default")}})]})}}]),r}(o.a.Component);Jr.path=null;var Xr=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).label=void 0,n.type=void 0,n.label=o.a.createRef(),n.type=o.a.createRef(),n.state={labelWidth:100,typeWidth:100},n}return Object(x.a)(r,[{key:"componentDidMount",value:function(){var e,t,r=null===(e=this.label.current)||void 0===e?void 0:e.width(),n=null===(t=this.type.current)||void 0===t?void 0:t.width();r&&n?this.setState({labelWidth:r,typeWidth:n}):console.error("The referenced Konva label or type text could not be found.")}},{key:"render",value:function(){var e=this.props,t=e.cellId,r=e.nodeId,n=e.slot,a=e.x,o=void 0===a?0:a,i=e.y,s=void 0===i?0:i,u=e.height,c=void 0===u?40:u,l=e.isInput,p=void 0===l||l,d=e.isConnected,b=void 0!==d&&d,f=this.state,m=f.labelWidth,h=f.typeWidth;return Object(vr.jsxs)(Br.b,{x:o,y:s,children:[Object(vr.jsx)(Br.j,{ref:this.label,x:p?16:0,y:0,offsetX:p?0:16+m,height:c/2,text:n.id,fontSize:12,fontStyle:"bold",align:p?"left":"right",verticalAlign:"bottom"}),Object(vr.jsx)(Br.j,{ref:this.type,x:p?16:0,y:20,offsetX:p?0:16+h,height:c/2,text:n.type,fontSize:10,align:p?"left":"right",verticalAlign:"top"}),Object(vr.jsx)(Jr,{cellId:t,nodeId:r,slotId:n.id,x:0,y:c/2,fill:xr.Blue[200],stroke:xr.Blue[600],isInput:p,isConnected:b})]})}}]),r}(o.a.Component),Zr=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).unsubscribe=function(){},n.state={connections:{fromConnections:[],toConnections:[]},isDragging:!1,isSelected:!1},n.updateNode=n.updateNode.bind(Object(Qt.a)(n)),n.onClickNode=n.onClickNode.bind(Object(Qt.a)(n)),n.onDragNodeStart=n.onDragNodeStart.bind(Object(Qt.a)(n)),n.onDragNode=n.onDragNode.bind(Object(Qt.a)(n)),n.onDragNodeEnd=n.onDragNodeEnd.bind(Object(Qt.a)(n)),n.onUpdateName=n.onUpdateName.bind(Object(Qt.a)(n)),n.onDeleteNode=n.onDeleteNode.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"componentDidMount",value:function(){this.unsubscribe=Kt.subscribe(this.updateNode),this.updateNode()}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"updateNode",value:function(){var e=this.props,t=e.cellId,r=e.node,n=Kt.getState(),a=qt(n,t,r.nodeId),o=Ut(n);this.setState({connections:a,isSelected:!!o&&o.cellId===t&&o.nodeId===r.nodeId})}},{key:"onClickNode",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r,n,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.cancelBubble=!0,qr.cancel(),r=this.props,n=r.cellId,a=r.node,(o=Ut(Kt.getState()))&&o.cellId===n&&o.nodeId===a.nodeId){e.next=10;break}return e.next=7,Kt.dispatch(Ft(n,a.nodeId));case 7:this.setState({isSelected:!0}),e.next=13;break;case 10:return e.next=12,Kt.dispatch(Et());case 12:this.setState({isSelected:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDragNodeStart",value:function(e){Hr.setCursor(e,"move"),qr.cancel(),this.setState({isDragging:!0})}},{key:"onDragNode",value:function(e){var t=this.props.cellId,r=this.state.connections,n=e.target.position();Yr.moveConnections(t,r.fromConnections,r.toConnections,n)}},{key:"onDragNodeEnd",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r,n,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hr.setCursor(t,"default"),r=this.props,n=r.cellId,a=r.node,o=t.target.position(),e.next=5,Kt.dispatch(Rt(n,a.nodeId,{x:o.x,y:o.y}));case 5:this.setState({isDragging:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onUpdateName",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r,n,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,n=r.cellId,a=r.node,o=/^\w+[a-zA-Z0-9 \-.,]*$/,t.match(o)){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,Kt.dispatch(Mt(n,a.nodeId,t));case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteNode",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.cellId,n=t.node,!(a=Ut(Kt.getState()))||a.cellId!==r||a.nodeId!==n.nodeId){e.next=6;break}Kt.dispatch(Et()).then((function(){return Kt.dispatch(It(r,n.nodeId))})),e.next=8;break;case 6:return e.next=8,Kt.dispatch(It(r,n.nodeId));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,r,n,a,o=this,i=this.props,s=i.cellId,u=i.node,c=this.state,l=c.connections,p=c.isDragging,d=c.isSelected,m=cr.getType(u.type),h=null!==(e=null===m||void 0===m||null===(t=m.style)||void 0===t?void 0:t.width)&&void 0!==e?e:200,x=20,v=null!==(r=null===m||void 0===m?void 0:m.inputSlots)&&void 0!==r?r:[],y=null!==(n=null===m||void 0===m?void 0:m.outputSlots)&&void 0!==n?n:[],g={};u.inputValues.forEach((function(e){g[e.id]=e.value}));var j=null===m||void 0===m||null===(a=m.style)||void 0===a?void 0:a.height;if(!j||j<=-1){var k=Math.max(v.length,y.length);j=x+40*k}return Object(vr.jsx)(zr.a,{selector:".movingNodes",enabled:p,children:Object(vr.jsxs)(Br.b,{x:u.coords.x,y:u.coords.y,onClick:this.onClickNode,onDragStart:this.onDragNodeStart,onDragMove:this.onDragNode,onDragEnd:this.onDragNodeEnd,draggable:!0,children:[Object(vr.jsx)(Br.g,{name:"background",x:0,y:0,shadowEnabled:d,shadowColor:xr.Orange[500],shadowBlur:10,width:h,height:j,fill:xr.Gray[400]}),Object(vr.jsx)(Br.g,{name:"top-bar",width:h,height:x,fill:xr.Gray[800]}),Object(vr.jsx)(Wr,{width:(null===m||void 0===m?void 0:m.isDeletable)?h-x:h,height:x,textColor:xr.Gray[100],bgColor:xr.Gray[800],hoverColor:xr.Gray[700],padding:8,value:u.name,onChange:this.onUpdateName}),m&&m.isDeletable&&Object(vr.jsx)(Ur,{x:h-x+3,y:3,width:14,height:14,cornerRadius:x,backgroundColor:xr.Red[500],text:"\xd7",textOffsetY:-1,fontSize:14,textColor:xr.Gray[900],onClick:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.cancelBubble=!0,e.next=3,o.onDeleteNode();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),v.map((function(e,t){var r=l.toConnections.findIndex((function(t){return t.toSlotId===e.id}))>=0;return Object(vr.jsx)(Xr,{cellId:s,nodeId:u.nodeId,slot:e,x:0,y:x+40*t,isInput:!0,isConnected:r},"".concat(u.nodeId,"-").concat(e.id))})),y.map((function(e,t){var r=l.fromConnections.findIndex((function(t){return t.fromSlotId===e.id}))>=0;return Object(vr.jsx)(Xr,{cellId:s,nodeId:u.nodeId,slot:e,x:h,y:x+40*t,isInput:!1,isConnected:r},"".concat(u.nodeId,"-").concat(e.id))}))]})})}}]),r}(o.a.Component),Qr=r(368),_r=r.n(Qr),$r=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={currentIndex:{x:0,y:0},scale:1,containerWidth:0},n.setPos=n.setPos.bind(Object(Qt.a)(n)),n.setScale=n.setScale.bind(Object(Qt.a)(n)),n.setContainerWidth=n.setContainerWidth.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"setPos",value:function(e,t){var r=this.state,n=r.currentIndex,a=r.scale,o={x:Math.round(e/en/a),y:Math.round(t/en/a)};n.x===o.x&&n.y===o.y||this.setState({currentIndex:o})}},{key:"setScale",value:function(e){this.setState({scale:e})}},{key:"setContainerWidth",value:function(e){this.setState({containerWidth:e})}},{key:"render",value:function(){var e=this.state,t=e.currentIndex,r=e.scale,n=e.containerWidth;return Object(vr.jsx)(nn,{currentIndex:t,scale:r,containerWidth:n})}}]),r}(o.a.Component),en=1e3,tn=function(e,t){var r=e*en*2-t,n=0;r<0&&(n=Math.ceil(-r/250));for(var a=[],o=-2;o>-2-n;o--)a.push(o);return a},rn=function(e,t){return-(e+t)*en};function nn(e){var t=_r()("".concat("/node-books","/grid.png")),r=Object(S.a)(t,1)[0];return Object(vr.jsxs)(Br.b,{children:[Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,-1),y:rn(e.currentIndex.y,-1),width:en,height:en,image:r},"-1-1"),Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,0),y:rn(e.currentIndex.y,-1),width:en,height:en,image:r},"0-1"),Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,1),y:rn(e.currentIndex.y,-1),width:en,height:en,image:r},"1-1"),Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,-1),y:rn(e.currentIndex.y,0),width:en,height:en,image:r},"-10"),Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,0),y:rn(e.currentIndex.y,0),width:en,height:en,image:r},"00"),Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,1),y:rn(e.currentIndex.y,0),width:en,height:en,image:r},"10"),Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,-1),y:rn(e.currentIndex.y,1),width:en,height:en,image:r},"-11"),Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,0),y:rn(e.currentIndex.y,1),width:en,height:en,image:r},"01"),Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,1),y:rn(e.currentIndex.y,1),width:en,height:en,image:r},"11"),Object(vr.jsx)(vr.Fragment,{children:tn(e.scale,e.containerWidth).map((function(t,n){return Object(vr.jsxs)(o.a.Fragment,{children:[Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,t),y:rn(e.currentIndex.y,-1),width:en,height:en,image:r},"".concat(t,"-1")),Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,t),y:rn(e.currentIndex.y,0),width:en,height:en,image:r},"".concat(t,"0")),Object(vr.jsx)(Br.c,{opacity:.2,x:rn(e.currentIndex.x,t),y:rn(e.currentIndex.y,1),width:en,height:en,image:r},"".concat(t,"1"))]},"".concat(t,"-group"))}))})]})}var an=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={fromNodeWidth:200,fromSlotHeight:40,toSlotHeight:40,fromCoords:{x:0,y:0},toCoords:{x:0,y:0}},n.setFromCoords=n.setFromCoords.bind(Object(Qt.a)(n)),n.setToCoords=n.setToCoords.bind(Object(Qt.a)(n)),n.onDeleteConnection=n.onDeleteConnection.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"componentDidMount",value:function(){var e,t,r,n,a,o,i=this.props,s=i.cellId,u=i.connection,c=Ht(Kt.getState(),s,u.fromNodeId),l=Ht(Kt.getState(),s,u.toNodeId),p=cr.getType(null!==(e=null===c||void 0===c?void 0:c.type)&&void 0!==e?e:""),d=cr.getType(null!==(t=null===l||void 0===l?void 0:l.type)&&void 0!==t?t:""),b=null!==(r=null===p||void 0===p||null===(n=p.style)||void 0===n?void 0:n.width)&&void 0!==r?r:200,f=null===p||void 0===p||null===(a=p.outputSlots)||void 0===a?void 0:a.findIndex((function(e){return e.id===u.fromSlotId}));(!f||f<0)&&(f=0);var m=20+40*(f+1)-20,h=null===d||void 0===d||null===(o=d.inputSlots)||void 0===o?void 0:o.findIndex((function(e){return e.id===u.toSlotId}));(!h||h<0)&&(h=0);var x=20+40*(h+1)-20;this.setState({fromNodeWidth:b,fromSlotHeight:m,toSlotHeight:x})}},{key:"setFromCoords",value:function(e){this.setState({fromCoords:e})}},{key:"setToCoords",value:function(e){this.setState({toCoords:e})}},{key:"onDeleteConnection",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r=t.cellId,n=t.connection,Yr.removeRef(r,n.connectionId),e.next=4,Kt.dispatch(At(r,n.connectionId));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.fromNodeWidth,r=e.fromSlotHeight,n=e.toSlotHeight,a=e.fromCoords,o=e.toCoords;return Object(vr.jsx)(on,{strokeWidth:3,lineSlack:30,fromNodeWidth:t,fromSlotHeight:r,toSlotHeight:n,fromCoords:a,toCoords:o,onClick:this.onDeleteConnection})}}]),r}(o.a.Component);function on(e){var t=e.strokeWidth,r=e.lineSlack,n=e.fromNodeWidth,o=e.fromSlotHeight,i=e.toSlotHeight,s=e.fromCoords,u=e.toCoords,c=e.onClick,l=Object(a.useState)(!1),p=Object(S.a)(l,2),d=p[0],m=p[1],h=Object(a.useRef)(null),x={x:(u.x-s.x-n)/2+(s.x+n),y:(u.y+i-s.y-o)/2+(s.y+o)},v="M".concat(s.x+n," ").concat(s.y+o," ")+"Q".concat(s.x+n+r," ").concat(s.y+o," ")+"".concat(x.x," ").concat(x.y," ")+"Q".concat(u.x-r," ").concat(u.y+i," ")+"".concat(u.x," ").concat(u.y+i);return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsx)(Br.f,{ref:h,data:v,stroke:xr.Gray[900],strokeWidth:t,listening:!1}),Object(vr.jsx)(Br.f,{data:v,stroke:"transparent",strokeWidth:50,onMouseEnter:function(e){Hr.setCursor(e,"pointer"),m(!0)},onMouseLeave:function(e){Hr.setCursor(e,"default"),m(!1)},onClick:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hr.setCursor(t,"default"),e.next=3,c();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(vr.jsx)(Br.g,{visible:d,x:x.x-10,y:x.y-6,width:20,height:12,fill:xr.Gray[900],listening:!1}),Object(vr.jsx)(Br.j,{visible:d,x:x.x-10,y:x.y-6,width:20,height:12,text:"\xd7",fontSize:14,offsetY:-1,align:"center",verticalAlign:"middle",fill:xr.Gray[100],listening:!1})]})}var sn=r(33),un=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={},n}return Object(x.a)(r,[{key:"render",value:function(){var e=this.props,t=e.typeId,r=e.onAddNode,n=cr.getType(t);return n?Object(vr.jsx)("div",{className:"px-4 py-2 text-gray-800 hover:bg-gray-200",children:Object(vr.jsxs)("div",{className:"flex flex-row items-center justify-between",children:[Object(vr.jsxs)("div",{className:"flex flex-col mr-4",children:[Object(vr.jsx)("span",{className:"font-bold text-sm",children:n.name}),n.description&&Object(vr.jsx)("span",{className:"text-xs text-gray-600",children:n.description})]}),Object(vr.jsxs)("div",{className:"flex flex-row",children:[Object(vr.jsx)(kr,{icon:"plus",text:"Create",className:"px-2 py-1 mr-1 text-xs",onClick:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}),Object(vr.jsx)(yr,{icon:"question",className:"px-2 py-1 text-xs",onClick:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(Pt(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))})]})]})}):null}}]),r}(o.a.Component),cn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isOpen:{}},n.toggleGroup=n.toggleGroup.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"toggleGroup",value:function(e){this.setState((function(t){return{isOpen:Object(m.a)(Object(m.a)({},t.isOpen),{},Object(sn.a)({},e,!t.isOpen[e]))}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.group,a=t.onAddNode,o=this.state.isOpen,i=Object.entries(n);return Object(vr.jsx)(vr.Fragment,{children:i.map((function(t,n){return"string"===typeof t[1]?Object(vr.jsx)(un,{typeId:t[1],onAddNode:a},"".concat(t[0],"-").concat(n)):Object(vr.jsxs)("div",{style:{marginLeft:"1rem",width:"calc(100%-1rem)"},children:[Object(vr.jsx)("div",{className:"px-2 py-1 bg-gray-300 text-gray-900 text-xs hover:bg-gray-400",onClick:function(){e.toggleGroup("".concat(t[0],"-").concat(n))},children:Object(vr.jsxs)("div",{className:"flex flex-row items-center",children:[o["".concat(t[0],"-").concat(n)]&&Object(vr.jsx)($t.a,{style:{marginRight:"5px"},icon:"caret-down"})||!o["".concat(t[0],"-").concat(n)]&&Object(vr.jsx)($t.a,{style:{marginRight:"8px"},icon:"caret-right"}),Object(vr.jsx)("span",{className:"",children:t[0]})]})}),o["".concat(t[0],"-").concat(n)]&&Object(vr.jsx)(r,{group:t[1],onAddNode:a})]},"".concat(t[0],"-").concat(n))}))})}}]),r}(o.a.Component),ln=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={nextPosIndex:1},n.onHideModal=n.onHideModal.bind(Object(Qt.a)(n)),n.onKeyDown=n.onKeyDown.bind(Object(Qt.a)(n)),n.addNode=n.addNode.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"componentDidUpdate",value:function(e){e.show!==this.props.show&&this.setState({nextPosIndex:1})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function(e){"Escape"===e.key&&this.onHideModal()}},{key:"onHideModal",value:function(){var e=this.props.onHide;e&&e()}},{key:"addNode",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r,n,a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,n=r.cellId,a=r.stagePos,o=this.state.nextPosIndex,i={x:a.x+50*o,y:a.y+50*o},e.next=5,Kt.dispatch(St(n,t.name,t.id,i));case 5:this.setState((function(e){return{nextPosIndex:e.nextPosIndex+1}}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.show,t=cr.getVisibleTypeIds(),r=function e(t,r,n){var a=t.split(":");if(a.length<=1)r[t]=n;else{var o=r[a[0]];o||(o={});var i=e(a.slice(1).join(":"),o,n);r[a[0]]=i}return r},n={};return t.forEach((function(e){n=r(e,n,e)})),Object(vr.jsx)(vr.Fragment,{children:e&&Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsx)("div",{className:"absolute top-0 right-0 bottom-0 left-0 bg-gray-900 opacity-50",onClick:this.onHideModal}),Object(vr.jsxs)("div",{className:"absolute top-0 right-0 bottom-0 left-0 flex flex-col p-4 bg-gray-100",style:{minWidth:"32rem",width:"40%",height:"20rem",top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"},children:[Object(vr.jsx)("div",{className:"grid gap-2 h-full mb-4",children:Object(vr.jsx)(tr.a,{children:Object(vr.jsx)("div",{style:{marginLeft:"-1rem"},children:Object(vr.jsx)(cn,{group:n,onAddNode:this.addNode})})})}),Object(vr.jsx)("div",{className:"flex flex-row-reverse",children:Object(vr.jsx)(yr,{text:"Done",className:"px-2 py-1 text-xs",onClick:this.onHideModal})})]})]})})}}]),r}(o.a.Component),pn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={showModal:!1},n}return Object(x.a)(r,[{key:"render",value:function(){var e=this,t=this.props,r=t.cellId,n=t.stagePos,a=t.onRunCell,o=this.state.showModal;return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("div",{className:"absolute flex flex-row",style:{top:"1rem",left:"1rem"},children:[Object(vr.jsx)(yr,{icon:"plus",text:"Add Node",className:"text-xs px-2 py-1 mr-2",onClick:function(){return e.setState({showModal:!0})}}),Object(vr.jsx)(kr,{icon:"play",text:"Run",className:"text-xs px-2 py-1",onClick:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}),Object(vr.jsx)("div",{className:"relative"})]}),Object(vr.jsx)(ln,{cellId:r,show:o,stagePos:n,onHide:function(){return e.setState({showModal:!1})}})]})}}]),r}(o.a.Component);function dn(e){return Object(vr.jsxs)("div",{className:"absolute flex flex-col items-end",style:{top:"1rem",right:"1rem"},children:[Object(vr.jsx)(gr,{icon:"plus",className:"text-sm p-1 mb-2",onClick:e.onZoomIn}),Object(vr.jsx)(gr,{icon:"minus",className:"text-sm p-1 mb-2",onClick:e.onZoomOut}),Object(vr.jsx)(gr,{text:"Reset",className:"text-xs px-2 py-1",onClick:e.onReset})]})}var bn=r(389),fn=r(694),mn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isHovering:!1},n.onDrop=n.onDrop.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"onDrop",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r,n,a,o,i,s,u,c,l,p,d,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,n=r.cellId,a=r.stagePos,t.preventDefault(),o=JSON.parse(t.dataTransfer.getData("text/plain")),"source"!==(i=o.dataType)){e.next=14;break}return e.next=7,Kt.dispatch(ft(!1));case 7:return s=o.source,u={x:a.x+50,y:a.y+50},c={nodeId:ve()(),name:s.name,type:"base:".concat(N[s.type],"-source"),coords:u,properties:[{id:"sourceId",value:s.sourceId}],inputValues:[]},e.next=12,Kt.dispatch(Dt(n,c));case 12:e.next=23;break;case 14:if("variable"!==i){e.next=23;break}return e.next=17,Kt.dispatch(yt(!1));case 17:return l=o.type,p=o.variable,d={x:a.x+50,y:a.y+50},f={nodeId:ve()(),name:"".concat("get"===l?"Get":"Set"," ").concat(p.name),type:"base:Variables:".concat(w[p.type],"-variable-").concat(l,"ter"),coords:d,properties:[{id:"variableId",value:p.variableId}],inputValues:[]},e.next=23,Kt.dispatch(Dt(n,f));case 23:this.setState({isHovering:!1});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,r=t.isDraggingSource,n=t.isDraggingVariable,a=this.state.isHovering;return r||n?Object(vr.jsx)("div",{className:"absolute top-0 left-0 right-0 bottom-0",onDragEnter:function(t){t.preventDefault(),e.setState({isHovering:!0})},onDragOver:function(e){e.preventDefault()},onDragLeave:function(t){t.preventDefault(),e.setState({isHovering:!1})},onDrop:this.onDrop,children:a&&Object(vr.jsx)("div",{className:"flex w-full h-full items-center justify-center bg-gray-900 text-gray-100 opacity-50 pointer-events-none",children:"Drop here..."})}):null}}]),r}(o.a.Component),hn=Object(_t.b)((function(e){return{isDraggingSource:e.notebook.isDraggingSource,isDraggingVariable:e.notebook.isDraggingVariable}}))(mn),xn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).stage=void 0,n.gridArray=void 0,n.outputBox=void 0,n.minScale=.25,n.maxScale=2,n.stage=o.a.createRef(),n.gridArray=o.a.createRef(),n.outputBox=o.a.createRef(),n.state={stagePos:{x:0,y:0},results:[]},n.fitToParent=n.fitToParent.bind(Object(Qt.a)(n)),n.zoomInView=n.zoomInView.bind(Object(Qt.a)(n)),n.zoomOutView=n.zoomOutView.bind(Object(Qt.a)(n)),n.resetView=n.resetView.bind(Object(Qt.a)(n)),n.onZoom=n.onZoom.bind(Object(Qt.a)(n)),n.onDeleteNode=n.onDeleteNode.bind(Object(Qt.a)(n)),n.runCell=n.runCell.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.cell;pr.addCellExec(e.cellId,this.runCell)}},{key:"fitToParent",value:function(e,t){var r,n=this.stage.current;if(n){var a=n.getStage();a.width(e-1),a.height(t);var o=this.outputBox.current;o&&(o.style.width="".concat(e-1,"px")),null===(r=this.gridArray.current)||void 0===r||r.setContainerWidth(e),a.draw()}else console.error("Container or stage could not be found")}},{key:"zoomInView",value:function(){var e,t;qr.cancel();var r=null===(e=this.stage.current)||void 0===e?void 0:e.getStage();if(r){var n=1.2*r.scaleX();n<this.minScale||n>this.maxScale||(r.scaleX(n),r.scaleY(n),null===(t=this.gridArray.current)||void 0===t||t.setScale(n),r.batchDraw())}else console.error("The Konva stage could not be found.")}},{key:"zoomOutView",value:function(){var e,t;qr.cancel();var r=null===(e=this.stage.current)||void 0===e?void 0:e.getStage();if(r){var n=r.scaleX()/1.2;n<this.minScale||n>this.maxScale||(r.scaleX(n),r.scaleY(n),null===(t=this.gridArray.current)||void 0===t||t.setScale(n),r.batchDraw())}else console.error("The Konva stage could not be found.")}},{key:"resetView",value:function(){var e,t;qr.cancel();var r=null===(e=this.stage.current)||void 0===e?void 0:e.getStage();r?(r.scaleX(1),r.scaleY(1),null===(t=this.gridArray.current)||void 0===t||t.setScale(1),r.position({x:0,y:0}),r.batchDraw()):console.error("The Konva stage could not be found.")}},{key:"onZoom",value:function(e){var t;e.evt.preventDefault();var r=e.target.getStage();if(r){var n=r.scaleX(),a=r.getPointerPosition();if(a){var o=(a.x-r.x())/n,i=(a.y-r.y())/n,s=e.evt.deltaY<0?1.1*n:n/1.1;if(!(s<this.minScale||s>this.maxScale)){r.scale({x:s,y:s});var u={x:a.x-o*s,y:a.y-i*s};null===(t=this.gridArray.current)||void 0===t||t.setScale(s),r.position(u),r.batchDraw()}}else console.error("The Konva pointer position could not be found.")}else console.error("The Konva Stage could not be found.")}},{key:"onDeleteNode",value:function(e){if("Delete"===e.key){var t=Ut(Kt.getState());if(!t)return;Kt.dispatch(Et()).then((function(){return Kt.dispatch(It(t.cellId,t.nodeId))}))}}},{key:"runCell",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r,n,a,o,i,s,u,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.cell,pr.resetCellOutputs(t.cellId),r=zt(Kt.getState(),t.cellId),n=r.filter((function(e){return e.type.endsWith("-setter")})),a=Object(nr.a)(n),e.prev=5,a.s();case 7:if((o=a.n()).done){e.next=18;break}return i=o.value,e.next=11,pr.runFunction(t.cellId,i.nodeId);case 11:if(s=e.sent,s.result){e.next=16;break}return console.error("A setter variable node of id '".concat(i.nodeId,"' has failed")),e.abrupt("return");case 16:e.next=7;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),a.e(e.t0);case 23:return e.prev=23,a.f(),e.finish(23);case 26:if(!((u=r.filter((function(e){return e.type.endsWith("-output")}))).length<0)){e.next=29;break}return e.abrupt("return");case 29:return c=u.sort((function(e,t){var r=e.properties.findIndex((function(e){return"outputOrder"===e.id})),n=t.properties.findIndex((function(e){return"outputOrder"===e.id}));return(r>=0?e.properties[r].value:0)-(n>=0?t.properties[n].value:0)})).map((function(e){return e.nodeId})),e.next=32,pr.runFunctions(t.cellId,c,!0);case 32:l=e.sent,this.setState({results:l});case 34:case"end":return e.stop()}}),e,this,[[5,20,23,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.cell,r=this.state,n=r.stagePos,a=r.results,o=pr.getErrors(t.cellId);return Object(vr.jsxs)("div",{className:"flex flex-col w-full",children:[Object(vr.jsx)("div",{className:"flex flex-row w-full bg-gray-100 shadow-inner",style:{minHeight:"24rem"},children:Object(vr.jsx)(fn.a,{onResize:function(t){e.fitToParent(t.offsetWidth,t.offsetHeight)},children:Object(vr.jsxs)("div",{className:"relative w-full h-full outline-none",onKeyDown:this.onDeleteNode,tabIndex:0,children:[Object(vr.jsxs)(Br.h,{ref:this.stage,onWheel:function(t){qr.cancel(),e.onZoom(t)},onDragStart:function(e){qr.cancel()},onDragMove:function(t){var r;t.target.preventDefault();var n=t.currentTarget.position();null===(r=e.gridArray.current)||void 0===r||r.setPos(n.x,n.y)},onDragEnd:function(t){t.target.preventDefault();var r=t.currentTarget.position(),n=t.currentTarget.scale();e.setState({stagePos:{x:-r.x/n.x,y:-r.y/n.y}})},onClick:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qr.cancel(),e.next=3,Kt.dispatch(Et());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),draggable:!0,children:[Object(vr.jsx)(Br.e,{listening:!1,children:Object(vr.jsx)($r,{ref:this.gridArray})}),Object(vr.jsx)(Br.e,{id:"edgesLayer",ref:function(e){e&&Yr.setLayerRef(e)},children:t.connections.map((function(e,r){return Object(vr.jsx)(an,{cellId:t.cellId,connection:e,ref:function(r){r&&Yr.addRef(t.cellId,e.connectionId,r)}},e.connectionId)}))}),Object(vr.jsx)(Br.e,{children:t.nodes.map((function(e,r){return Object(vr.jsx)(Zr,{cellId:t.cellId,node:e},r)}))}),Object(vr.jsx)(Br.e,{name:"movingNodes"})]}),Object(vr.jsx)(dn,{onZoomIn:this.zoomInView,onZoomOut:this.zoomOutView,onReset:this.resetView}),Object(vr.jsx)(pn,{cellId:t.cellId,stagePos:n,onRunCell:this.runCell}),Object(vr.jsx)(hn,{cellId:t.cellId,stagePos:n})]})})}),Object(vr.jsx)("div",{ref:this.outputBox,className:"",children:a.length>0&&Object(vr.jsxs)("div",{className:"flex flex-col mt-2 p-2 bg-gray-200 text-gray-900",children:[Object(vr.jsx)("span",{className:"mb-2 text-xs font-medium text-gray-600",children:"Output"}),o.map((function(e,r){return Object(vr.jsx)("div",{className:"mb-2",children:Object(vr.jsx)(vn,{error:e})},"".concat(t.cellId,"-error-").concat(r))})),a.map((function(e,r){return Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(yn,{result:e})},"".concat(t.cellId,"-result-").concat(r))}))]})})]})}}]),r}(o.a.Component);function vn(e){var t=e.error,r="bg-gray-300 text-gray-700";"debug"===t.type?r="bg-indigo-300 text-indigo-700":"warning"===t.type?r="bg-yellow-300 text-yellow-700":"error"===t.type&&(r="bg-red-300 text-red-700");var n=t.message.split(": "),a=n[0],o=n.length>2?n.slice(1).join(": "):n[1];return Object(vr.jsxs)("div",{className:Object(mr.a)("px-3 py-2 text-sm",r),children:["debug"===t.type&&Object(vr.jsx)($t.a,{className:"mr-1",icon:"bug"})||"info"===t.type&&Object(vr.jsx)($t.a,{className:"mr-1",icon:"info-circle"})||"warning"===t.type&&Object(vr.jsx)($t.a,{className:"mr-1",icon:"exclamation-triangle"})||"error"===t.type&&Object(vr.jsx)($t.a,{className:"mr-1",icon:"times-circle"}),Object(vr.jsxs)("span",{className:"font-bold mr-2",children:[a,":"]}),Object(vr.jsx)("span",{className:"",children:o})]})}function yn(e){var t=e.result;if(!t)return null;var r=t.type;if("primitive"===r){var n=t;return Object(vr.jsx)("span",{className:"pl-3 text-blue-500",children:"".concat(n.output)})}if("chart"===r){var a,i=t,s=[xr.Red[500],xr.Blue[500],xr.Orange[500],xr.Indigo[500],xr.Yellow[500],xr.Purple[500],xr.Green[500],xr.Pink[500],xr.Teal[500]];return Object(vr.jsx)(vr.Fragment,{children:Object(vr.jsx)("div",{style:{maxWidth:"40rem"},children:i.chartType.endsWith("-line")&&Object(vr.jsx)(bn.c,{data:{labels:i.labels,datasets:i.data.map((function(e,t){return{label:i.dataLabels[t],data:e,fill:"stacked-line"===i.chartType,backgroundColor:xr.rgbaToStr(xr.hexToRGBA(s[t%s.length],.4)),borderColor:s[t%s.length],borderWidth:1}}))},options:{plugins:{title:{display:""!==i.title,text:i.title}},scales:{x:{ticks:{precision:2}},y:{beginAtZero:!0,stacked:"stacked-line"===i.chartType,ticks:{precision:2}}},elements:{line:{tension:(null===(a=i.options)||void 0===a?void 0:a.isSmooth)?.3:0}}}})||i.chartType.endsWith("-bar")&&Object(vr.jsx)(bn.a,{data:{labels:i.labels,datasets:i.data.map((function(e,t){return{label:i.dataLabels[t],data:e,backgroundColor:xr.rgbaToStr(xr.hexToRGBA(s[t%s.length],.4)),borderColor:s[t%s.length],borderWidth:1,borderRadius:4,stack:"Stack 0"}}))},options:{indexAxis:"horizontal-bar"===i.chartType?"y":"x",plugins:{title:{display:""!==i.title,text:i.title}},scales:{y:{beginAtZero:!0,stacked:"stacked-bar"===i.chartType}}}})||i.chartType.endsWith("-plot")&&Object(vr.jsx)(bn.b,{type:"violin-plot"===i.chartType?"violin":"boxplot",data:{labels:i.labels,datasets:i.data.map((function(e,t){return{label:i.dataLabels[t],data:e,backgroundColor:xr.rgbaToStr(xr.hexToRGBA(s[t%s.length],.4)),borderColor:s[t%s.length],borderWidth:1,borderRadius:4,itemRadius:2,outlierStyle:"triangle"}}))},options:{plugins:{title:{display:""!==i.title,text:i.title}},scales:{y:{beginAtZero:!0}}}})})})}if("dataframe"===r){var u=t,c=u.columns,l=u.indexes,p=u.values;return Object(vr.jsx)(vr.Fragment,{children:Object(vr.jsx)(tr.a,{autoHeight:!0,autoHeightMax:"32rem",children:Object(vr.jsx)("div",{className:"pl-3",children:Object(vr.jsxs)("table",{children:[Object(vr.jsx)("thead",{children:Object(vr.jsxs)("tr",{children:[l.length>0&&Object(vr.jsx)("th",{}),c.map((function(e,t){return Object(vr.jsx)("th",{children:e},"th-".concat(t,"-").concat(e))}))]})}),Object(vr.jsx)("tbody",{children:p.map((function(e,t){return Object(vr.jsx)("tr",{children:Object(vr.jsxs)(vr.Fragment,{children:[l.length>0&&Object(vr.jsx)("td",{children:l[t]}),e.map((function(e,r){return Object(vr.jsx)(o.a.Fragment,{children:(""===e||"null"===e)&&Object(vr.jsx)("td",{className:"text-red-500",children:"null"})||""!==e&&Object(vr.jsx)("td",{children:e})},"td-".concat(t,"-").concat(r))}))]})},"tr-".concat(t))}))})]})})})})}return null}var gn=r(95),jn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isHover:!1,isOptions:!1,isDelete:!1},n.changeCellType=n.changeCellType.bind(Object(Qt.a)(n)),n.showDeleteModal=n.showDeleteModal.bind(Object(Qt.a)(n)),n.hideDeleteModal=n.hideDeleteModal.bind(Object(Qt.a)(n)),n.deleteCell=n.deleteCell.bind(Object(Qt.a)(n)),n.onDragStart=n.onDragStart.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"changeCellType",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.cell,e.next=3,Kt.dispatch(jt(r.cellId,t));case 3:this.setState({isOptions:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showDeleteModal",value:function(){this.setState({isDelete:!0,isOptions:!1})}},{key:"hideDeleteModal",value:function(){this.setState({isDelete:!1})}},{key:"deleteCell",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.cell,this.setState({isOptions:!1}),e.next=4,Kt.dispatch(kt(t.cellId));case 4:this.hideDeleteModal();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onDragStart",value:function(e){var t=this.props.cell;e.stopPropagation();var r={cellId:t.cellId};e.dataTransfer.setData("text/plain",JSON.stringify(r))}},{key:"render",value:function(){var e=this,t=this.props.cell,r=this.state,n=r.isHover,a=r.isOptions,o=r.isDelete;return Object(vr.jsxs)("div",{className:"relative",children:[Object(vr.jsxs)("div",{className:"w-full h-full pl-6 pr-6 py-2 flex flex-row hover:bg-gray-200",onMouseEnter:function(){return e.setState({isHover:!0})},onMouseLeave:function(){return e.setState({isHover:!1,isOptions:!1})},children:[n&&Object(vr.jsxs)("div",{className:"flex flex-col w-6",style:{minWidth:"1.5rem"},children:[Object(vr.jsx)("div",{className:"transition duration-200 ease-in-out flex items-center text-md p-1 mb-2 bg-gray-700 text-gray-200 hover:bg-gray-600 hover:text-gray-100 cursor-move",onDragStart:function(){var t=Object(f.a)(b.a.mark((function t(r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.onDragStart(r),t.next=3,Kt.dispatch(Ct(!0));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onDragEnd:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(Ct(!1));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),draggable:!0,children:Object(vr.jsx)($t.a,{icon:"arrows-alt"})}),Object(vr.jsx)(gn.a,{show:a,onToggle:function(t){return e.setState({isOptions:t})},children:Object(vr.jsxs)("div",{className:"relative",children:[Object(vr.jsx)(gn.a.Toggle,{children:function(e,t){return Object(vr.jsx)(gr,{icon:"ellipsis-v",className:"w-full flex items-center justify-center h-6 text-sm",onClick:function(e){return t.toggle(!a,e)}})}}),Object(vr.jsx)(gn.a.Menu,{show:a,flip:!0,children:function(r){return Object(vr.jsx)(vr.Fragment,{children:a&&Object(vr.jsxs)("div",{className:"absolute z-20 shadow-lg",style:{width:"".concat("node"===t.type?"11rem":"9rem")},children:[Object(vr.jsx)("div",{onClick:Object(f.a)(b.a.mark((function r(){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.changeCellType("node"===t.type?"markdown":"node");case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)}))),children:Object(vr.jsx)(Ir,{text:"Change To ".concat("node"===t.type?"Markdown":"Node"),icon:"exchange-alt",className:"bg-gray-600 text-gray-100 hover:bg-gray-800 hover:text-gray-200"})}),Object(vr.jsx)("div",{onClick:e.showDeleteModal,children:Object(vr.jsx)(Ir,{text:"Delete",icon:"trash-alt",className:"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200"})})]})||!a&&Object(vr.jsx)("div",{className:""})})}})]})})]})||!n&&Object(vr.jsx)("div",{className:"w-6 h-full",style:{minWidth:"1.5rem"}}),"markdown"===t.type&&Object(vr.jsx)(Lr,{cell:t},"".concat(t.cellId,"-").concat(t.type))||"node"===t.type&&Object(vr.jsx)(xn,{cell:t},"".concat(t.cellId,"-").concat(t.type)),Object(vr.jsx)(Nr,{show:o,onHide:function(){return e.hideDeleteModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsx)("div",{className:"mb-4 flex flex-row",children:Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium text-red-600",children:"Delete Cell?"})}),Object(vr.jsx)("div",{className:"mb-4 w-full flex items-center",children:Object(vr.jsxs)("span",{className:"text-center",children:["Are you sure you want to delete this cell? This action is ",Object(vr.jsx)("span",{className:"text-red-600 font-bold",children:"irreversible."})]})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(jr,{text:"Delete",className:"px-2 py-1 ml-2 text-xs",onClick:this.deleteCell}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideDeleteModal()}})]})]})})]}),Object(vr.jsx)(Mr,{cellId:t.cellId})]})}}]),r}(o.a.Component),kn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).scrollbarRef=void 0,n.scrollbarRef=o.a.createRef(),n.state={},n.updateNotebook=n.updateNotebook.bind(Object(Qt.a)(n)),n.createNodeCell=n.createNodeCell.bind(Object(Qt.a)(n)),n.createMarkdownCell=n.createMarkdownCell.bind(Object(Qt.a)(n)),n.cellsToLinkedList=n.cellsToLinkedList.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rr.reset(),e.next=3,this.updateNotebook();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id===this.props.id){e.next=3;break}return e.next=3,this.updateNotebook();case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"updateNotebook",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,e.next=3,Kt.dispatch(st(t));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createNodeCell",value:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(gt("node"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createMarkdownCell",value:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(gt("markdown"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"onHoverScroller",value:function(e){this.scrollbarRef.current&&console.log(e)}},{key:"cellsToLinkedList",value:function(e){for(var t=[],r="",n=0;n<e.length;n++){var a=e.find((function(e){return e.nextCell===r}));if(!a)return[];t.push(a),r=a.cellId}return t.reverse(),t}},{key:"render",value:function(){var e=this.props,t=e.notebook,r=e.cells,n=e.selectedNodeTypeHelp,a=e.isDraggingCell;if(!t||!r)return null;var o=this.cellsToLinkedList(r),i=cr.getType(null!==n&&void 0!==n?n:"");return Object(vr.jsxs)("div",{className:"w-full h-full",children:[Object(vr.jsx)("div",{className:"flex flex-row p-2",style:{height:"5%"},children:Object(vr.jsx)(kr,{icon:"play",text:"Run All",className:"text-xs px-2 py-1",onClick:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pr.runCells(t.notebookId);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))})}),Object(vr.jsxs)("div",{className:"relative pb-4",style:{height:"95%"},children:[Object(vr.jsx)(tr.a,{ref:this.scrollbarRef,children:Object(vr.jsxs)("div",{className:"pt-2",children:[Object(vr.jsx)("div",{className:"relative w-full z-50",children:Object(vr.jsx)(Mr,{cellId:""})}),o.map((function(e,t){return Object(vr.jsx)("div",{className:"w-full",children:Object(vr.jsx)(jn,{cell:e})},"cell-".concat(e.cellId))})),Object(vr.jsxs)("div",{className:"mt-4 flex flex-row justify-center",children:[Object(vr.jsx)(yr,{icon:"plus",text:"Create Node Cell",className:"text-sm px-3 py-2 mr-4",onClick:this.createNodeCell}),Object(vr.jsx)(kr,{icon:"plus",text:"Create Markdown Cell",className:"text-sm px-3 py-2",onClick:this.createMarkdownCell})]}),Object(vr.jsx)("div",{className:"w-full",style:{height:"24rem"}})]})}),a&&Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsx)("div",{className:"pointer-events-none absolute top-0 left-0 w-12 py-1 flex justify-center text-lg bg-gray-900 text-gray-100 opacity-50",children:Object(vr.jsx)($t.a,{icon:"caret-up"})}),Object(vr.jsx)("div",{className:"pointer-events-none absolute left-0 w-12 py-1 flex justify-center text-lg bg-gray-900 text-gray-100 opacity-50",style:{bottom:"1rem"},children:Object(vr.jsx)($t.a,{icon:"caret-down"})})]})]}),Object(vr.jsx)(Nr,{show:null!=i,onHide:function(){return Tt()},children:Object(vr.jsxs)("div",{className:"relative flex flex-col p-8 bg-gray-100",style:{minWidth:"32rem",width:"40%",maxHeight:"80%",height:"80%"},children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-col",children:[Object(vr.jsx)("h2",{className:"mb-2 text-lg font-bold text-gray-900",children:null===i||void 0===i?void 0:i.name}),Object(vr.jsx)("p",{className:"pl-2 text-sm text-gray-700",children:null===i||void 0===i?void 0:i.description})]}),Object(vr.jsxs)(tr.a,{className:"mb-4",autoHeight:!0,autoHeightMax:"100%",children:[(null===i||void 0===i?void 0:i.inputSlots)&&(null===i||void 0===i?void 0:i.inputSlots.length)>0&&Object(vr.jsxs)("div",{className:"mb-4",children:[Object(vr.jsx)("h4",{className:"mb-2 text-md font-bold text-gray-900",children:"Inputs"}),Object(vr.jsxs)("table",{className:"",children:[Object(vr.jsx)("thead",{children:Object(vr.jsxs)("tr",{children:[Object(vr.jsx)("th",{children:"Name"}),Object(vr.jsx)("th",{children:"Type"}),Object(vr.jsx)("th",{children:"Description"}),Object(vr.jsx)("th",{children:"Default Value"})]})}),Object(vr.jsx)("tbody",{children:null===i||void 0===i?void 0:i.inputSlots.map((function(e){return Object(vr.jsxs)("tr",{children:[Object(vr.jsx)("td",{className:"pl-2 text-sm font-bold text-gray-700",children:e.id}),Object(vr.jsx)("td",{className:"pl-2 text-sm text-gray-700",children:e.type.replaceAll("|","or")}),Object(vr.jsx)("td",{className:"pl-2 text-sm text-gray-700",children:e.description}),Object(vr.jsx)("td",{className:"pl-2 text-sm text-gray-700",children:"".concat(null==e.defaultValue?"":e.defaultValue)})]},"input-".concat(e.id))}))})]})]}),(null===i||void 0===i?void 0:i.outputSlots)&&(null===i||void 0===i?void 0:i.outputSlots.length)>0&&Object(vr.jsxs)("div",{className:"mb-4",children:[Object(vr.jsx)("h4",{className:"mb-2 text-md font-bold text-gray-900",children:"Outputs"}),Object(vr.jsxs)("table",{className:"",children:[Object(vr.jsx)("thead",{children:Object(vr.jsxs)("tr",{children:[Object(vr.jsx)("th",{children:"Name"}),Object(vr.jsx)("th",{children:"Type"}),Object(vr.jsx)("th",{children:"Description"}),Object(vr.jsx)("th",{children:"Default Value"})]})}),Object(vr.jsx)("tbody",{children:null===i||void 0===i?void 0:i.outputSlots.map((function(e){return Object(vr.jsxs)("tr",{children:[Object(vr.jsx)("td",{className:"pl-2 text-sm font-bold text-gray-700",children:e.id}),Object(vr.jsx)("td",{className:"pl-2 text-sm text-gray-700",children:e.type.replaceAll("|","or")}),Object(vr.jsx)("td",{className:"pl-2 text-sm text-gray-700",children:e.description}),Object(vr.jsx)("td",{className:"pl-2 text-sm text-gray-700",children:"".concat(null==e.defaultValue?"":e.defaultValue)})]},"output-".concat(e.id))}))})]})]}),(null===i||void 0===i?void 0:i.properties)&&(null===i||void 0===i?void 0:i.properties.length)>0&&Object(vr.jsxs)("div",{className:"mb-4",children:[Object(vr.jsx)("h4",{className:"mb-2 text-md font-bold text-gray-900",children:"Properties"}),Object(vr.jsxs)("table",{className:"",children:[Object(vr.jsx)("thead",{children:Object(vr.jsxs)("tr",{children:[Object(vr.jsx)("th",{children:"Name"}),Object(vr.jsx)("th",{children:"Type"}),Object(vr.jsx)("th",{children:"Description"}),Object(vr.jsx)("th",{children:"Default Value"})]})}),Object(vr.jsx)("tbody",{children:null===i||void 0===i?void 0:i.properties.map((function(e){return e.isHidden?null:Object(vr.jsxs)("tr",{children:[Object(vr.jsx)("td",{className:"pl-2 text-sm font-bold text-gray-700",children:e.id}),Object(vr.jsx)("td",{className:"pl-2 text-sm text-gray-700",children:e.type.replaceAll("|","or")}),Object(vr.jsx)("td",{className:"pl-2 text-sm text-gray-700",children:e.description}),Object(vr.jsx)("td",{className:"pl-2 text-sm text-gray-700",children:"".concat(null==e.defaultValue?"":e.defaultValue)})]},"properties-".concat(e.id))}))})]})]})]}),Object(vr.jsx)("div",{className:"mt-auto flex flex-row-reverse",children:Object(vr.jsx)(yr,{text:"Done",className:"px-2 py-1 text-xs",onClick:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(Tt());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))})})]})})]})}}]),r}(o.a.Component),wn=Object(_t.b)((function(e){var t;return{notebook:e.notebook.currentNotebook,cells:null===(t=e.notebook.currentNotebook)||void 0===t?void 0:t.cells,selectedNodeTypeHelp:e.notebook.selectedNodeTypeHelp,isDraggingCell:e.notebook.isDraggingCell}}))(kn),On=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isOptions:!1,isRename:!1,renameValue:"",isDelete:!1,isPreview:!1,preview:{type:"dataframe",outputOrder:0,columns:[],indexes:[],values:[]}},n.onDragSourceStart=n.onDragSourceStart.bind(Object(Qt.a)(n)),n.showRenameModal=n.showRenameModal.bind(Object(Qt.a)(n)),n.hideRenameModal=n.hideRenameModal.bind(Object(Qt.a)(n)),n.renameSource=n.renameSource.bind(Object(Qt.a)(n)),n.showDeleteModal=n.showDeleteModal.bind(Object(Qt.a)(n)),n.hideDeleteModal=n.hideDeleteModal.bind(Object(Qt.a)(n)),n.deleteSource=n.deleteSource.bind(Object(Qt.a)(n)),n.showPreviewModal=n.showPreviewModal.bind(Object(Qt.a)(n)),n.hidePreviewModal=n.hidePreviewModal.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"onDragSourceStart",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,Kt.dispatch(ft(!0));case 3:n={dataType:"source",source:r},t.dataTransfer.setData("text/plain",JSON.stringify(n));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"showRenameModal",value:function(){this.setState({isRename:!0,isOptions:!1,renameValue:""})}},{key:"hideRenameModal",value:function(){this.setState({isRename:!1})}},{key:"renameSource",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.source,""===(r=this.state.renameValue)){e.next=6;break}return e.next=5,Kt.dispatch(dt(t.sourceId,r));case 5:this.hideRenameModal();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showDeleteModal",value:function(){this.setState({isDelete:!0,isOptions:!1})}},{key:"hideDeleteModal",value:function(){this.setState({isDelete:!1})}},{key:"deleteSource",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.source,this.setState({isOptions:!1}),e.next=4,Kt.dispatch(bt(t.sourceId));case 4:this.hideDeleteModal();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showPreviewModal",value:function(){var e=this,t=this.props.source,r={type:"dataframe",outputOrder:0,columns:[],indexes:[],values:[]},n=new U(t.sourceId);n.loadToDf().then((function(t){if(!t)throw new ReferenceError("Data Source could not be loaded.");var a,o=n.df,i=(o.shape[0],o);a=i.columns.length>1?i.values.map((function(e){return e.map((function(e){return"".concat(e)}))})):i.values.map((function(e){return["".concat(e)]})),r.columns=o.columns,r.values=a,e.setState({isPreview:!0,isOptions:!1,preview:r})}))}},{key:"hidePreviewModal",value:function(){this.setState({isPreview:!1,preview:{type:"dataframe",outputOrder:0,columns:[],indexes:[],values:[]}})}},{key:"render",value:function(){var e=this,t=this.props.source,r=this.state,n=r.isOptions,a=r.isRename,o=r.renameValue,i=r.isDelete,s=r.isPreview,u=r.preview;return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("div",{className:"transition duration-200 ease-in-out flex flex-row items-center justify-between p-2 text-sm text-gray-200 hover:bg-indigo-400 hover:text-indigo-100 select-none",draggable:!0,onDragStart:function(){var r=Object(f.a)(b.a.mark((function r(n){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.onDragSourceStart(n,t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),onDragEnd:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(ft(!1));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),onMouseLeave:function(){return e.setState({isOptions:!1})},children:[Object(vr.jsx)("span",{className:"",children:t.name}),Object(vr.jsxs)("div",{className:"flex flex-row",children:[Object(vr.jsx)("div",{className:"transition duration-200 ease-in-out flex items-center text-sm px-1 mr-2 bg-transparent hover:bg-indigo-600 cursor-move",children:Object(vr.jsx)($t.a,{icon:"arrows-alt"})}),Object(vr.jsx)(gn.a,{show:n,onToggle:function(t){return e.setState({isOptions:t})},children:Object(vr.jsxs)("div",{className:"relative flex flex-row-reverse",children:[Object(vr.jsx)(gn.a.Toggle,{children:function(e,t){return Object(vr.jsx)(gr,{icon:"ellipsis-v",className:"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600",onClick:function(e){return t.toggle(!n,e)}})}}),Object(vr.jsx)(gn.a.Menu,{show:n,flip:!0,children:function(t){return Object(vr.jsx)(vr.Fragment,{children:n&&Object(vr.jsxs)("div",{className:"absolute z-20 shadow-lg w-32",style:{top:"1.5rem"},children:[Object(vr.jsx)("div",{onClick:e.showPreviewModal,children:Object(vr.jsx)(Ir,{text:"Preview",icon:"search"})}),Object(vr.jsx)("div",{onClick:e.showRenameModal,children:Object(vr.jsx)(Ir,{text:"Change Name",icon:"edit"})}),Object(vr.jsx)("div",{onClick:e.showDeleteModal,children:Object(vr.jsx)(Ir,{text:"Delete",icon:"trash-alt",className:"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200"})})]})||!n&&Object(vr.jsx)("div",{className:""})})}})]})})]})]}),Object(vr.jsx)(Nr,{show:a,onHide:function(){return e.hideRenameModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-row",children:[Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium",children:"Preview"}),Object(vr.jsxs)("h2",{className:"text-lg font-bold",children:["'",t.name,"'"]})]}),Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(Cr,{value:o,label:"Name",placeholder:"Enter source name...",onChange:function(t){return e.setState({renameValue:t.target.value})}})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(yr,{text:"Save",className:"px-2 py-1 ml-2 text-xs",onClick:this.renameSource}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideRenameModal()}})]})]})}),Object(vr.jsx)(Nr,{show:s,onHide:function(){return e.hidePreviewModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100",style:{width:"75%"},children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-row",children:[Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium",children:"Preview"}),Object(vr.jsxs)("h2",{className:"text-lg font-bold",children:["'",t.name,"'"]})]}),Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(yn,{result:u})}),Object(vr.jsx)("div",{className:"flex flex-row-reverse",children:Object(vr.jsx)(gr,{text:"Close",className:"px-2 py-1 text-xs",onClick:function(){return e.hidePreviewModal()}})})]})}),Object(vr.jsx)(Nr,{show:i,onHide:function(){return e.hideDeleteModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-row",children:[Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium text-red-600",children:"Delete"}),Object(vr.jsxs)("h2",{className:"text-lg font-bold text-red-600",children:["'",t.name,"'?"]})]}),Object(vr.jsx)("div",{className:"mb-4 w-full flex items-center",children:Object(vr.jsxs)("span",{className:"text-center",children:["Are you sure you want to delete the source '",t.name,"'? This action is ",Object(vr.jsx)("span",{className:"text-red-600 font-bold",children:"irreversible"})," and might break any nodes using this source."]})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(jr,{text:"Delete",className:"px-2 py-1 ml-2 text-xs",onClick:this.deleteSource}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideDeleteModal()}})]})]})})]})}}]),r}(o.a.Component),Nn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isAddingSource:!1,sourceName:"",sourceType:void 0,sourceFile:void 0},n.showAddSourceModal=n.showAddSourceModal.bind(Object(Qt.a)(n)),n.hideAddSourceModal=n.hideAddSourceModal.bind(Object(Qt.a)(n)),n.onChooseCSVFile=n.onChooseCSVFile.bind(Object(Qt.a)(n)),n.onAddSource=n.onAddSource.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"showAddSourceModal",value:function(){this.setState({isAddingSource:!0,sourceName:"",sourceType:void 0,sourceFile:void 0})}},{key:"hideAddSourceModal",value:function(){this.setState({isAddingSource:!1})}},{key:"onChooseCSVFile",value:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({sourceType:"CSV",sourceFile:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onAddSource",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r,n,a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,r=t.sourceName,n=t.sourceType,a=t.sourceFile,r&&n&&a){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Kt.dispatch(pt(r,n));case 5:if(o=e.sent){e.next=8;break}return e.abrupt("return");case 8:if("CSV"!==n){e.next=21;break}return i=new U(o.sourceId,a),e.next=12,i.loadToDf();case 12:if(!e.sent){e.next=19;break}return e.next=16,i.saveToDB();case 16:e.t0=e.sent,e.next=20;break;case 19:e.t0=!1;case 20:e.t0;case 21:this.hideAddSourceModal();case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.sources,r=this.state,n=r.isAddingSource,a=r.sourceName,o=r.sourceFile;return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("div",{className:"w-48 h-full flex flex-col bg-gray-600 justify-center",children:[Object(vr.jsx)("div",{className:"p-2 text-md font-medium text-gray-300",children:"Data Sources"}),Object(vr.jsx)(tr.a,{children:Object(vr.jsxs)("div",{className:"grid gap-2",children:[Object(vr.jsx)("div",{className:"grid gap-2",children:t&&t.map((function(e,t){return Object(vr.jsx)(On,{source:e},t)}))}),Object(vr.jsx)(kr,{icon:"plus",text:"Add Source",className:"text-xs w-full",onClick:this.showAddSourceModal})]})})]}),Object(vr.jsx)(Nr,{show:n,onHide:this.hideAddSourceModal,children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsx)("div",{className:"mb-4 flex flex-row",children:Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium",children:"Add Data Source"})}),Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(Cr,{value:a,label:"Name",placeholder:"Enter source name...",onChange:function(t){return e.setState({sourceName:t.target.value})}})}),Object(vr.jsxs)("div",{className:"flex flex-col mb-4",children:[o&&Object(vr.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(vr.jsx)("span",{className:"text-xs text-gray-600",children:"File"}),Object(vr.jsx)("span",{className:"px-2 text-sm",children:null===o||void 0===o?void 0:o.name})]}),Object(vr.jsx)(wr,{icon:"plus",text:"Add CSV...",accept:".csv",className:"text-xs w-full",onChange:this.onChooseCSVFile})]}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(yr,{text:"Save",className:"px-2 py-1 ml-2 text-xs",onClick:this.onAddSource}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:this.hideAddSourceModal})]})]})})]})}}]),r}(o.a.Component),Cn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={id:ve()(),isOptions:!1,isRename:!1,isDelete:!1,renameValue:""},n.showRenameModal=n.showRenameModal.bind(Object(Qt.a)(n)),n.hideRenameModal=n.hideRenameModal.bind(Object(Qt.a)(n)),n.renameNotebook=n.renameNotebook.bind(Object(Qt.a)(n)),n.showDeleteModal=n.showDeleteModal.bind(Object(Qt.a)(n)),n.hideDeleteModal=n.hideDeleteModal.bind(Object(Qt.a)(n)),n.deleteNotebook=n.deleteNotebook.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"showRenameModal",value:function(){this.setState({isRename:!0,isOptions:!1,renameValue:""})}},{key:"hideRenameModal",value:function(){this.setState({isRename:!1})}},{key:"showDeleteModal",value:function(){this.setState({isDelete:!0,isOptions:!1})}},{key:"hideDeleteModal",value:function(){this.setState({isDelete:!1})}},{key:"renameNotebook",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.notebookId,""===(r=this.state.renameValue)){e.next=6;break}return e.next=5,Kt.dispatch(ut(t,r));case 5:this.hideRenameModal();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteNotebook",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.notebookId,e.next=3,Kt.dispatch(function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Lt(r())){e.next=4;break}throw new ReferenceError("No notebook currently selected.");case 4:t(we()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}());case 3:return e.next=5,Kt.dispatch(lt(t));case 5:this.hideDeleteModal();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,r=t.notebookId,n=t.text,a=t.className,o=this.state,i=(o.id,o.isOptions),s=o.isRename,u=o.renameValue,c=o.isDelete;return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)(l.c,{className:Object(mr.a)("transition duration-200 ease-in-out p-2 text-sm flex items-center justify-between w-full bg-gray-600 text-gray-200 hover:bg-indigo-400 hover:text-indigo-100",a),to:"/main/".concat(r),onMouseLeave:function(){return e.setState({isOptions:!1})},children:[Object(vr.jsx)("span",{className:"",children:n}),Object(vr.jsx)("div",{className:"flex flex-row",children:Object(vr.jsx)(gn.a,{show:i,onToggle:function(t){return e.setState({isOptions:t})},children:Object(vr.jsxs)("div",{className:"relative flex flex-row-reverse",children:[Object(vr.jsx)(gn.a.Toggle,{children:function(e,t){return Object(vr.jsx)(gr,{icon:"ellipsis-v",className:"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600",onClick:function(e){e.preventDefault(),t.toggle(!i,e)}})}}),Object(vr.jsx)(gn.a.Menu,{show:i,flip:!0,children:function(t){return Object(vr.jsx)(vr.Fragment,{children:i&&Object(vr.jsxs)("div",{className:"absolute z-20 shadow-lg w-32",style:{top:"1.5rem"},children:[Object(vr.jsx)("div",{onClick:function(t){t.preventDefault(),e.showRenameModal()},children:Object(vr.jsx)(Ir,{text:"Change Name",icon:"edit"})}),Object(vr.jsx)("div",{onClick:function(t){t.preventDefault(),e.showDeleteModal()},children:Object(vr.jsx)(Ir,{text:"Delete",icon:"trash-alt",className:"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200"})})]})||!i&&Object(vr.jsx)("div",{className:""})})}})]})})})]}),Object(vr.jsx)(Nr,{show:s,onHide:function(){return e.hideRenameModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-row",children:[Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium",children:"Rename"}),Object(vr.jsxs)("h2",{className:"text-lg font-bold",children:["'",n,"'"]})]}),Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(Cr,{value:u,label:"Name",placeholder:"Enter notebook name...",onChange:function(t){return e.setState({renameValue:t.target.value})}})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(yr,{text:"Save",className:"px-2 py-1 ml-2 text-xs",onClick:this.renameNotebook}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideRenameModal()}})]})]})}),Object(vr.jsx)(Nr,{show:c,onHide:function(){return e.hideDeleteModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-row",children:[Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium text-red-600",children:"Delete"}),Object(vr.jsxs)("h2",{className:"text-lg font-bold text-red-600",children:["'",n,"'?"]})]}),Object(vr.jsx)("div",{className:"mb-4 w-full flex items-center",children:Object(vr.jsxs)("span",{className:"text-center",children:["Are you sure you want to delete '",n,"'? This action is ",Object(vr.jsx)("span",{className:"text-red-600 font-bold",children:"irreversible."})]})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(jr,{text:"Delete",className:"px-2 py-1 ml-2 text-xs",onClick:this.deleteNotebook}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideDeleteModal()}})]})]})})]})}}]),r}(o.a.Component),Sn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isAddingNotebook:!1,notebookName:""},n.showAddNotebookModal=n.showAddNotebookModal.bind(Object(Qt.a)(n)),n.hideAddNotebookModal=n.hideAddNotebookModal.bind(Object(Qt.a)(n)),n.addNotebook=n.addNotebook.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"showAddNotebookModal",value:function(){this.setState({isAddingNotebook:!0,notebookName:""})}},{key:"hideAddNotebookModal",value:function(){this.setState({isAddingNotebook:!1})}},{key:"addNotebook",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.notebookName,e.next=3,Kt.dispatch(ct(t));case 3:this.hideAddNotebookModal();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.notebooks,r=this.state,n=r.isAddingNotebook,a=r.notebookName,o=t.slice().sort((function(e,t){return e.name.localeCompare(t.name)}));return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("div",{className:"w-48 h-full flex flex-col bg-gray-600",children:[Object(vr.jsx)("div",{className:"p-2 text-md font-medium text-gray-300",children:"Notebooks"}),Object(vr.jsx)(tr.a,{children:Object(vr.jsxs)("div",{className:"grid gap-2",children:[Object(vr.jsx)("div",{className:"grid gap-2",children:o.map((function(e,t){return Object(vr.jsx)(Cn,{notebookId:e.notebookId,text:e.name},t)}))}),Object(vr.jsx)(kr,{icon:"plus",text:"Add Notebook",className:"text-xs w-full",onClick:this.showAddNotebookModal})]})})]}),Object(vr.jsx)(Nr,{show:n,onHide:function(){return e.hideAddNotebookModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsx)("h2",{className:"mb-4 text-lg font-medium",children:"Create New Notebook"}),Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(Cr,{value:a,label:"Name",placeholder:"Enter notebook name...",onChange:function(t){return e.setState({notebookName:t.target.value})}})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(yr,{text:"Create",className:"px-2 py-1 ml-2 text-xs",onClick:this.addNotebook}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideAddNotebookModal()}})]})]})})]})}}]),r}(o.a.Component),Dn=function e(){Object(h.a)(this,e)};Dn.baseLabelRegex=/[a-zA-Z0-9-_]+/g,Dn.labelRegex=new RegExp("^".concat(Dn.baseLabelRegex.source,"$")),Dn.labelCommaRegex=new RegExp("^(".concat(Dn.baseLabelRegex.source,"(,|, ))*").concat(Dn.baseLabelRegex.source,"$")),Dn.labelSliceRegex=new RegExp("^".concat(Dn.baseLabelRegex.source,":").concat(Dn.baseLabelRegex.source,"$")),Dn.baseValueRegex=/([a-zA-Z0-9-_.()?$]+|'[a-zA-Z0-9-_ ,.()?$]+')/g,Dn.valueRegex=new RegExp("^".concat(Dn.baseValueRegex.source,"$")),Dn.valueCommaRegex=new RegExp("^(".concat(Dn.baseValueRegex.source,"(,|, ))*").concat(Dn.baseValueRegex.source,"$")),Dn.baseLabelMapRegex=new RegExp("(".concat(Dn.baseLabelRegex.source,":").concat(Dn.baseLabelRegex.source,")"),"g"),Dn.labelMapRegex=new RegExp("^(".concat(Dn.baseLabelMapRegex.source,"(,|, ))*").concat(Dn.baseLabelMapRegex.source,"$")),Dn.baseValueMapRegex=new RegExp("(".concat(Dn.baseValueRegex.source,":").concat(Dn.baseValueRegex.source,")"),"g"),Dn.valueMapRegex=new RegExp("^(".concat(Dn.baseValueMapRegex.source,"(,|, ))*").concat(Dn.baseValueMapRegex.source,"$")),Dn.baseLabelValueMapRegex=new RegExp("(".concat(Dn.baseLabelRegex.source,":").concat(Dn.baseValueRegex.source,")"),"g"),Dn.labelValueMapRegex=new RegExp("^(".concat(Dn.baseLabelValueMapRegex.source,"(,|, ))*").concat(Dn.baseLabelValueMapRegex.source,"$")),Dn.conditionRegex=new RegExp("^".concat(Dn.baseLabelRegex.source," (==|>|>=|<|<=|!=|has|start|end) ").concat(Dn.baseValueRegex.source,"$")),Dn.baseNumberRegex=/(\d+|-\d+)/g,Dn.numberRegex=new RegExp("^".concat(Dn.baseNumberRegex.source,"$")),Dn.numberCommaRegex=new RegExp("^(".concat(Dn.baseNumberRegex.source,"(,|, ))*").concat(Dn.baseNumberRegex.source,"$")),Dn.numberSliceRegex=new RegExp("^".concat(Dn.baseNumberRegex.source,":").concat(Dn.baseNumberRegex.source,"$")),Dn.baseNumberMapRegex=new RegExp("(".concat(Dn.baseNumberRegex.source,":").concat(Dn.baseNumberRegex.source,")"),"g"),Dn.numberMapRegex=new RegExp("^(".concat(Dn.baseNumberMapRegex.source,"(,|, ))*").concat(Dn.baseNumberMapRegex.source,"$")),Dn.emptyRegex=/^$/,Dn.combine=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return"(".concat(e.source,")")}));return new RegExp(n.join("|"))},Dn.isMatch=function(e,t){var r=e.match(t);return null!=r&&r.length>0},Dn.processCommaDelimString=function(e,t){var r=e.match(t);return r?r.map((function(e){return e.trim()})):[]},Dn.processCommaDelimNumber=function(e,t){var r=e.match(t);return r?r.map((function(e){return Number(e.trim())})):[]};var In,Mn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={properties:[],newPropertyValues:{},inputs:[],newInputValues:{}},n.onStringPropertyChange=n.onStringPropertyChange.bind(Object(Qt.a)(n)),n.onNumberPropertyChange=n.onNumberPropertyChange.bind(Object(Qt.a)(n)),n.onBooleanPropertyToggle=n.onBooleanPropertyToggle.bind(Object(Qt.a)(n)),n.saveAllProperties=n.saveAllProperties.bind(Object(Qt.a)(n)),n.resetAllProperties=n.resetAllProperties.bind(Object(Qt.a)(n)),n.saveAllInputs=n.saveAllInputs.bind(Object(Qt.a)(n)),n.resetAllInputs=n.resetAllInputs.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"componentDidMount",value:function(){this.resetAllInputs(),this.resetAllProperties()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.selectedNode,n=t.connections;r&&JSON.stringify(r)!==JSON.stringify(e.selectedNode)&&(this.resetAllInputs(),this.resetAllProperties()),JSON.stringify(n)!==JSON.stringify(e.connections)&&this.resetAllInputs()}},{key:"onStringInputChange",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState((function(e){return{newInputValues:Object(m.a)(Object(m.a)({},e.newInputValues),{},Object(sn.a)({},t.id,{isInvalid:null!=t.regex&&!Dn.isMatch(r,t.regex),value:r}))}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"onNumberInputChange",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState((function(e){return{newInputValues:Object(m.a)(Object(m.a)({},e.newInputValues),{},Object(sn.a)({},t.id,{isInvalid:!Dn.isMatch(r,Dn.numberRegex),value:Number(r)}))}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"onBooleanInputToggle",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.state.newInputValues,a=!(null!==(r=n[t.id].value)&&void 0!==r?r:t.defaultValue),this.setState((function(e){return{newInputValues:Object(m.a)(Object(m.a)({},e.newInputValues),{},Object(sn.a)({},t.id,{isInvalid:!1,value:a}))}}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveAllInputs",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.selectedNode,r=this.state.newInputValues,t){e.next=4;break}return e.abrupt("return");case 4:if(!(Object.values(r).filter((function(e){return e.isInvalid})).length>0)){e.next=7;break}return e.abrupt("return");case 7:return n=function(e){return Kt.dispatch((r=t.cellId,n=t.nodeId,a=e[0],o=e[1].value,function(){var e=Object(f.a)(b.a.mark((function e(t,i){var s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=me(i())){e.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(u=Lt(i())){e.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){e.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return e.next=11,ee.db.setNodeInputValue(s.userId,u.notebookId,r,n,a,o);case 11:t(rt({cellId:r,nodeId:n,slotId:a,value:o})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}()));var r,n,a,o},a=Object.entries(r).map(n),e.next=11,Promise.all(a);case 11:this.resetAllInputs();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetAllInputs",value:function(){var e=this.props,t=e.selectedNode,r=e.connections;if(t){var n=Ht(Kt.getState(),t.cellId,t.nodeId);if(n){var a=cr.getType(n.type);if(a){var o=[];a.inputSlots.forEach((function(e){var t=e;if(!(r.toConnections.findIndex((function(t){return t.toSlotId===e.id}))>=0)){var a=n.inputValues.findIndex((function(t){return t.id===e.id}));if(a>=0){var i=n.inputValues[a];if("string"!==typeof i.value&&"number"!==typeof i.value&&"boolean"!==typeof i.value)return;t=Object(m.a)(Object(m.a)({},e),{},{defaultValue:i.value})}null!=t.defaultValue&&o.push(t)}})),this.setState({inputs:o,newInputValues:{}})}}}}},{key:"onStringPropertyChange",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState((function(e){return{newPropertyValues:Object(m.a)(Object(m.a)({},e.newPropertyValues),{},Object(sn.a)({},t.id,{isInvalid:null!=t.regex&&!Dn.isMatch(r,t.regex),value:r}))}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"onNumberPropertyChange",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState((function(e){return{newPropertyValues:Object(m.a)(Object(m.a)({},e.newPropertyValues),{},Object(sn.a)({},t.id,{isInvalid:!Dn.isMatch(r,Dn.numberRegex),value:Number(r)}))}}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"onBooleanPropertyToggle",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r,n,a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.newPropertyValues,o=!(null!==(r=null===(n=a[t.id])||void 0===n?void 0:n.value)&&void 0!==r?r:t.defaultValue),this.setState((function(e){return{newPropertyValues:Object(m.a)(Object(m.a)({},e.newPropertyValues),{},Object(sn.a)({},t.id,{isInvalid:!1,value:o}))}}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveAllProperties",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.selectedNode,r=this.state.newPropertyValues,t){e.next=4;break}return e.abrupt("return");case 4:if(!(Object.values(r).filter((function(e){return e.isInvalid})).length>0)){e.next=7;break}return e.abrupt("return");case 7:return n=function(e){return Kt.dispatch((r=t.cellId,n=t.nodeId,a=e[0],o=e[1].value,function(){var e=Object(f.a)(b.a.mark((function e(t,i){var s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=me(i())){e.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(u=Lt(i())){e.next=7;break}throw new ReferenceError("No notebook currently selected.");case 7:if(ee.db){e.next=9;break}throw new ReferenceError("The DBService has not been started yet.");case 9:return e.next=11,ee.db.setNodeProperty(s.userId,u.notebookId,r,n,a,o);case 11:t(nt({cellId:r,nodeId:n,propertyId:a,value:o})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,r){return e.apply(this,arguments)}}()));var r,n,a,o},a=Object.entries(r).map(n),e.next=11,Promise.all(a);case 11:this.resetAllProperties();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetAllProperties",value:function(){var e=this.props.selectedNode;if(e){var t=Ht(Kt.getState(),e.cellId,e.nodeId);if(t){var r=cr.getType(t.type);if(r){var n=[];r.properties.forEach((function(e){var r=e,a=t.properties.findIndex((function(t){return t.id===e.id}));if(a>=0){var o=t.properties[a];r=Object(m.a)(Object(m.a)({},e),{},{defaultValue:o.value})}null==r.defaultValue||r.isHidden||n.push(r)})),this.setState({properties:n,newPropertyValues:{}})}}}}},{key:"render",value:function(){var e=this,t=this.props.selectedNode,r=this.state,n=r.inputs,a=r.newInputValues,o=r.properties,i=r.newPropertyValues,s=Object.values(i).filter((function(e){return e.isInvalid})).length>0||0===Object.keys(i).length,u=Object.values(a).filter((function(e){return e.isInvalid})).length>0||0===Object.keys(a).length,c=null!=t?Ht(Kt.getState(),t.cellId,t.nodeId):void 0,l=null!=c?cr.getType(c.type):void 0;return Object(vr.jsxs)("div",{className:"w-48 h-full flex flex-col bg-gray-600",children:[null!=c&&null!=l&&!l.isHiddenFromList&&Object(vr.jsx)("div",{className:"p-2 w-full",children:Object(vr.jsx)(yr,{icon:"question",text:"Help",className:"w-full justify-center text-sm p-1",onClick:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(Pt(c.type));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))})}),Object(vr.jsx)("div",{className:"p-2 text-md font-medium text-gray-300",children:"Node Inputs"}),Object(vr.jsx)(tr.a,{autoHeight:!0,autoHeightMax:"100%",children:Object(vr.jsx)("div",{className:"",children:t&&Object(vr.jsxs)(vr.Fragment,{children:[n.map((function(r,n){var o,i,s,u,c,l;return Object(vr.jsxs)("div",{className:"flex flex-row items-center justify-between px-2 pb-3",children:[Object(vr.jsxs)("div",{className:"pr-4 flex flex-col justify-center text-sm text-gray-200",children:[Object(vr.jsx)("span",{className:"font-medium",children:r.id}),Object(vr.jsx)("span",{className:"text-xs",style:{marginTop:"-0.25rem"},children:r.type})]}),"string"===r.type&&Object(vr.jsx)(Or,{value:null!=(null===(o=a[r.id])||void 0===o?void 0:o.value)?a[r.id].value:r.defaultValue,className:"py-0",regex:r.regex,onChange:function(){var t=Object(f.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target.value,t.next=3,e.onStringInputChange(r,a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})||"number"===r.type&&Object(vr.jsx)(Cr,{value:"".concat(null!==(i=null===(s=a[r.id])||void 0===s?void 0:s.value)&&void 0!==i?i:r.defaultValue),className:"py-0",regex:null!==(u=r.regex)&&void 0!==u?u:Dn.numberRegex,placeholder:"Number",onChange:function(){var t=Object(f.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target.value,t.next=3,e.onNumberInputChange(r,a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})||"boolean"===r.type&&Object(vr.jsx)(Sr,{value:null!==(c=null===(l=a[r.id])||void 0===l?void 0:l.value)&&void 0!==c?c:r.defaultValue,onToggle:Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onBooleanInputToggle(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))})]},"".concat(t.nodeId,"-").concat(r.id))})),n.length>0&&Object(vr.jsxs)("div",{className:"flex flex-row justify-center text-xs px-4 mt-1",children:[Object(vr.jsx)(kr,{icon:"save",text:"Save All",className:"mr-2",isDisabled:u,onClick:this.saveAllInputs}),Object(vr.jsx)(gr,{icon:"redo-alt",className:"px-3 hover:bg-gray-500",onClick:this.resetAllInputs})]})]})})}),Object(vr.jsx)("div",{className:"mt-4 p-2 text-md font-medium text-gray-300",children:"Node Properties"}),Object(vr.jsx)(tr.a,{autoHeight:!0,autoHeightMax:"100%",children:Object(vr.jsx)("div",{className:"",children:t&&Object(vr.jsxs)(vr.Fragment,{children:[o.map((function(r,n){var a,o,s,u,c;return Object(vr.jsxs)("div",{className:"flex flex-row items-center justify-between px-2 pb-3",children:[Object(vr.jsxs)("div",{className:"pr-4 flex flex-col justify-center text-sm text-gray-200",children:[Object(vr.jsx)("span",{className:"font-medium",children:r.id}),Object(vr.jsx)("span",{className:"text-xs",style:{marginTop:"-0.25rem"},children:r.type})]}),"string"===r.type&&Object(vr.jsx)(Or,{value:null!=(null===(a=i[r.id])||void 0===a?void 0:a.value)?i[r.id].value:r.defaultValue,className:"py-0",readonly:r.isReadOnly,regex:r.regex,onChange:function(){var t=Object(f.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target.value,t.next=3,e.onStringPropertyChange(r,a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})||"number"===r.type&&Object(vr.jsx)(Cr,{value:"".concat(null!==(o=null===(s=i[r.id])||void 0===s?void 0:s.value)&&void 0!==o?o:r.defaultValue),className:"py-0",readonly:r.isReadOnly,regex:Dn.numberRegex,placeholder:"Number",onChange:function(){var t=Object(f.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.target.value,t.next=3,e.onNumberPropertyChange(r,a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})||"boolean"===r.type&&Object(vr.jsx)(Sr,{value:null!==(u=null===(c=i[r.id])||void 0===c?void 0:c.value)&&void 0!==u?u:r.defaultValue,onToggle:Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onBooleanPropertyToggle(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))})]},"".concat(t.nodeId,"-").concat(r.id))})),o.length>0&&Object(vr.jsxs)("div",{className:"flex flex-row justify-center text-xs px-4 mt-1",children:[Object(vr.jsx)(kr,{icon:"save",text:"Save All",className:"mr-2",isDisabled:s,onClick:this.saveAllProperties}),Object(vr.jsx)(gr,{icon:"redo-alt",className:"px-3 hover:bg-gray-500",onClick:this.resetAllProperties})]})]})})})]})}}]),r}(o.a.Component),Rn=Object(_t.b)((function(e){var t=Ut(e);return{selectedNode:t,connections:null!=t?qt(e,t.cellId,t.nodeId):{fromConnections:[],toConnections:[]}}}))(Mn),Fn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isOptions:!1,isRename:!1,renameValue:"",isDelete:!1,isChangeValue:!1,newValue:0,isPreview:!1,preview:{type:"dataframe",outputOrder:0,columns:[],indexes:[],values:[]}},n.onDragVariableStart=n.onDragVariableStart.bind(Object(Qt.a)(n)),n.showRenameModal=n.showRenameModal.bind(Object(Qt.a)(n)),n.hideRenameModal=n.hideRenameModal.bind(Object(Qt.a)(n)),n.renameVariable=n.renameVariable.bind(Object(Qt.a)(n)),n.showDeleteModal=n.showDeleteModal.bind(Object(Qt.a)(n)),n.hideDeleteModal=n.hideDeleteModal.bind(Object(Qt.a)(n)),n.deleteVariable=n.deleteVariable.bind(Object(Qt.a)(n)),n.showChangeValueModal=n.showChangeValueModal.bind(Object(Qt.a)(n)),n.hideChangeValueModal=n.hideChangeValueModal.bind(Object(Qt.a)(n)),n.onStringValueChange=n.onStringValueChange.bind(Object(Qt.a)(n)),n.onNumberValueChange=n.onNumberValueChange.bind(Object(Qt.a)(n)),n.onBooleanValueToggle=n.onBooleanValueToggle.bind(Object(Qt.a)(n)),n.changeValue=n.changeValue.bind(Object(Qt.a)(n)),n.showPreviewModal=n.showPreviewModal.bind(Object(Qt.a)(n)),n.hidePreviewModal=n.hidePreviewModal.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"onDragVariableStart",value:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,Kt.dispatch(yt(!0));case 3:a={dataType:"variable",type:r,variable:n},t.dataTransfer.setData("text/plain",JSON.stringify(a));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"showRenameModal",value:function(){this.setState({isRename:!0,isOptions:!1,renameValue:""})}},{key:"hideRenameModal",value:function(){this.setState({isRename:!1})}},{key:"renameVariable",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.variable,""===(r=this.state.renameValue)){e.next=6;break}return e.next=5,Kt.dispatch(ht(t.variableId,r));case 5:this.hideRenameModal();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showDeleteModal",value:function(){this.setState({isDelete:!0,isOptions:!1})}},{key:"hideDeleteModal",value:function(){this.setState({isDelete:!1})}},{key:"deleteVariable",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.variable,this.setState({isOptions:!1}),e.next=4,Kt.dispatch(vt(t.variableId));case 4:this.hideDeleteModal();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showChangeValueModal",value:function(){var e=this.props.variable;if(console.log("".concat(e.type," ").concat(w.String)),C(e.type,w.String)||C(e.type,w.Number)||C(e.type,w.Boolean)){var t=e.value;null==t&&(C(e.type,w.String)?t="":C(e.type,w.Number)?t=0:C(e.type,w.Boolean)&&(t=!1)),null!=t&&this.setState({isChangeValue:!0,isOptions:!1,newValue:t})}}},{key:"hideChangeValueModal",value:function(){this.setState({isChangeValue:!1})}},{key:"onStringValueChange",value:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({newValue:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onNumberValueChange",value:function(){var e=Object(f.a)(b.a.mark((function e(t){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({newValue:null!==(r=Number(t))&&void 0!==r?r:0});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBooleanValueToggle",value:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState((function(e){return{newValue:!e.newValue}}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeValue",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.variable,r=this.state.newValue,e.next=4,Kt.dispatch(xt(t.variableId,r));case 4:this.hideChangeValueModal();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showPreviewModal",value:function(){var e=this.props.variable;if(C(e.type,w.DataFrame)){var t={type:"dataframe",outputOrder:0,columns:[],indexes:[],values:[]},r=pr.getVariable(e.variableId);if(r){var n,a=r,o=(a.shape[0],a);n=o.columns.length>1?o.values.map((function(e){return e.map((function(e){return"".concat(e)}))})):o.values.map((function(e){return["".concat(e)]})),t.columns=a.columns,t.values=n,this.setState({isPreview:!0,isOptions:!1,preview:t})}}}},{key:"hidePreviewModal",value:function(){this.setState({isPreview:!1,preview:{type:"dataframe",outputOrder:0,columns:[],indexes:[],values:[]}})}},{key:"render",value:function(){var e=this,t=this.props.variable,r=this.state,n=r.isOptions,a=r.isRename,o=r.renameValue,i=r.isDelete,s=r.isChangeValue,u=r.newValue,c=r.isPreview,l=r.preview;return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("div",{className:"transition duration-200 ease-in-out flex flex-row items-center justify-between p-2 text-sm text-gray-200 hover:bg-indigo-400 hover:text-indigo-100 select-none",onMouseLeave:function(){return e.setState({isOptions:!1})},children:[Object(vr.jsxs)("div",{className:"flex flex-col",children:[Object(vr.jsx)("span",{className:"font-medium",children:t.name}),Object(vr.jsx)("span",{className:"text-xs",style:{marginTop:"-0.25rem"},children:t.type})]}),Object(vr.jsxs)("div",{className:"flex flex-row items-center",children:[Object(vr.jsxs)("div",{className:"flex flex-col",children:[Object(vr.jsxs)("div",{className:"transition duration-200 ease-in-out flex items-center text-sm px-1 mr-2 mb-1 bg-transparent hover:bg-indigo-600 cursor-move",draggable:!0,onDragStart:function(){var r=Object(f.a)(b.a.mark((function r(n){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.onDragVariableStart(n,"get",t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),onDragEnd:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(yt(!1));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:[Object(vr.jsx)($t.a,{icon:"arrows-alt",className:"mr-1"}),Object(vr.jsx)("span",{className:"",children:"Get"})]}),Object(vr.jsxs)("div",{className:"transition duration-200 ease-in-out flex items-center text-sm px-1 mr-2 bg-transparent hover:bg-indigo-600 cursor-move",draggable:!0,onDragStart:function(){var r=Object(f.a)(b.a.mark((function r(n){return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.onDragVariableStart(n,"set",t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),onDragEnd:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(yt(!1));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:[Object(vr.jsx)($t.a,{icon:"arrows-alt",className:"mr-1"}),Object(vr.jsx)("span",{className:"",children:"Set"})]})]}),Object(vr.jsx)(gn.a,{show:n,onToggle:function(t){return e.setState({isOptions:t})},children:Object(vr.jsxs)("div",{className:"relative flex flex-row-reverse",children:[Object(vr.jsx)(gn.a.Toggle,{children:function(e,t){return Object(vr.jsx)(gr,{icon:"ellipsis-v",className:"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600",onClick:function(e){return t.toggle(!n,e)}})}}),Object(vr.jsx)(gn.a.Menu,{show:n,flip:!0,children:function(r){return Object(vr.jsx)(vr.Fragment,{children:n&&Object(vr.jsxs)("div",{className:"absolute z-20 shadow-lg w-32",style:{top:"1.5rem"},children:[C(t.type,w.DataFrame)&&Object(vr.jsx)("div",{onClick:e.showPreviewModal,children:Object(vr.jsx)(Ir,{text:"Preview",icon:"search"})}),Object(vr.jsx)("div",{onClick:e.showRenameModal,children:Object(vr.jsx)(Ir,{text:"Change Name",icon:"edit"})}),(C(t.type,w.String)||C(t.type,w.Number)||C(t.type,w.Boolean))&&Object(vr.jsx)("div",{onClick:e.showChangeValueModal,children:Object(vr.jsx)(Ir,{text:"Change Value",icon:"pencil-alt"})}),Object(vr.jsx)("div",{onClick:e.showDeleteModal,children:Object(vr.jsx)(Ir,{text:"Delete",icon:"trash-alt",className:"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200"})})]})||!n&&Object(vr.jsx)("div",{className:""})})}})]})})]})]}),Object(vr.jsx)(Nr,{show:a,onHide:function(){return e.hideRenameModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-row",children:[Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium",children:"Rename"}),Object(vr.jsxs)("h2",{className:"text-lg font-bold",children:["'",t.name,"'"]})]}),Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(Cr,{value:o,label:"Name",placeholder:"Enter variable name...",onChange:function(t){return e.setState({renameValue:t.target.value})}})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(yr,{text:"Save",className:"px-2 py-1 ml-2 text-xs",onClick:this.renameVariable}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideRenameModal()}})]})]})}),Object(vr.jsx)(Nr,{show:i,onHide:function(){return e.hideDeleteModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-row",children:[Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium text-red-600",children:"Delete"}),Object(vr.jsxs)("h2",{className:"text-lg font-bold text-red-600",children:["'",t.name,"'?"]})]}),Object(vr.jsx)("div",{className:"mb-4 w-full flex items-center",children:Object(vr.jsxs)("span",{className:"text-center",children:["Are you sure you want to delete the variable '",t.name,"'? This action is ",Object(vr.jsx)("span",{className:"text-red-600 font-bold",children:"irreversible"})," and might break any nodes using this variable."]})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(jr,{text:"Delete",className:"px-2 py-1 ml-2 text-xs",onClick:this.deleteVariable}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideDeleteModal()}})]})]})}),Object(vr.jsx)(Nr,{show:s,onHide:function(){return e.hideChangeValueModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-row",children:[Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium",children:"Change Value"}),Object(vr.jsxs)("h2",{className:"text-lg font-bold",children:["'",t.name,"'"]})]}),Object(vr.jsx)("div",{className:"mb-4",children:C(t.type,w.String)&&Object(vr.jsx)(Or,{value:u,className:"",label:"New Value",onChange:function(){var t=Object(f.a)(b.a.mark((function t(r){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.target.value,t.next=3,e.onStringValueChange(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})||C(t.type,w.Number)&&Object(vr.jsx)(Cr,{value:"".concat(u),className:"",label:"New Value",placeholder:"Number",onChange:function(){var t=Object(f.a)(b.a.mark((function t(r){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.target.value,t.next=3,e.onNumberValueChange(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})||C(t.type,w.Boolean)&&Object(vr.jsx)(Sr,{value:u,label:"New Value",onToggle:Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onBooleanValueToggle();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(yr,{text:"Save",className:"px-2 py-1 ml-2 text-xs",onClick:this.changeValue}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideChangeValueModal()}})]})]})}),Object(vr.jsx)(Nr,{show:c,onHide:function(){return e.hidePreviewModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100",style:{width:"75%"},children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-row",children:[Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium",children:"Preview"}),Object(vr.jsxs)("h2",{className:"text-lg font-bold",children:["'",t.name,"'"]})]}),Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(yn,{result:l})}),Object(vr.jsx)("div",{className:"flex flex-row-reverse",children:Object(vr.jsx)(gr,{text:"Close",className:"px-2 py-1 text-xs",onClick:function(){return e.hidePreviewModal()}})})]})})]})}}]),r}(o.a.Component),En=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isAddingVariable:!1,variableName:"",variableType:void 0},n.showAddVariableModal=n.showAddVariableModal.bind(Object(Qt.a)(n)),n.hideAddVariableModal=n.hideAddVariableModal.bind(Object(Qt.a)(n)),n.onAddVariable=n.onAddVariable.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"showAddVariableModal",value:function(){this.setState({isAddingVariable:!0,variableName:"",variableType:void 0})}},{key:"hideAddVariableModal",value:function(){this.setState({isAddingVariable:!1})}},{key:"onAddVariable",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,r=t.variableName,n=t.variableType,r&&n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Kt.dispatch(mt(r,n));case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:this.hideAddVariableModal();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.variables,r=this.state,n=r.isAddingVariable,a=r.variableName,o=[];return O.forEach((function(e){o.push({value:e,label:e})})),Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("div",{className:"w-48 h-full flex flex-col bg-gray-600 justify-center",children:[Object(vr.jsx)("div",{className:"p-2 text-md font-medium text-gray-300",children:"Variables"}),Object(vr.jsx)(tr.a,{children:Object(vr.jsxs)("div",{className:"grid gap-2",children:[Object(vr.jsx)("div",{className:"grid gap-2",children:t&&t.map((function(e,t){return Object(vr.jsx)(Fn,{variable:e},t)}))}),Object(vr.jsx)(kr,{icon:"plus",text:"Add Variable",className:"text-xs w-full",onClick:this.showAddVariableModal})]})})]}),Object(vr.jsx)(Nr,{show:n,onHide:this.hideAddVariableModal,children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsx)("div",{className:"mb-4 flex flex-row",children:Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium",children:"Add Variable"})}),Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(Cr,{value:a,label:"Name",placeholder:"Enter variable name...",onChange:function(t){return e.setState({variableName:t.target.value})}})}),Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(Dr,{label:"Type",options:o,onChange:function(t){t&&e.setState({variableType:t.value})}})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(yr,{text:"Save",className:"px-2 py-1 ml-2 text-xs",onClick:this.onAddVariable}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:this.hideAddVariableModal})]})]})})]})}}]),r}(o.a.Component);!function(e){e[e.Notebooks=0]="Notebooks",e[e.Sources=1]="Sources",e[e.Variables=2]="Variables",e[e.Properties=3]="Properties",e[e.None=4]="None"}(In||(In={}));var Pn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={currentState:In.Notebooks},n.onNotebookTabClick=n.onNotebookTabClick.bind(Object(Qt.a)(n)),n.onSourcesTabClick=n.onSourcesTabClick.bind(Object(Qt.a)(n)),n.onVariablesTabClick=n.onVariablesTabClick.bind(Object(Qt.a)(n)),n.onPropertiesTabClick=n.onPropertiesTabClick.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=me(r())){e.next=4;break}throw new ReferenceError("No user is currently logged in.");case 4:if(ee.db){e.next=6;break}throw new ReferenceError("The DBService has not been started yet.");case 6:return e.next=8,ee.db.getNotebookDetailsByUser(n.userId);case 8:a=e.sent,t(Oe(a.map((function(e){return e.toObject()})))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){var t=this.props.selectedNode;t&&JSON.stringify(t)!==JSON.stringify(e.selectedNode)&&this.state.currentState!==In.Properties&&this.setState({currentState:In.Properties})}},{key:"onNotebookTabClick",value:function(){var e=this.state.currentState===In.Notebooks?In.None:In.Notebooks;this.setState({currentState:e})}},{key:"onSourcesTabClick",value:function(){var e=this.state.currentState===In.Sources?In.None:In.Sources;this.setState({currentState:e})}},{key:"onVariablesTabClick",value:function(){var e=this.state.currentState===In.Variables?In.None:In.Variables;this.setState({currentState:e})}},{key:"onPropertiesTabClick",value:function(){var e=this.state.currentState===In.Properties?In.None:In.Properties;this.setState({currentState:e})}},{key:"render",value:function(){var e=this.props,t=e.notebooks,r=e.currentNotebook,n=this.state.currentState,a=null===r||void 0===r?void 0:r.sources,o=null===r||void 0===r?void 0:r.variables;return Object(vr.jsxs)("div",{className:"flex flex-row",children:[Object(vr.jsxs)("div",{className:"w-10 h-full flex flex-col bg-gray-700",children:[Object(vr.jsx)(gr,{icon:"copy",className:"justify-center mb-2 text-2xl p-0 px-2 py-4 hover:bg-gray-500 ".concat(n===In.Notebooks?"bg-gray-600":""),onClick:this.onNotebookTabClick}),r&&Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsx)(gr,{icon:"sign-in-alt",className:"justify-center text-2xl p-0 px-2 py-4 hover:bg-gray-500 ".concat(n===In.Sources?"bg-gray-600":""),onClick:this.onSourcesTabClick}),Object(vr.jsx)(gr,{icon:"superscript",className:"justify-center text-2xl p-0 px-2 py-4 hover:bg-gray-500 ".concat(n===In.Variables?"bg-gray-600":""),onClick:this.onVariablesTabClick}),Object(vr.jsx)(gr,{icon:"cogs",className:"justify-center text-2xl p-0 px-2 py-4 hover:bg-gray-500 ".concat(n===In.Properties?"bg-gray-600":""),onClick:this.onPropertiesTabClick})]})]}),n===In.Notebooks&&Object(vr.jsx)(Sn,{notebooks:t})||n===In.Sources&&r&&Object(vr.jsx)(Nn,{sources:a})||n===In.Variables&&r&&Object(vr.jsx)(En,{variables:o})||n===In.Properties&&r&&Object(vr.jsx)(Rn,{})]})}}]),r}(o.a.Component),Tn=Object(_t.b)((function(e){return{notebooks:e.notebook.notebookDetails,currentNotebook:e.notebook.currentNotebook,selectedNode:e.notebook.selectedNode}}))(Pn),Vn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={user:void 0},n}return Object(x.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=me(Kt.getState()),this.setState({user:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.user;return Object(vr.jsxs)("div",{className:"w-screen h-16 flex flex-row justify-between items-center bg-gray-800 text-gray-200",children:[Object(vr.jsx)("div",{className:"pl-3 flex items-center",children:Object(vr.jsx)("div",{className:"w-40",children:Object(vr.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAABJCAYAAADSUvh2AAABgWlDQ1BzUkdCIElFQzYxOTY2LTIuMQAAKJF1kc8rRFEUxz8zRsRoFAsLi5ewmtGgxMZiJobCYmaUwWbmzS81P17vzaTJVtlOUWLj14K/gK2yVopIyVLWxIbpOc+okcy53XM/93vPOd17LtjDGTVrOLyQzRX0YMCnLEQWlaYnbDjpwI0jqhrabGgyTF17v5VosWuPVat+3L/WGk8YKtiahcdVTS8ITwnPrBY0i7eEO9V0NC58IuzW5YLCN5Yeq/Kzxakqf1qsh4N+sLcLK6lfHPvFalrPCsvL6c1miurPfayXOBO5+ZCsPTK7MQgSwIfCNBP4GWGQMfEjeBhiQHbUyfd+58+Rl1xVvEYJnRVSpClIbxWKUj0ha1L0hIwMJav/f/tqJIeHqtWdPmh8NM3XPmjahErZND8OTLNyCA0PcJ6r5ef3YfRN9HJN690D1zqcXtS02DacbUDXvRbVo99Sg0x7Mgkvx9AWgY4raFmq9uznnKM7CK/JV13Czi70S7xr+QtEH2fWEZABPwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAGaRJREFUeJztnXlYU1fawH9hiwLuuECViCKCikWhUrW1jF1MtY1LLdZttM5Xna/yuGXGYl1Ga0emKMX6VavT2kW70JQZlbYUfcSt7opYoGpdwFgVRVFQiAqGfH8ErsTsIUCF+3uePMm992w59573vuc957wHRERERERERBofktpKOFShago8DwQCjwGFwBfZKdGXaitPERER+3CqAAhVqFyBwcB4YBTQ7KEgWuBbYHJ2SnS5M/MWERGxHzdnJBKqUEWgb/SvAR0sBHUFxgHlwGRn5C0iIuI4DmsAoQpVV/SNfhzQ3YEkJmanRH/paP4iIiI1xy4NIFShageMQd/wI2uYtxwQBYCISD1iVQCEKlRewEj0jf45W+LYyDNOSkdERMRBTDbmUIXKDRiCvtEPBzxrIW+/WkhTRETEDgwEQKhCNQB9o48GfOqlRCIiInWGW6hCFcIDY15APZdHRESkDnEDTtR3IQBCFardwIDKw2tABvBddkr0hvorlYhIw8ZZBj0BiQQkEgkVFTpHylJVHl/gJeClUIXqNeC17JToW04sJglp6uZAH6A30NqZaTcwStG/JDKUctnV+i5MQppagn5maTgQDDSp3xL9obkGHAeOK+UyjakAThEAUg9XInq15elwXwZF+NK2dRN2Hr7M3OUHnZH8i0Ai8BdnJJaQpu4FLAUUgIsz0mwsJKSp9wPvKuWyn+ohbwn6iWZvAY/Xdf6POOUJaervgEVKuexc9QuSUIXK7lc1gG9bT54O9+XpCF+efLwdUg9XozCjZmzjrLrYXBIV2SnRQqRQhWofD7oApojMTok+7EhZARLS1C5ALLAYcHc0HREAvgBilHJZSV1klpCmbgusB16ui/waMBpAqZTL1ladsFkDcHWVEBbsw9PhHRgU4UugrIXF8MUlZagv3Xa8qMY8AzgkACrfHh8C/+vMAjViJgFdE9LUQ8ypls4iIU3dBtgJ9KzNfBoJnsBHCWnqdkq57B2wIgBatZDyVF99gx/QpwPNvGx7cRaXlBG3LpPy+xU1L/IDaqL2vYbY+J3NU8C7wJzayqBScK9FbPzOZklCmnqfUi5LNykAgru0ZN7UPoQF+yCxYbVAiaack7lFnDx3k1O5Rfx8NJ/ikjJnF9qhyUgJaepW6N/+Is5nVkKaOkkplzncNbOCAhhdS2k3dtYnpKmDjASARALvKZ8koOPDK3n1FBbd5eS5Ik7l3uRErv770tVSdA5ZEuqE1xGt/LWFBJgNjK2l9JW1lK4IyIBXTGoAhUV3CejYjMsFpZyobOxVjf7azbt1XM4aI7cWoEMLD1xsUXUaGTogv+ietWBDEtLUEqVc5tRXQEKa2hsYaCmMm6uEds08nJltg+F+hY6CW1a18OeNBIBOB39ZsIumUjc0d+/XTunqiMo+ZF9z172buDJpoC9SN3E00Bw6Hfw3owB1oVnB3wr9DNJcJ2fdBwvDtD0f82JIrzZOzrJhUXJPyxd787ln3hb3hMkK1ul45Bt/Ja0As09JVHArsfFbQSIBeajVhtatFrK2mObzPcVenTW8pa4MCLQ4WtetxhOBpB6udPL1pvNjzfQfP2+aeXlwOKuAb348S0X9GgcsDlu09hSnA9iCl9QVNxcJ983P7qwNPdzszWnR1E3sstlIa2+Lz7iHTQJAIoH2bTzp/FgzZI/pG3tAZYP3betlcqTgT5F+XCooZdfhy46VvC4QnyHb+QPVldj2nYdJAdCqhZRXh3QhUNai8q3ejCZS45l+1ugma/HHFgAiIo0ckwLgo388TY+urWqU8L0yLVt2nK9RGiIiIrWLyXkAHlYMY1qtjpI75ZRq7qO5U07JncpvzX1K75Tze34JydvyKLpldQhJRESkHjE5DPj627t4onc7ysq0lN65T6mmXP99R/9dVq79I0/8cSp5eXloNBp69OiBxELn8/bt22RmZhIcHEy7du3qrHzHjx9HIpHw+OPiArkqbt26xdGjRykvN9x6ws3NjS5duuDv74+rq/1d2tpAo9GQkZFBUFAQ7du3r/P8TXYBikvK2L7/Yl2X5Q/Hjh07ePbZZwFYt24dU6dONRlOq9UyatQotm/fTlBQEIcPH6ZFC8uLpZzBd999R3R0tPB79Ghx1uz9+/cZMWIEO3fuNBtmwIABrFq1ivDw8DosmTE6nY5x48axZcsW/P39ycjIwMenbj3xOd0hyB+BUIXKA5i7Ye3hUW7urphUVySwL7UZz0R0YGp0D5NGzr179wq/p02bRkREBH37Gs8runbtGtu3bwfg9OnT5Obm0qdPH6f9H3McPPjA38KBAwecLgB0Ovj2p7Ok/fw7v+YWoTM1DCgBnY7/C1Wo5MCi7JTowprkGapQdQKWfL3+6FDMaJlubi7s39aKkc8FMOwZf4Nr169ft9j4Afbv309ERAT79++nf//+NSlujSguLmbLli0AXLhwgTNnzogCoKZUNv49QGRFhY6ye+YnNJ05X8SZ80XsOHiZrxOexbOJYXVUVBjOoJo6dSrp6elGb3fdQwLm4Xi1hVarNfnbWSjf28/2AzZt5SgD3gRGhSpUT2SnRDukPoYqVKHAXqB52T3z/6esTMvhrAIOZxWQ9Vsh86Y+ELb21P306dPZt28fTZs2daS4Nebh5+bh47qgIU6D+zt2blqSe/EWH36VYzVcRkYGixYtqpcbVdek7rlga+OvTgdqtvLyU6C5PRG++fEsR3Kumb1+8OBBysrKKCsr49atWyQmJgrXMjMzOX36tMOFbQjUqwaQkKbuUvV70zdZTSq05qW3m7urV/Xw5tj47yOvaB3wQ7DnaD5z/xJmNdyqVasYNGgQr7zyit15ZGVlkZOTw4kTJ2jdujU9e/YkPDzcqtqXn59PZmYmOTk53LhxA39/f555xrZ9VYqLi8nIyODEiRNcunSJ7t27ExISQkREhEVD2J4j+Xb9t2oMeSf5TDcvbw+7VJJTOVfbHNxzPsKRDH8+ms8TvdqavObu7o67u7vwOyYmhn/84x/cuqV3MXnu3DmTBtS8vDyOHz9OTk4OLi4u9OrVi7CwMGQymcWyVBkgq+o7ODiYHj160LdvX7sNjzdu3CAlJYVevXoREWFYNcXFxfzwww+cOHGCoqIiOnfuzKBBg+jXr59FY/XD1JsAqCyj4J9s5Nje1qK8UD28OdzdXXFEAPyeb7t3q2nTphEWFkbXrl1tCn/9+nUWL17M6tWrja75+/uzatUqFAqF0Y3TarV88803zJo1i8JC4661VCq1mO+OHTuYMWMGv/76q9G10aNHEx8fT0CAaU/wF+yoj4dootPp7H6ttvZxfO8Ze8p68eJFofEDdOhguJft3bt3WbNmDUql8UpkqVTK8uXLmTp1qsm63717NzExMeTkGGuTr732GvHx8XTq1Mmmcl65coXRo0ezb98+pFIpOTk5BAYGAnDo0CEmTJjA2bNnjeLFxMSQmJiIm5ttTbvBdQEcVc91OtO2wioiIyOFh6WwsJA333yTO3fuWE336tWrPPXUUyYbP+iNPyNGjCA+Pt7o2ty5c5k4caLJxg9w7575eRaffPIJzz77rMnGD5CcnEzfvn3NXq9JN8eRqDXpVVnyQL13715SU1NJTU0lKSmJcePGCdc6duxISEiIcFxeXs64ceNMNn7Q1/eMGTOYPHmykc1l48aNREVFmWz8AElJSfTr148zZ85Y/T+XL19m1KhR7Nu3T8j32jV9N6egoIBx48aZbPwAH374oYFx2BoNTgDUFt27d+fjjz8Wjrdt22bQnzSFTqdj/vz5/Pbbb8K5zp07M3nyZF588UWDsLGxsRw+/MCxTmpqKu+//75wLJVKGT58OBMnTsTPz/KuaidOnGDmzJnCccuWLYmNjWXlypUoFArhfFFRETExMTYJskeVmTNnMmzYMIYNG8bYsWM5cOCAcC0+Pp5WrR7MeP3444/ZtGmTcNymTRvGjBnDq6++SsuWLYXzSUlJbNy4UTg+c+YMMTExBvlGRUUxZcoUAwFz5coVZs+ebTQ/oToXL15k5MiRBuV86623ePLJJwG9TSM3V7/yWiqVkpyczLFjx1i2bBlSqZTAwEA6d+5sa/WIAsAehg0bxltvvSUcz58/n127dpkNf+DAAdavXy8cz5kzh+zsbD777DNSU1PJyMgQ1DqAhQsXAnrVf/bs2cL58PBwMjMz2bx5Mxs2bCAnJ4cpU6aYzTcuLg6NRu+rMygoiCNHjhAXF8fMmTPZsmUL6enpQthdu3axefNm2yuhAZGVlSVoOteuXWPOnAfuDRUKBVlZWSQlJaFSqcjKymLIkCHC9dmzZ3P7tt7p7fLly4VuRcuWLUlPT2fnzp2sX7+ezMxM4uLihHg//vgjP/1k2qt6bm4uI0aMMHgRLFmyhH/+859C9/DGjRvCNV9fX/r370+fPn2YN28e+fn5HDt2jI4dO9pcB6IAsAOJRMKCBQsYOPCBo5o33niDK1eumAyflZUl/A4LC+Pdd9/F29tbONe3b1+WL18uHG/bto3bt2/z+++/G1inExMTDd4krVq1YsWKFSZnHJaXlxs8YJGRkRw9epSkpCThU1BQwODBg4UwR44csbUKHjkmTZpEbGwssbGxKJVKA2Pav/71L1JSUgA4deqUQZdq5cqVBppWp06dWLlypXBcVFTE6dOn0Wq1BvUdFxdnULdSqZS///3vDB06VDh37Ngxk2WdOHEiGRkZwvGyZctYuHChgfEwMvLBANf58+cJCQlhzpw57Nq1Cy8vL5o1M+3KzxwNbh5AbePt7c26devo168fGo2Gs2fPGqjb1Tl+/Ljw+/nnnzc53tyvXz+D47Nnzwr9vSoetgCDXgjI5XI2bDDcOU2tVhvYDDZu3Gigrppiz549Fq8/ysyYMcNg8tbdu3f561//yhdffAHobSHDhw/n5MmTQpjIyEiTxtHg4GC6d+8udOl+++03fHx8uHjxwbSHAQOMt7ZwdXXlhRdeIDU1FbBd4N6+fdvIMBwSEkJycjJ//vOf0Wg0wtBmYmIi4eHhrFixgqioKJvShwaoAdgzBGIYz/Z15j179uSjjz4Sjn/++WeT4ar3G2/evGkyTEmJoQXby8vLQEsAKC0tNRn36lXjnbq8vLxMF9oC1VXbKhytR33cuolThYuL7ZGbNGnC+PHjheMffviBsrIygzfntWvXTBpBy8vLuX79unDs7e1tVN8P388qioqKhN+tW9vmzSguLo79+/cbnX/llVfIyclBqVTi6flg9CQjI4M//elPJuOYo940gMr6FcbRNn2T9V2FtsKs/z43d9dtw8eEWvXtX16uTUbvT84uOvl6Ww9UjfHjx7N7924+/fRTs2F6934wtLlp0ybefvttozdLcnKy8LtNmzYEBAQYPSCbNm3ijTfeMDj3yy+/sHXrVqM8O3ToQEhIiPBGGzRoEIsWLTLboFu3bm1Qzir8fb3JOXPDRAyr3JVIJL0Bu+YB3LiuaYODG7/423nvqlviPTw8kEgkBAcHC+dyc3NJT0/nueeeM4i3detWA+0qODgYHx8fwsPDBdX9q6++on///gb1ff36db7++mvh2JRGB/ruwgcffMA777zD5ct6PxozZ85k586dwkuhtLSUjIwMunXrxooVK4iNjSU9PZ2lS5cKIzobN240qYmYol67AEq5THAkGapQWXM3XFo9vDlCFar/4IAAGBTha1d4V1dX3nvvPQ4dOmR2KK1///54enqi0WgoLCwkOjqa+Ph4wsLCKC4uRqVSMX/+fCH8hAkTcHd3x8fHh1GjRvHf//4XgFmzZlFeXs7LL79M06ZNOXLkiNmhKolEwpgxY1i8eDGgV++PHTvGpEmTaNeuHYWFhaxdu5bDhw8TGxtLWJjpyU+DnvAldc8Fu+qkkq2LRnezPtZlTG6oQnUUsHsy0NMW7l1+fj5qtRrQLxQ6ePAg8+bNE64PHjwYd3d3goODCQsLE7ptkyZNIjExkaioKCoqKti5cyezZs0S4g0YMEAQ5q+++qogANasWYOXlxdTp06lbdu2nDp1ikWLFhnYdJ566imTZf3ss88YO3YsrVq1YsyYMQAcPXqUDz74QHhO/va3v7F27Vo6duxIcnIykZGRjBkzhoqKCmGIs/qokzUaog1gOfo95GyeDtylY3NixveyOyMfHx/+/e9/GxgFqxMQEEBiYiLTpk0D9DezuoGoOoGBgbz99tvC8YoVK9i9ezeFhYVoNBqmT5/O9OnTbSrX7Nmz+f7774WHcu7cucydO5ewsDBOnjwpGLsKCwsNFjxVZ+ggf7bvv2jvdOArQIzVUOaZQuVaAFsjjB0WaHYWIMBLL71kMX7VCs+mTZvy4YcfCo3z8uXLQiM0xapVq4QZhjExMWzatIlDhw4B+lGB6sbd6ixevNjsKsQqgTJ69GgmTJjAl19+CcCCBQt4+eWX6d27N/n5+hmaFy9eZPDgwbz55pt4e3sLYQFhyNAWGpwNIDslugwYBCx0cZEc85C64eHhavyRuhIU0JL/GR1M0vvPGS0EAgxmU1Xd7IcZMGAACQkJBuc8PB74yHz99dcN3hym6Ny5M59//rmBVT8gIIANGzbY7Fugep7Nmzdn/fr19OplKNSOHz9uYOnu1s2yM9+EtwYwf1pfwnu2pUlT8/Xo4eGqBlYDvRxdCASQnRKdDfQCPvOQul41mZ+HK56e7kQ+3o64OZEGC4EAu6bbLl261MBgNnDgQNatW2dxhqWnpyeff/65QSP28vLik08+MdmVqs6ECRMMNLeHy1r1vLm4uLBs2TKDe1813LxgwQKaN9fLR41Gw4oVK1i8eLEwMcjPz8+ou2gJh3cHdgL27g68KTslepQ9GSSkqdujfyuZ5M8DffGx4DX10KFDvPDCC9y6dYvvv//e7NukrKyMKVOm8NVXXzF06FA2b95sJDC2bt3KvHnzyMzMFM55enoyefJkFi1aZNYZxIULF1i4cCHffvutQeONiopi6NChwjDRjz/+aGT9LS4uJj4+njVr1hgYoaRSKbNmzSI2NtbAUGmJVdt/577W7KOiUMpl39uUkI0kpKmnod8X0IiWnm5Medr0ZKiKigomT55sceSjyi4yePBgk7aR7OxsYmNjBat9FQqFgri4OHr06GEy3eLiYpYvX87q1asN6jswMJClS5cSHR2Ni4vhOzcmJobVq1czcOBA0tLSDAzAmzdvZuTIkbRp04YdO3YIAiYrK4slS5YIXcTq5Vu6dKmBIFIX3uU/RwvMVYVOFACW3SZz/fp17t+/bzRn/GF0Oh0XLlzAz8/PrLYAesv9uXPnaNGiBV27dqVJkyaW/0QlpaWlnDt3juLiYvz8/AgICMDFxYXCwkK0Wq1FTaG8vJy8vDwuXbqEt7c33bp1s7nhV/GoCADQ9/Xz8vIoKzPcGcfFxQU/Pz+bnbUUFxdz5swZJBIJgYGBNscrKysjLy+PgoICunTpgp+fn1kjbEVFBWq1Gl9fX5PPwtWrV5FKpSbv1+XLlzl//jxarRZ/f386depkJGCsCYCGaANwKrY6aJBIJFZXigG0b9/eIddPXl5eJlXMNm2s747j7u5OUFAQQUFBduf7KOLm5ma1e2MLLVq0MGuxt4SHhwfdu3ene/fuVsO6uLiYXZAFWHxW/Pz8rE4Lt5p/jWKLiIg80ogCQESkESMKABGRRkzjFgAN37OX8/gD1VUj8MhWZzR0AWB+4TVwQ2PxskglJfe0ljYGBbC6Eb0DmL05xXfu1/ems48MN0osPuNlDV0A3ATMuqnedeqmpb3TRdC/bdOyrXr6dmTqb43S3P6r6cVVIg8ovadl39liS0HONuhhQKVcpktIUx8Dnjd1veSultXpF2nf3ANXO1aUNRZ0QH6R1e3dbgJ5tZB9JlCBGS0151IJp66U0q6Zh7hbsAnKtToKbllVzI40aAFQSRpmBEAVV61XlIh5tirlMqfr40q5rCQhTb0PeNpcmPtaHZetCygR82xr6F0AgM8Ah9a1ilhFB7xvNZTj1GbajZ0LwH8eJQGgcSSSUi67Sc1WqImYZ6VSLqtNf2JbgGSroUQcYYpSLnukjIC/1CBuEvCR1VAi9rAXWFCbGVR2Lf4KnKjNfBohi5VyWTo8WsOAux2NWPkgxQDzsTI0KGITnwMvKuUyh7Qye1DKZYVAFODUxUaNFA3wv0q5bEnViUdFAHyanRLtkLuoKpRyWYVSLlsG9AU2obcwi9jHPmCoUi57XSmXObx1kL0o5bJrwHBgHDXTBBsrZcDXQG+lXGawwvJRGAX4CZhtNZSNKOWyHGBUQpq6ORAGPA7Y5qWxcVIK/AocU8plxl5I64hKLe6bhDR1EuAHhAM9ANvWUzdOCtAPp/5iTlv7IwmA+5Uf0Bc8A0jOToneYD6K4yjlslvotxFvuD6xGyCVguBS5SelnovzyOMGhADj0atXVnffrS2yU6Jt2+5WRETEaRjMoQpVqPqjFwbRgHlPi87BwCOQiIhI3WNyEmWoQuWGfjvu8eiNL/bvNmEdUQCIiNQzVmdRhypUXsAI9MLgeZxnN7iYnRJt22bpIiIitYJdyyhCFaq2wBj0wsB25+Om+So7JXpCDdMQERGpAQ6vowpVqLqiNxyOB6x7PzRmYnZK9JfWg4mIiNQWTllIGapQhaMXBK8Btuyx9Xl2SvTrzshbRETEcZy6kjpUoXIBBqMXBqMw3uJJC3wLTM5OiRan5IqI1DO15kohVKFqgn4kIRD9zK1C4IvslOjLtZWniIiIiIiIiIiIiIg1/h8yc/XK1obqeAAAAABJRU5ErkJggg=="})})}),e&&Object(vr.jsxs)("div",{className:"flex flex-row items-center px-4",children:[Object(vr.jsx)("span",{className:"mr-4",children:e.name}),Object(vr.jsx)(jr,{icon:"sign-out-alt",tooltip:"Sign Out",onClick:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(function(){var e=Object(f.a)(b.a.mark((function e(t,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{te.deleteCookie("user_id"),t(ce())}catch(r){console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))})]})]})}}]),r}(o.a.Component),An=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={},n}return Object(x.a)(r,[{key:"render",value:function(){return Object(vr.jsxs)("div",{className:"flex flex-col w-screen h-screen",children:[Object(vr.jsx)(Vn,{}),Object(vr.jsxs)("div",{className:"flex flex-row h-full",children:[Object(vr.jsx)(Tn,{}),Object(vr.jsx)("div",{className:"flex flex-col w-full",children:Object(vr.jsx)(Zt.d,{children:Object(vr.jsx)(Zt.b,{exact:!0,path:"/main/:id",component:Ln})})})]})]})}}]),r}(o.a.Component);function Ln(){var e=Object(Zt.g)().id;return Object(vr.jsx)(wn,{id:e})}var Bn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isOptions:!1,isRename:!1,renameValue:"",isDelete:!1},n.showRenameModal=n.showRenameModal.bind(Object(Qt.a)(n)),n.hideRenameModal=n.hideRenameModal.bind(Object(Qt.a)(n)),n.renameUser=n.renameUser.bind(Object(Qt.a)(n)),n.showDeleteModal=n.showDeleteModal.bind(Object(Qt.a)(n)),n.hideDeleteModal=n.hideDeleteModal.bind(Object(Qt.a)(n)),n.deleteUser=n.deleteUser.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"showRenameModal",value:function(){this.setState({isOptions:!1,isRename:!0,renameValue:""})}},{key:"hideRenameModal",value:function(){this.setState({isRename:!1})}},{key:"renameUser",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.user,r=this.state.renameValue){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Kt.dispatch(fe(t.userId,r));case 6:this.hideRenameModal();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showDeleteModal",value:function(){this.setState({isOptions:!1,isDelete:!0})}},{key:"hideDeleteModal",value:function(){this.setState({isDelete:!1})}},{key:"deleteUser",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user,e.next=3,Kt.dispatch(de(t.userId));case 3:this.hideDeleteModal();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.user,r=this.state,n=r.isOptions,a=r.isRename,o=r.renameValue,i=r.isDelete;return Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)("div",{className:"transition duration-200 ease-in-out w-full p-4 flex justify-between bg-gray-700 text-gray-200 hover:bg-indigo-400 hover:text-indigo-100 cursor-pointer",onClick:Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(be(t.userId));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:[Object(vr.jsx)("div",{className:"w-full flex justify-center select-none",children:t.name}),Object(vr.jsx)("div",{className:"",children:Object(vr.jsx)(gn.a,{show:n,onToggle:function(t){return e.setState({isOptions:t})},children:Object(vr.jsxs)("div",{className:"relative flex flex-row-reverse",children:[Object(vr.jsx)(gn.a.Toggle,{children:function(e,t){return Object(vr.jsx)(gr,{icon:"ellipsis-v",className:"w-full flex items-center justify-center h-6 text-sm bg-transparent hover:bg-indigo-600",onClick:function(e){e.preventDefault(),e.stopPropagation(),t.toggle(!n,e)}})}}),Object(vr.jsx)(gn.a.Menu,{show:n,flip:!0,children:function(t){return Object(vr.jsx)(vr.Fragment,{children:n&&Object(vr.jsxs)("div",{className:"absolute z-20 shadow-lg w-32",style:{top:"1.5rem"},children:[Object(vr.jsx)("div",{onClick:function(t){t.preventDefault(),t.stopPropagation(),e.showRenameModal()},children:Object(vr.jsx)(Ir,{text:"Change Name",icon:"edit"})}),Object(vr.jsx)("div",{onClick:function(t){t.preventDefault(),t.stopPropagation(),e.showDeleteModal()},children:Object(vr.jsx)(Ir,{text:"Delete",icon:"trash-alt",className:"bg-red-300 text-red-700 hover:bg-red-800 hover:text-red-200"})})]})||!n&&Object(vr.jsx)("div",{className:""})})}})]})})})]}),Object(vr.jsx)(Nr,{show:a,onHide:function(){return e.hideRenameModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-row",children:[Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium",children:"Rename"}),Object(vr.jsxs)("h2",{className:"text-lg font-bold",children:["'",t.name,"'"]})]}),Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(Cr,{value:o,label:"Name",placeholder:"Enter notebook name...",onChange:function(t){return e.setState({renameValue:t.target.value})}})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(yr,{text:"Save",className:"px-2 py-1 ml-2 text-xs",onClick:this.renameUser}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideRenameModal()}})]})]})}),Object(vr.jsx)(Nr,{show:i,onHide:function(){return e.hideDeleteModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsxs)("div",{className:"mb-4 flex flex-row",children:[Object(vr.jsx)("h2",{className:"mr-1 text-lg font-medium text-red-600",children:"Delete"}),Object(vr.jsxs)("h2",{className:"text-lg font-bold text-red-600",children:["'",t.name,"'?"]})]}),Object(vr.jsx)("div",{className:"mb-4 w-full flex items-center",children:Object(vr.jsxs)("span",{className:"text-center",children:["Are you sure you want to delete the user '",t.name,"'? This action is ",Object(vr.jsx)("span",{className:"text-red-600 font-bold",children:"irreversible."})]})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(jr,{text:"Delete",className:"px-2 py-1 ml-2 text-xs",onClick:this.deleteUser}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideDeleteModal()}})]})]})})]})}}]),r}(o.a.Component),Gn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isAddingUser:!1,userName:""},n.showAddUserModal=n.showAddUserModal.bind(Object(Qt.a)(n)),n.hideAddUserModal=n.hideAddUserModal.bind(Object(Qt.a)(n)),n.addUser=n.addUser.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.dispatch(function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ee.db){e.next=3;break}throw new ReferenceError("The DBService has not been started yet.");case 3:return e.next=5,ee.db.getAllUsers();case 5:n=e.sent,t(se(n.map((function(e){return e.toObject()})))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"showAddUserModal",value:function(){this.setState({isAddingUser:!0})}},{key:"hideAddUserModal",value:function(){this.setState({isAddingUser:!1})}},{key:"addUser",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.userName){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Kt.dispatch(pe(t));case 5:this.hideAddUserModal();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.users,r=this.state,n=r.isAddingUser,a=r.userName,o=t.slice().sort((function(e,t){return e.name.localeCompare(t.name)}));return Object(vr.jsxs)("div",{className:"w-screen h-screen flex justify-center items-center bg-gray-200",children:[Object(vr.jsxs)("div",{className:"flex flex-col",children:[Object(vr.jsxs)("div",{className:"w-64 py-4 mb-4 grid gap-2 bg-gray-900",children:[Object(vr.jsx)("span",{className:"px-4 mb-2 text-xl text-gray-300",children:"Users"}),o.map((function(e,t){return Object(vr.jsx)(Bn,{user:e},t)}))]}),Object(vr.jsx)(kr,{icon:"user-plus",text:"Add User",className:"text-sm p-4 flex justify-center",onClick:this.showAddUserModal})]}),Object(vr.jsx)(Nr,{show:n,onHide:function(){return e.hideAddUserModal()},children:Object(vr.jsxs)("div",{className:"p-4 bg-gray-100 w-64",children:[Object(vr.jsx)("h2",{className:"mb-4 text-lg font-medium",children:"Create New User"}),Object(vr.jsx)("div",{className:"mb-4",children:Object(vr.jsx)(Cr,{value:a,label:"Name",placeholder:"Enter user name...",onChange:function(t){return e.setState({userName:t.target.value})}})}),Object(vr.jsxs)("div",{className:"flex flex-row-reverse",children:[Object(vr.jsx)(yr,{text:"Create",className:"px-2 py-1 ml-2 text-xs",onClick:this.addUser}),Object(vr.jsx)(gr,{text:"Cancel",className:"px-2 py-1 text-xs",onClick:function(){return e.hideAddUserModal()}})]})]})})]})}}]),r}(o.a.Component),zn=Object(_t.b)((function(e){return{users:e.user.userList}}))(Gn),Hn=function(e){Object(T.a)(r,e);var t=Object(V.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,e)).state={isDbLoading:!0},n.onDBReady=n.onDBReady.bind(Object(Qt.a)(n)),n}return Object(x.a)(r,[{key:"componentDidMount",value:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.start(Q.Offline);case 2:ee.db&&ee.db.onReady(this.onDBReady);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onDBReady",value:function(){var e=Object(f.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ee.db){e.next=3;break}return e.next=3,ee.db.seedDatabase();case 3:if(!(t=te.getCookie("user_id"))){e.next=8;break}return e.next=7,Kt.dispatch(be(t));case 7:te.setCookie("user_id",t);case 8:this.setState({isDbLoading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user;return this.state.isDbLoading?null:Object(vr.jsxs)(vr.Fragment,{children:[Object(vr.jsxs)(Zt.d,{children:[Object(vr.jsx)(Zt.b,{path:"/main",component:An}),Object(vr.jsx)(Zt.b,{path:"/users",component:zn})]}),e&&Object(vr.jsx)(Zt.a,{to:"/main"})||!e&&Object(vr.jsx)(Zt.a,{to:"/users"})]})}}]),r}(o.a.Component),Un=Object(_t.b)((function(e){return{user:e.user.currentUser}}))(Hn);o.a.Component;function qn(){return Object(vr.jsx)(Un,{})}Yt.b.add(Jt.a,Xt.a);var Wn=function e(){Object(h.a)(this,e)};Wn.NodeSpecific={PrimitiveOutput:{Description:"Outputs string, boolean, or number values"},LineChart:{Description:"Outputs a line chart",IsSmoothProperty:"If true, makes the chart lines curvy"},StackedLineChart:{Description:"Outputs a stacked line chart. Unlike Line Chart, this stacks each charted lines to each other vertically."},BarChart:{Description:"Outputs a bar chart"},HorizontalBarChart:{Description:"Outputs a bar chart on the horizontal direction"},StackedBarChart:{Description:"Outputs a stacked bar chart. Unlike Bar Chart, this groups and stacks each charted bars vertically."},ViolinPlot:{Description:"Outputs a violin plot. Great for visualizing how densely packed the data points are."},BoxPlot:{Description:"Outputs a box plot. Great for visualizing the density and outliers of the data points."},AddDataFrame:{Description:"Adds a DataFrame, Series, or number to a DataFrame, element-wise"},SubtractDataFrame:{Description:"Subtracts a DataFrame, Series, or number to a DataFrame, element-wise"},MultiplyDataFrame:{Description:"Multiplies a DataFrame, Series, or number to a DataFrame, element-wise"},DivideDataFrame:{Description:"Divide a DataFrame, Series, or number to a DataFrame, element-wise. Remember not to divide by zero!"},ModDataFrame:{Description:"Applies the Modulo operation from a DataFrame, Series, or number to a DataFrame, element-wise"},PowerDataFrame:{Description:"Applies the Exponent operation from a DataFrame, Series, or number to a DataFrame, element-wise"},AbsoluteDataFrame:{Description:"Applies the Absolute operation to a DataFrame, element-wise"},RoundDataFrame:{Description:"Rounds the values in a DataFrame, element-wise"},RandomLabels:{Description:"Generates a randomized Series of values based on the provided seed and an array of label values",LabelsOutput:"The resulting randomized Series of values",LabelsProperty:"Specifies all possible unique values that this random Series will generate. Each unique value must be separated by a comma."},RandomData:{Description:"Generates a randomized DataFrame of values based on the provided seed, and the minimum and maximum values for each column",DataOutput:"The resulting randomized DataFrame of values",ColumnNamesProperty:"Specifies the column names of the resulting Series. Each column name must be separated by a comma, and number of column names must equal the number of min-max values. Defaults to 'Data_1', 'Data_2', and so on if no column name is specified.",MinMaxProperty:"Specifies the minimum and maximum values that each data column can generate. Each min-max pair must be formatted as 'min:max' and separated by a comma. Here is an example: 0:100, -100:42, 12:234",IsIntegersProperty:"If true, the numbers generated will be integers instead of decimals"},ARange:{Description:"Generates a Series of consecutive numbers based on the provided start, stop, and step values",ARangeOutput:"The resulting Series of consecutive numbers",StartProperty:"The starting value of the Series. Can be bigger than the stop value.",StopProperty:"The stopping value of the Series. This value is not included in the generated Series. Can be smaller than the start value.",StepProperty:"Specifies the gap size between each value"},DescribeDataFrame:{Description:"Describes each of the columns of the given DataFrame in terms of count, mean, standard deviation, min, median, and max values, and variance"},Histogram:{Description:"Creates a histogram of the given Series",LabelsOutput:"The labels (x-axis) Series of the resulting histogram",CountOutput:"The count (y-axis) Series of the resulting histogram",NameProperty:"The column name of the resulting count Series for charting purposes",BinsProperty:"Specifies the amount of bins that this histogram will have"},HeadDataFrame:{Description:"Shows the first few rows of a DataFrame, as specified by the rowCount property"},TailDataFrame:{Description:"Shows the last few rows of a DataFrame, as specified by the rowCount property"},CountDataFrame:{Description:"Counts the amount of rows or columns in a DataFrame",CountRowsOutput:"Returns how many rows the DataFrame has",CountColumnsOutput:"Returns how many columns the DataFrame has"},GroupByDataFrame:{Description:"Groups rows based on the given columns and key values",KeysProperty:"Specifies the values to be used for grouping within the specified columns. Each key value must be separated by a comma."},GroupCountDataFrame:{Description:"Groups rows and returns the size of each grouping",IsPercentProperty:"If true, returns each count as a percentage of the total count"},GroupCumMaxDataFrame:{Description:"Groups rows and returns the cumulative maximum over the selected columns"},GroupCumMinDataFrame:{Description:"Groups rows and returns the cumulative minimum over the selected columns"},GroupCumSumDataFrame:{Description:"Groups rows and returns the cumulative sum over the selected columns"},GroupCumProdDataFrame:{Description:"Groups rows and returns the cumulative product over the selected columns"},GroupMeanDataFrame:{Description:"Groups rows and returns the mean of the values within each group over the selected columns"},GroupSumDataFrame:{Description:"Groups rows and returns the sum of the values within each group over the selected columns"},GroupMaxDataFrame:{Description:"Groups rows and returns the max of the values within each group over the selected columns"},GroupMinDataFrame:{Description:"Groups rows and returns the min of the values within each group over the selected columns"},GroupStdDataFrame:{Description:"Groups rows and returns the standard deviation of the values within each group over the selected columns"},GroupVarDataFrame:{Description:"Groups rows and returns the variance of the values within each group over the selected columns"},MapDataFrame:{Description:"Changes specified values within the specified columns into another value",ColumnProperty:"Specifies the column over which to map the values",MappingsProperty:"Specifies the value mapping desired. Each mapping pair must be formatted as 'oldvalue:newvalue' and separated by a comma. A value of '$mean' specifies that the mapped value is the average value over the column. Here is an example: Work:work, light:0, price:$mean",ReplaceColumnProperty:"If true, replaces the selected column with the new column. Otherwise, creates another column at the end of the DataFrame."},RenameColumns:{Description:"Renames the columns of the DataFrame"},RemoveColumns:{Description:"Removes the specified columns from the DataFrame"},FillNaDataFrame:{Description:"Fills undefined, null, NaN, or empty string values with the specified values per column",MappingsProperty:"Specifies the value mapping desired. Each mapping pair must be formatted as 'column:value' and separated by a comma. A value of '$mean' specifies that the fill-in value is the average value over the column. Here is an example: Col1:apple, Col2:mean, Col3:1"},SortDataFrame:{Description:"Sorts the DataFrame by the specified column",SortByColumnProperty:"The column to sort by",IsAscendingProperty:"If true, the sorting will be in ascending order, and descending order otherwise"},MergeDataFrames:{Description:"Merges the columns of the left and right DataFrames based on the join type. Follows the SQL merge operation.",LeftInput:"The left DataFrame or Series of this merging operation",RightInput:"The right DataFrame or Series of this merging operation",OnColumnsProperty:"Specifies the columns over which to merge the DataFrames together",JoinTypeProperty:"Specifies the type of join to be used for the merge operation. Possible values are: left, right, outer, inner"},AppendDataFrame:{Description:"Appends the rows of the 2nd DataFrame to the bottom of the 1st DataFrame",Input1Input:"The DataFrame to append to and is the resulting DataFrame",Input2Input:"The DataFrame to be appended to the 1st DataFrame"},DataFrameOutput:{Description:"Outputs a DataFrame or Series",Input:"The DataFrame or Series to be outputted",RowCountProperty:"Specifies the number of rows from the head of the DataFrame or Series to show. Set to 0 to show all the data."},DataFrameLoc:{Description:"Queries and filters the DataFrame through either the column values or row values",ColumnsProperty:"Specifies the columns to include. Must be written either as a list of column names or as a single start-end slice. The list of column names must be separated by commas. The start-end slice must be formatted as 'start:end'.",RowsProperty:"Specifies the rows to include. Must be written in a condition format 'Column <condition> value'. Valid conditions are less than (<), greater than (>), less than equal (<=), greater than equal (>=), equal (==), not equal (!=), contains (has), starts with (start), and ends with (end). Here is an example: Age <= 50",ResetIndexProperty:"If true, row indices do not carry over from the previous DataFrame"},DataFrameiLoc:{Description:"Queries and filters the DataFrame through either the column index or row index",ColumnsProperty:"Specifies the columns to include. Must be written either as a list of column index numbers or as a single start-end slice. The list of column index numbers must be separated by commas. The start-end slice must be formatted as 'start:end' and contain only numbers.",RowsProperty:"Specifies the rows to include. Must be written either as a list of row index numbers or as a single start-end slice. The list of row index numbers must be separated by commas. The start-end slice must be formatted as 'start:end' and contain only numbers."},GetNumericalColumns:{Description:"Returns a DataFrame containing only the numerical columns of the provided DataFrame"},CountSeries:{Description:"Counts the amount of values in a Series",SkipNullProperty:"If true, does not include null values into the count. Otherwise, includes everything into the count."},CumMaxSeries:{Description:"Calculates the cumulative maximum over a Series"},CumMinSeries:{Description:"Calculates the cumulative minimum over a Series"},CumSumSeries:{Description:"Calculates the cumulative sum over a Series"},CumProdSeries:{Description:"Calculates the cumulative product over a Series"},MaxSeries:{Description:"Calculates the maximum value in a Series"},MinSeries:{Description:"Calculates the minimum value in a Series"},MeanSeries:{Description:"Calculates the mean (average) of a Series"},MedianSeries:{Description:"Calculates the median of a Series"},ModeSeries:{Description:"Calculates the mode of a Series"},SumSeries:{Description:"Calculates the sum of a Series"},StdSeries:{Description:"Calculates the standard deviation of a Series"},VarSeries:{Description:"Calculates the variance of a Series"},NUniqueSeries:{Description:"Counts the unique values in a Series"},DataFrameToSeries:{Description:"Converts a DataFrame to a Series based on the specified column",ColumnProperty:"Specifies a column from the DataFrame"},SeriesToDataFrame:{Description:"Converts a Series to a DataFrame"},AddNumbers:{Description:"Adds two numbers",Addend1Input:"The number to add to",Addend2Input:"The number to add by"},SubtractNumbers:{Description:"Subtracts two numbers",MinuendInput:"The number to subtract from",SubtrahendInput:"The number to subtract by"},MultiplyNumbers:{Description:"Multiplies two numbers",MultiplicandInput:"The number to multiply to",MultiplierInput:"The number to multiply by"},DivideNumbers:{Description:"Divides two numbers",DividendInput:"The number to divide from",DivisorInput:"The number to divide by. Cannot be zero."},ModuloNumbers:{Description:"Returns the remainder from the division of two numbers",DividendInput:"The number to divide from",DivisorInput:"The number to divide by. Cannot be zero."},PowerNumbers:{Description:"Exponentiates two numbers",BaseInput:"The base number to exponentiate",ExponentInput:"The exponent number"},SqrtNumber:{Description:"Returns the square root of a number"},LogNumbers:{Description:"Logarithmize two numbers",BaseInput:"The base number of the logarithm",NumberInput:"The number to logarithmize"},AbsNumber:{Description:"Returns the absolute value of a number"},InvertNumber:{Description:"Returns the sign-inverted value of a number"},FloorNumber:{Description:"Returns the nearest integer lower or equal to the number"},RoundNumber:{Description:"Returns the given number rounded to the nearest integer"},CeilingNumber:{Description:"Returns the nearest integer higher or equal to the number"},RandomNumber:{Description:"Returns a random number between the specified minimum and maximum values",MinProperty:"Specifies the minimum value to be generated",MaxProperty:"Specifies the maximum value to be generated, not including this value"},PiConstant:{Description:"Returns the pi constant",Output:"The pi constant"},EConstant:{Description:"Returns the natural log (e) constant",Output:"The natural log (e) constant"},EulerConstant:{Description:"Returns the Euler's constant",Output:"The Euler's constant"},Root2Constant:{Description:"Returns the square root of 2 constant",Output:"The square root of 2 constant"},GoldenRatioConstant:{Description:"Returns the golden ratio constant",Output:"The golden ratio constant"},SineNumber:{Description:"Returns the sine of the number"},CosineNumber:{Description:"Returns the cosine of the number"},TangentNumber:{Description:"Returns the tangent of the number"},ArcSineNumber:{Description:"Returns the arcsine of the number"},ArcCosineNumber:{Description:"Returns the arccosine of the number"},ArcTangentNumber:{Description:"Returns the arctangent of the number"},CosecantNumber:{Description:"Returns the cosecant of the number"},SecantNumber:{Description:"Returns the secant of the number"},CotangentNumber:{Description:"Returns the cotangent of the number"}},Wn.Common={InputValueToOutput:"The value to be outputted",OutputOrderProperty:"Determines the order that output nodes are evaluated and shown on the Output section. The lower the value, the earlier an output node is evaluated.",ResultOutput:"The result of the operation",DataFrameInput:"The DataFrame to operate on",SeriesInput:"The Series to operate on",Chart:{LabelsInput:"The labels shown on the x-axis. Can be either numbers or strings.",DataInput:"The data to be charted. All DataFrame or Series columns must consist only of numerical values. Use a Dataframe Loc node to pick the data columns to be charted.",DataWithLabelInput:"The data to be charted. Exactly one column used for labelling is also required. All other columns must consist only of numerical values. Use a Dataframe Loc node to pick the data columns to be charted.",TitleProperty:"Specifies the title of the chart",LabelsColumnProperty:"Specifies the column to be used for labelling",IgnoreDenseLabelsProperty:"If true, turns off the error warning about too many labels (> 30) if it is intentional. However, the chart may grow to be too crowded."},DataFrame:{Input1Input:"The DataFrame to be modified and outputted",RowCountProperty:"Specifies how many rows to generate"},DataFrameBinary:{Input2Input:"The DataFrame, Series, or number doing the modification",IsRowAxisProperty:"Used only when input2 is a Series. If true, the operation is applied along the row axis, but column axis otherwise."},DataFrameDataGen:{SeedInput:"Specifies the seed for generating the same sequence of values. If left empty, it will instead produce different sequences of values.",ColumnNameProperty:"Specifies the column name of the resulting Series"},DataFrameDescriptive:{DataFrameOutput:"The resulting DataFrame",ColumnProperty:"Specifies the column to be operated on in the given DataFrame"},DataFrameGrouping:{GroupColumnsProperty:"Specifies the label columns that the DataFrame will be grouped by. Each column name must be separated by a comma.",TargetColumnsProperty:"Specifies the target data columns to apply this operation on after the grouping. Each column name must be separated by a comma."},DataFrameModify:{MappingsProperty:"Specifies the value mapping desired. Each mapping pair must be formatted as 'oldvalue:newvalue' and separated by a comma. Here is an example: Work:work, Price:Cost, light:0",ColumnsProperty:"Specifies the columns to operate on. Each column name must be separated by a comma."},Math:{InputNumber:"The number to operate on"}};var Kn=function e(){Object(h.a)(this,e)};Kn.MissingNodeProperties="Somehow, the properties of this node are missing.",Kn.MissingNodeInput=function(e){return"The input '".concat(e,"' of this node is missing. Perhaps this input is not connected?")},Kn.EmptyNodePropertyNoEffect=function(e){return"The property '".concat(e,"' of this node is empty, making this node have no effect.")},Kn.EmptyArray=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return"The ".concat(t," '").concat(e,"' is empty and might not have any effect.")},Kn.ValueNotExists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return"The ".concat(t," '").concat(e,"' does not exist.")},Kn.ValueExists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return"The ".concat(t," '").concat(e,"' already exists.")},Kn.CannotBeEmpty=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return"The ".concat(t," '").concat(e,"' cannot be empty.")},Kn.NumberCannotBeZero=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return"The ".concat(t," '").concat(e,"' cannot be zero.")},Kn.NumberCannotBeNegative=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return"The ".concat(t," '").concat(e,"' cannot be negative.")},Kn.NumberCannotBeZeroOrNegative=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return"The ".concat(t," '").concat(e,"' cannot be zero or negative.")},Kn.ArrayLengthsNotEqual=function(e,t){return"The length of '".concat(e,"' is not the same as the length of '").concat(t,"'.")},Kn.ColumnValueWrongType=function(e,t,r){return"The value '".concat(t,"' of column '").concat(e,"' is of the wrong type, should be '").concat(r,"'.")},Kn.DataFrameNullColumnsCannotDescribe=function(e){return"Could not describe this DataFrame, it contains null values on these columns: [".concat(e,"]")},Kn.DataFrameNumericalColumnsOnly=function(e,t){return"The columns [".concat(t,"] of the input '").concat(e,"' are not allowed for this operation. Perhaps use the 'Get Numerical Columns' Query node to filter out non-numerical columns?")},Kn.DataFrameOnlyOneNonNumericalColumn=function(e,t){return"The dataframe '".concat(e,"' cannot have more than one non-numerical column. The columns [").concat(t,"] are found to be non-numerical.")},Kn.DataFrameMismatchShape=function(e,t,r,n){return"The dataframe '".concat(r,"' with shape [").concat(n,"] does not match the dataframe '").concat(e,"' with shape [").concat(t,"].")},Kn.DataFrameSeriesMismatchShape=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"column";return"The series '".concat(r,"' of length ").concat(n," does not match the dataframe '").concat(e,"' with ").concat(t," ").concat(a,"s. Maybe the 'isRowAxis' property is not correct?")},Kn.DenseUniqueLabels=function(e){return"The column '".concat(e,"' may have too many unique labels (> 30). If this is intended, turn on 'ignoreDenseLabels' on the node properties.")},Kn.DoesNotMatchPattern=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value";return"The ".concat(r," '").concat(e,"' with value '").concat(t,"' does not match the pattern.")},Kn.MinCannotBeGreaterThanMax=function(e){return"For the min-max pair '".concat(e,"', the min value cannot be greater than the max value.")},Kn.InvalidStartStopStepConfig=function(e,t,r){return"The start of '".concat(e,"', stop of '").concat(t,"', and step of '").concat(r,"' is an invalid configuration.")};var Yn=function(){function e(){Object(h.a)(this,e)}return Object(x.a)(e,null,[{key:"mod",value:function(e,t){return(e%t+t)%t}},{key:"toDecimal",value:function(e,t){return Number("".concat(Math.round(Number("".concat(e,"e+").concat(t))),"e-").concat(t))}}]),e}(),Jn={id:"add-numbers",name:"Add Numbers",description:Wn.NodeSpecific.AddNumbers.Description,style:{width:130},inputSlots:[{id:"addend1",description:Wn.NodeSpecific.AddNumbers.Addend1Input,type:w.Number},{id:"addend2",description:Wn.NodeSpecific.AddNumbers.Addend2Input,type:w.Number}],outputSlots:[{id:"sum",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.addend1)&&n.error(Kn.MissingNodeInput("addend1")),ar.isEmpty(t.addend2)&&n.error(Kn.MissingNodeInput("addend2")),!ar.isEmpty(t.addend1)&&!ar.isEmpty(t.addend2)){e.next=9;break}return e.abrupt("return",{});case 9:return a=t.addend1,o=t.addend2,i=a+o,e.abrupt("return",{sum:i});case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Xn={id:"subtract-numbers",name:"Subtract Numbers",description:Wn.NodeSpecific.SubtractNumbers.Description,style:{width:150},inputSlots:[{id:"minuend",description:Wn.NodeSpecific.SubtractNumbers.MinuendInput,type:w.Number},{id:"subtrahend",description:Wn.NodeSpecific.SubtractNumbers.SubtrahendInput,type:w.Number}],outputSlots:[{id:"difference",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.minuend)&&n.error(Kn.MissingNodeInput("minuend")),ar.isEmpty(t.subtrahend)&&n.error(Kn.MissingNodeInput("subtrahend")),!ar.isEmpty(t.minuend)&&!ar.isEmpty(t.subtrahend)){e.next=9;break}return e.abrupt("return",{});case 9:return a=t.minuend,o=t.subtrahend,i=a-o,e.abrupt("return",{difference:i});case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Zn={id:"multiply-numbers",name:"Multiply Numbers",description:Wn.NodeSpecific.MultiplyNumbers.Description,style:{width:150},inputSlots:[{id:"multiplicand",description:Wn.NodeSpecific.MultiplyNumbers.MultiplicandInput,type:w.Number},{id:"multiplier",description:Wn.NodeSpecific.MultiplyNumbers.MultiplierInput,type:w.Number}],outputSlots:[{id:"product",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.multiplicand)&&n.error(Kn.MissingNodeInput("multiplicand")),ar.isEmpty(t.multiplier)&&n.error(Kn.MissingNodeInput("multiplier")),!ar.isEmpty(t.multiplicand)&&!ar.isEmpty(t.multiplier)){e.next=9;break}return e.abrupt("return",{});case 9:return a=t.multiplicand,o=t.multiplier,i=a*o,e.abrupt("return",{product:i});case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Qn={id:"divide-numbers",name:"Divide Numbers",description:Wn.NodeSpecific.DivideNumbers.Description,style:{width:150},inputSlots:[{id:"dividend",description:Wn.NodeSpecific.DivideNumbers.DividendInput,type:w.Number},{id:"divisor",description:Wn.NodeSpecific.DivideNumbers.DivisorInput,type:w.Number}],outputSlots:[{id:"quotient",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.dividend)&&n.error(Kn.MissingNodeInput("dividend")),ar.isEmpty(t.divisor)&&n.error(Kn.MissingNodeInput("divisor")),!ar.isEmpty(t.dividend)&&!ar.isEmpty(t.divisor)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.dividend,0!==(o=t.divisor)){e.next=14;break}return n.error(Kn.NumberCannotBeZero("divisor","input")),e.abrupt("return",{});case 14:return i=a/o,e.abrupt("return",{quotient:i});case 16:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},_n={id:"modulo-numbers",name:"Modulo Numbers",description:Wn.NodeSpecific.ModuloNumbers.Description,style:{width:150},inputSlots:[{id:"dividend",description:Wn.NodeSpecific.ModuloNumbers.DividendInput,type:w.Number},{id:"divisor",description:Wn.NodeSpecific.ModuloNumbers.DivisorInput,type:w.Number}],outputSlots:[{id:"modulo",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.dividend)&&n.error(Kn.MissingNodeInput("dividend")),ar.isEmpty(t.divisor)&&n.error(Kn.MissingNodeInput("divisor")),!ar.isEmpty(t.dividend)&&!ar.isEmpty(t.divisor)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.dividend,0!==(o=t.divisor)){e.next=14;break}return n.error(Kn.NumberCannotBeZero("divisor","input")),e.abrupt("return",{});case 14:return i=Yn.mod(a,o),e.abrupt("return",{modulo:i});case 16:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},$n={id:"power-numbers",name:"Power Numbers",description:Wn.NodeSpecific.PowerNumbers.Description,style:{width:150},inputSlots:[{id:"base",description:Wn.NodeSpecific.PowerNumbers.BaseInput,type:w.Number},{id:"exponent",description:Wn.NodeSpecific.PowerNumbers.ExponentInput,type:w.Number}],outputSlots:[{id:"power",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.base)&&n.error(Kn.MissingNodeInput("base")),ar.isEmpty(t.exponent)&&n.error(Kn.MissingNodeInput("exponent")),!ar.isEmpty(t.base)&&!ar.isEmpty(t.exponent)){e.next=9;break}return e.abrupt("return",{});case 9:return a=t.base,o=t.exponent,i=Math.pow(a,o),e.abrupt("return",{power:i});case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ea={id:"sqrt-number",name:"Square Root Number",description:Wn.NodeSpecific.SqrtNumber.Description,style:{width:150},inputSlots:[{id:"radicand",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"sqrt",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.radicand)){e.next=8;break}return n.error(Kn.MissingNodeInput("radicand")),e.abrupt("return",{});case 8:return a=t.radicand,o=Math.sqrt(a),e.abrupt("return",{sqrt:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ta={id:"log-numbers",name:"Log Numbers",description:Wn.NodeSpecific.LogNumbers.Description,style:{width:150},inputSlots:[{id:"base",description:Wn.NodeSpecific.LogNumbers.BaseInput,type:w.Number},{id:"number",description:Wn.NodeSpecific.LogNumbers.NumberInput,type:w.Number}],outputSlots:[{id:"log",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.base)&&n.error(Kn.MissingNodeInput("base")),ar.isEmpty(t.number)&&n.error(Kn.MissingNodeInput("number")),!ar.isEmpty(t.base)&&!ar.isEmpty(t.number)){e.next=9;break}return e.abrupt("return",{});case 9:return a=t.base,o=t.number,i=Math.log(o)/Math.log(a),e.abrupt("return",{log:i});case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ra={id:"abs-number",name:"Absolute Number",description:Wn.NodeSpecific.AbsNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"abs",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=Math.abs(a),e.abrupt("return",{abs:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},na={id:"invert-number",name:"Invert Number",description:Wn.NodeSpecific.InvertNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"invert",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=-1*a,e.abrupt("return",{invert:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},aa={id:"floor-number",name:"Floor Number",description:Wn.NodeSpecific.FloorNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"floor",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=Math.floor(a),e.abrupt("return",{floor:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},oa={id:"round-number",name:"Round Number",description:Wn.NodeSpecific.RoundNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"round",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=Math.round(a),e.abrupt("return",{round:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ia={id:"ceiling-number",name:"Ceiling Number",description:Wn.NodeSpecific.CeilingNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"ceiling",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=Math.ceil(a),e.abrupt("return",{ceiling:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},sa={id:"random-number",name:"Random Number",description:Wn.NodeSpecific.RandomNumber.Description,style:{width:150},properties:[{id:"min",description:Wn.NodeSpecific.RandomNumber.MinProperty,type:"number",defaultValue:0},{id:"max",description:Wn.NodeSpecific.RandomNumber.MaxProperty,type:"number",defaultValue:1}],outputSlots:[{id:"random",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:return a=r.min,o=r.max,i=Math.random()*(o-a)+a,e.abrupt("return",{random:i});case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ua={id:"pi-constant",name:"Pi (\u03c0)",description:Wn.NodeSpecific.PiConstant.Description,style:{width:100},outputSlots:[{id:"pi",description:Wn.NodeSpecific.PiConstant.Output,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:return e.abrupt("return",{pi:Math.PI});case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ca={id:"e-constant",name:"Natural Log (e)",description:Wn.NodeSpecific.EConstant.Description,style:{width:100},outputSlots:[{id:"e",description:Wn.NodeSpecific.EConstant.Output,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:return e.abrupt("return",{e:Math.E});case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},la={id:"euler-constant",name:"Euler's Constant",description:Wn.NodeSpecific.EulerConstant.Description,style:{width:100},outputSlots:[{id:"euler",description:Wn.NodeSpecific.EulerConstant.Output,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:return e.abrupt("return",{euler:.5772156649015329});case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},pa={id:"root2-constant",name:"Square Root of 2",description:Wn.NodeSpecific.Root2Constant.Description,style:{width:100},outputSlots:[{id:"root2",description:Wn.NodeSpecific.Root2Constant.Output,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:return e.abrupt("return",{root2:1.4142135623730951});case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},da={id:"golden-ratio-constant",name:"Golden Ratio (\u03a6)",description:Wn.NodeSpecific.GoldenRatioConstant.Description,style:{width:100},outputSlots:[{id:"goldenRatio",description:Wn.NodeSpecific.GoldenRatioConstant.Output,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:return e.abrupt("return",{goldenRatio:1.618033988749895});case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ba={id:"sine-number",name:"Sine",description:Wn.NodeSpecific.SineNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"sine",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=Math.sin(a),e.abrupt("return",{sine:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},fa={id:"cosine-number",name:"Cosine",description:Wn.NodeSpecific.CosineNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"cosine",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=Math.cos(a),e.abrupt("return",{cosine:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ma={id:"tangent-number",name:"Tangent",description:Wn.NodeSpecific.TangentNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"tangent",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=Math.tan(a),e.abrupt("return",{tangent:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ha={id:"arc-sine-number",name:"ArcSine",description:Wn.NodeSpecific.ArcSineNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"arcsine",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=Math.asin(a),e.abrupt("return",{arcsine:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},xa={id:"arc-cosine-number",name:"ArcCosine",description:Wn.NodeSpecific.ArcCosineNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"arccosine",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=Math.acos(a),e.abrupt("return",{arccosine:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},va={id:"arc-tangent-number",name:"ArcTangent",description:Wn.NodeSpecific.ArcTangentNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"arctangent",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=Math.atan(a),e.abrupt("return",{arctangent:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ya={id:"cosecant-number",name:"Cosecant",description:Wn.NodeSpecific.CosecantNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"cosecant",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=1/Math.sin(a),e.abrupt("return",{cosecant:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ga={id:"secant-number",name:"Secant",description:Wn.NodeSpecific.SecantNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"secant",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=1/Math.cos(a),e.abrupt("return",{secant:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ja={id:"cotangent-number",name:"Cotangent",description:Wn.NodeSpecific.CotangentNumber.Description,style:{width:150},inputSlots:[{id:"number",description:Wn.Common.Math.InputNumber,type:w.Number}],outputSlots:[{id:"cotangent",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.number)){e.next=8;break}return n.error(Kn.MissingNodeInput("number")),e.abrupt("return",{});case 8:return a=t.number,o=1/Math.tan(a),e.abrupt("return",{cotangent:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ka={id:"math",name:"Math Nodes Collection",description:"",nodeGroups:[{name:"Constants",types:[ua,ca,la,pa,da]},{name:"Trigonometry",types:[ba,fa,ma,ha,xa,va,ya,ga,ja]},{name:"Operators",types:[Jn,Xn,Zn,Qn,_n,$n,ea,ta,ra,na,aa,oa,ia,sa]}]},wa={id:"primitive-output",name:"Primitive Output",description:Wn.NodeSpecific.PrimitiveOutput.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.InputValueToOutput,type:w.OR(w.String,w.Number,w.Boolean)}],properties:[{id:"outputOrder",description:Wn.Common.OutputOrderProperty,type:"number"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.input&&r){e.next=2;break}return e.abrupt("return",{});case 2:if((n=typeof t.input)!==w.String&&n!==w.Number&&n!==w.Boolean){e.next=6;break}return a={type:"primitive",outputOrder:r.outputOrder,output:t.input},e.abrupt("return",a);case 6:return e.abrupt("return",{});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Oa=(w.OR(w.String,w.Number,w.Boolean),Wn.Common.OutputOrderProperty,function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a,o,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.input&&r){e.next=2;break}return e.abrupt("return",{});case 2:if((n=typeof t.input)!==w.String&&n!==w.Number&&n!==w.Boolean){e.next=9;break}if(a="".concat(t.input),r.isWackyOutput){for(o=a,a="",i=0;i<r.repetitionAmount;i++)a+="".concat(o,"\n");a+="".concat(r.finalOutput)}return s={type:"primitive",outputOrder:r.outputOrder,output:a},e.abrupt("return",s);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e)})))}(),{id:"csv-source",name:"CSV Source",style:{width:120},outputSlots:[{id:"output",type:w.DataFrame}],properties:[{id:"sourceId",type:"string",isHidden:!0}],isHiddenFromList:!0,nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{});case 2:return n=r.sourceId,a=new U(n),e.next=6,a.loadToDf();case 6:if(e.sent&&a.df){e.next=9;break}return e.abrupt("return",{});case 9:return e.abrupt("return",{output:a.df});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}),Na={id:"string-variable-getter",name:"Get String",style:{width:120},outputSlots:[{id:"output",type:w.String}],properties:[{id:"variableId",type:"string",isHidden:!0}],isHiddenFromList:!0,nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{});case 2:if(n=r.variableId,null!=(a=pr.getVariable(n))){e.next=6;break}return e.abrupt("return",{});case 6:return e.abrupt("return",{output:a});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Ca={id:"string-variable-setter",name:"Set String",style:{width:120},inputSlots:[{id:"input",type:w.String}],properties:[{id:"variableId",type:"string",isHidden:!0}],isHiddenFromList:!0,nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{result:!1});case 2:return n=t.input,a=r.variableId,pr.setVariable(a,n),e.abrupt("return",{result:!0});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Sa={id:"number-variable-getter",name:"Get Number",style:{width:120},outputSlots:[{id:"output",type:w.Number}],properties:[{id:"variableId",type:"string",isHidden:!0}],isHiddenFromList:!0,nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{});case 2:if(n=r.variableId,null!=(a=pr.getVariable(n))){e.next=6;break}return e.abrupt("return",{});case 6:return e.abrupt("return",{output:a});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Da={id:"number-variable-setter",name:"Set Number",style:{width:120},inputSlots:[{id:"input",type:w.Number}],properties:[{id:"variableId",type:"string",isHidden:!0}],isHiddenFromList:!0,nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{result:!1});case 2:return n=t.input,a=r.variableId,pr.setVariable(a,n),e.abrupt("return",{result:!0});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Ia={id:"boolean-variable-getter",name:"Get Boolean",style:{width:120},outputSlots:[{id:"output",type:w.Boolean}],properties:[{id:"variableId",type:"string",isHidden:!0}],isHiddenFromList:!0,nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{});case 2:if(n=r.variableId,null!=(a=pr.getVariable(n))){e.next=6;break}return e.abrupt("return",{});case 6:return e.abrupt("return",{output:a});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Ma={id:"boolean-variable-setter",name:"Set Boolean",style:{width:120},inputSlots:[{id:"input",type:w.Boolean}],properties:[{id:"variableId",type:"string",isHidden:!0}],isHiddenFromList:!0,nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{result:!1});case 2:return n=t.input,a=r.variableId,pr.setVariable(a,n),e.abrupt("return",{result:!0});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Ra={id:"DataFrame-variable-getter",name:"Get DataFrame",style:{width:120},outputSlots:[{id:"output",type:w.DataFrame}],properties:[{id:"variableId",type:"string",isHidden:!0}],isHiddenFromList:!0,nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{});case 2:if(n=r.variableId,null!=(a=pr.getVariable(n))){e.next=6;break}return e.abrupt("return",{});case 6:return e.abrupt("return",{output:a});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Fa={id:"DataFrame-variable-setter",name:"Set DataFrame",style:{width:120},inputSlots:[{id:"input",type:w.DataFrame}],properties:[{id:"variableId",type:"string",isHidden:!0}],isHiddenFromList:!0,nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{result:!1});case 2:return n=t.input,a=r.variableId,pr.setVariable(a,n),e.abrupt("return",{result:!0});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Ea={id:"Series-variable-getter",name:"Get Series",style:{width:120},outputSlots:[{id:"output",type:w.Series}],properties:[{id:"variableId",type:"string",isHidden:!0}],isHiddenFromList:!0,nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{});case 2:if(n=r.variableId,null!=(a=pr.getVariable(n))){e.next=6;break}return e.abrupt("return",{});case 6:return e.abrupt("return",{output:a});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Pa={id:"Series-variable-setter",name:"Set Series",style:{width:120},inputSlots:[{id:"input",type:w.Series}],properties:[{id:"variableId",type:"string",isHidden:!0}],isHiddenFromList:!0,nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{result:!1});case 2:return n=t.input,a=r.variableId,pr.setVariable(a,n),e.abrupt("return",{result:!0});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Ta={id:"base",name:"Base Nodes Collection",description:"",nodeGroups:[{name:"",types:[wa,Oa]},{name:"Variables",types:[Na,Ca,Sa,Da,Ia,Ma,Ra,Fa,Ea,Pa]}]},Va=r(59),Aa=r.n(Va),La={id:"line-chart-output",name:"Line Chart",description:Wn.NodeSpecific.LineChart.Description,style:{width:120},inputSlots:[{id:"labels",description:Wn.Common.Chart.LabelsInput,type:w.Series},{id:"data",description:Wn.Common.Chart.DataInput,type:w.OR(w.DataFrame,w.Series)}],properties:[{id:"outputOrder",description:Wn.Common.OutputOrderProperty,type:"number"},{id:"title",description:Wn.Common.Chart.TitleProperty,type:"string"},{id:"isSmooth",description:Wn.NodeSpecific.LineChart.IsSmoothProperty,type:"boolean",defaultValue:!0}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.labels)&&n.error(Kn.MissingNodeInput("labels")),ar.isEmpty(t.data)&&n.error(Kn.MissingNodeInput("data")),!ar.isEmpty(t.labels)&&!ar.isEmpty(t.data)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.labels,o=t.data,i=r.title,s=r.isSmooth,a.shape[0]<=0&&n.error(Kn.EmptyArray("labels","property")),o.shape[0]<=0&&n.error(Kn.EmptyArray("data","property")),!(a.shape[0]<=0||o.shape[0]<=0)){e.next=17;break}return e.abrupt("return",{});case 17:if(u=[],!((u=o instanceof G.a?o.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return o.columns[t]})).filter((function(e){return!!e})):"string"===o.dtype||"boolean"===o.dtype?["Series"]:[]).length>0)){e.next=22;break}return n.error(Kn.DataFrameNumericalColumnsOnly("input2",u)),e.abrupt("return",{});case 22:return c={type:"chart",outputOrder:r.outputOrder,chartType:"multi-line",title:i,labels:a.values,data:o instanceof Aa.a?[o.values]:o.getColumnData,dataLabels:o.columns,options:{isSmooth:s}},e.abrupt("return",c);case 24:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Ba={id:"stacked-line-chart-output",name:"Stacked Line Chart",description:Wn.NodeSpecific.StackedLineChart.Description,style:{width:120},inputSlots:[{id:"labels",description:Wn.Common.Chart.LabelsInput,type:w.Series},{id:"data",description:Wn.Common.Chart.DataInput,type:w.OR(w.DataFrame,w.Series)}],properties:[{id:"outputOrder",description:Wn.Common.OutputOrderProperty,type:"number"},{id:"title",description:Wn.Common.Chart.TitleProperty,type:"string"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.labels)&&n.error(Kn.MissingNodeInput("labels")),ar.isEmpty(t.data)&&n.error(Kn.MissingNodeInput("data")),!ar.isEmpty(t.labels)&&!ar.isEmpty(t.data)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.labels,o=t.data,i=r.title,a.shape[0]<=0&&n.error(Kn.EmptyArray("labels","property")),o.shape[0]<=0&&n.error(Kn.EmptyArray("data","property")),!(a.shape[0]<=0||o.shape[0]<=0)){e.next=16;break}return e.abrupt("return",{});case 16:if(s=[],!((s=o instanceof G.a?o.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return o.columns[t]})).filter((function(e){return!!e})):"string"===o.dtype||"boolean"===o.dtype?["Series"]:[]).length>0)){e.next=21;break}return n.error(Kn.DataFrameNumericalColumnsOnly("input2",s)),e.abrupt("return",{});case 21:return u={type:"chart",outputOrder:r.outputOrder,chartType:"stacked-line",title:i,labels:a.values,data:o instanceof Aa.a?[o.values]:o.getColumnData,dataLabels:o.columns},e.abrupt("return",u);case 23:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Ga={id:"bar-chart-output",name:"Bar Chart",description:Wn.NodeSpecific.BarChart.Description,style:{width:120},inputSlots:[{id:"labels",description:Wn.Common.Chart.LabelsInput,type:w.Series},{id:"data",description:Wn.Common.Chart.DataInput,type:w.OR(w.DataFrame,w.Series)}],properties:[{id:"outputOrder",description:Wn.Common.OutputOrderProperty,type:"number"},{id:"title",description:Wn.Common.Chart.TitleProperty,type:"string"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.labels)&&n.error(Kn.MissingNodeInput("labels")),ar.isEmpty(t.data)&&n.error(Kn.MissingNodeInput("data")),!ar.isEmpty(t.labels)&&!ar.isEmpty(t.data)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.labels,o=t.data,i=r.title,a.shape[0]<=0&&n.error(Kn.EmptyArray("labels","property")),o.shape[0]<=0&&n.error(Kn.EmptyArray("data","property")),!(a.shape[0]<=0||o.shape[0]<=0)){e.next=16;break}return e.abrupt("return",{});case 16:if(s=[],!((s=o instanceof G.a?o.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return o.columns[t]})).filter((function(e){return!!e})):"string"===o.dtype||"boolean"===o.dtype?["Series"]:[]).length>0)){e.next=21;break}return n.error(Kn.DataFrameNumericalColumnsOnly("input2",s)),e.abrupt("return",{});case 21:return u={type:"chart",outputOrder:r.outputOrder,chartType:"vertical-bar",title:i,labels:a.values,data:o instanceof Aa.a?[o.values]:o.getColumnData,dataLabels:o.columns},e.abrupt("return",u);case 23:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},za={id:"horizontal-bar-chart-output",name:"Horizontal Bar Chart",description:Wn.NodeSpecific.HorizontalBarChart.Description,style:{width:140},inputSlots:[{id:"labels",description:Wn.Common.Chart.LabelsInput,type:w.Series},{id:"data",description:Wn.Common.Chart.DataInput,type:w.OR(w.DataFrame,w.Series)}],properties:[{id:"outputOrder",description:Wn.Common.OutputOrderProperty,type:"number"},{id:"title",description:Wn.Common.Chart.TitleProperty,type:"string"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.labels)&&n.error(Kn.MissingNodeInput("labels")),ar.isEmpty(t.data)&&n.error(Kn.MissingNodeInput("data")),!ar.isEmpty(t.labels)&&!ar.isEmpty(t.data)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.labels,o=t.data,i=r.title,a.shape[0]<=0&&n.error(Kn.EmptyArray("labels","property")),o.shape[0]<=0&&n.error(Kn.EmptyArray("data","property")),!(a.shape[0]<=0||o.shape[0]<=0)){e.next=16;break}return e.abrupt("return",{});case 16:if(s=[],!((s=o instanceof G.a?o.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return o.columns[t]})).filter((function(e){return!!e})):"string"===o.dtype||"boolean"===o.dtype?["Series"]:[]).length>0)){e.next=21;break}return n.error(Kn.DataFrameNumericalColumnsOnly("input2",s)),e.abrupt("return",{});case 21:return u={type:"chart",outputOrder:r.outputOrder,chartType:"horizontal-bar",title:i,labels:a.values,data:o instanceof Aa.a?[o.values]:o.getColumnData,dataLabels:o.columns},e.abrupt("return",u);case 23:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Ha={id:"stacked-bar-chart-output",name:"Stacked Bar Chart",description:Wn.NodeSpecific.StackedBarChart.Description,style:{width:120},inputSlots:[{id:"labels",description:Wn.Common.Chart.LabelsInput,type:w.Series},{id:"data",description:Wn.Common.Chart.DataInput,type:w.OR(w.DataFrame,w.Series)}],properties:[{id:"outputOrder",description:Wn.Common.OutputOrderProperty,type:"number"},{id:"title",description:Wn.Common.Chart.TitleProperty,type:"string"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.labels)&&n.error(Kn.MissingNodeInput("labels")),ar.isEmpty(t.data)&&n.error(Kn.MissingNodeInput("data")),!ar.isEmpty(t.labels)&&!ar.isEmpty(t.data)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.labels,o=t.data,i=r.title,a.shape[0]<=0&&n.error(Kn.EmptyArray("labels","property")),o.shape[0]<=0&&n.error(Kn.EmptyArray("data","property")),!(a.shape[0]<=0||o.shape[0]<=0)){e.next=16;break}return e.abrupt("return",{});case 16:if(s=[],!((s=o instanceof G.a?o.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return o.columns[t]})).filter((function(e){return!!e})):"string"===o.dtype||"boolean"===o.dtype?["Series"]:[]).length>0)){e.next=21;break}return n.error(Kn.DataFrameNumericalColumnsOnly("input2",s)),e.abrupt("return",{});case 21:return u={type:"chart",outputOrder:r.outputOrder,chartType:"stacked-bar",title:i,labels:a.values,data:o instanceof Aa.a?[o.values]:o.getColumnData,dataLabels:o.columns},e.abrupt("return",u);case 23:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Ua={id:"violin-plot-output",name:"Violin Plot",description:Wn.NodeSpecific.ViolinPlot.Description,style:{width:120},inputSlots:[{id:"data",description:Wn.Common.Chart.DataWithLabelInput,type:w.DataFrame}],properties:[{id:"outputOrder",description:Wn.Common.OutputOrderProperty,type:"number"},{id:"title",description:Wn.Common.Chart.TitleProperty,type:"string"},{id:"labelsColumn",description:Wn.Common.Chart.LabelsColumnProperty,type:"string",regex:Dn.labelRegex},{id:"ignoreDenseLabels",description:Wn.Common.Chart.IgnoreDenseLabelsProperty,type:"boolean"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p,d,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.data)){e.next=8;break}return n.error(Kn.MissingNodeInput("data")),e.abrupt("return",{});case 8:if(a=t.data,o=r.title,i=r.labelsColumn,s=r.ignoreDenseLabels,a.shape[0]<=0&&n.error(Kn.EmptyArray("data","property")),Dn.isMatch(i,Dn.labelRegex)||n.error(Kn.CannotBeEmpty(i,"property")),!(a.shape[0]<=0)&&Dn.isMatch(i,Dn.labelRegex)){e.next=16;break}return e.abrupt("return",{});case 16:if(a.columns.includes(i)){e.next=19;break}return n.error(Kn.ValueNotExists(i,"column")),e.abrupt("return",{});case 19:if(u=a.column(i),c=a.drop({columns:i}),!((l=c.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return a.columns[t]})).filter((function(e){return!!e}))).length>0)){e.next=25;break}return n.error(Kn.DataFrameOnlyOneNonNumericalColumn("data",l)),e.abrupt("return",{});case 25:if(!((p=u.unique().values).length>30)||s){e.next=29;break}return n.error(Kn.DenseUniqueLabels(i)),e.abrupt("return",{});case 29:return d=[],c.columns.forEach((function(e){var t=[];p.forEach((function(r){var n=a.loc({rows:a[i].eq(r)}).column(e);t.push(n.values)})),d.push(t)})),f={type:"chart",outputOrder:r.outputOrder,chartType:"violin-plot",title:o,labels:p,data:d,dataLabels:c.columns},e.abrupt("return",f);case 33:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},qa={id:"box-plot-output",name:"Box Plot",description:Wn.NodeSpecific.BoxPlot.Description,style:{width:120},inputSlots:[{id:"data",description:Wn.Common.Chart.DataWithLabelInput,type:w.DataFrame}],properties:[{id:"outputOrder",description:Wn.Common.OutputOrderProperty,type:"number"},{id:"title",description:Wn.Common.Chart.TitleProperty,type:"string"},{id:"labelsColumn",description:Wn.Common.Chart.LabelsColumnProperty,type:"string",regex:Dn.labelRegex},{id:"ignoreDenseLabels",description:Wn.Common.Chart.IgnoreDenseLabelsProperty,type:"boolean"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p,d,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.data)){e.next=8;break}return n.error(Kn.MissingNodeInput("data")),e.abrupt("return",{});case 8:if(a=t.data,o=r.title,i=r.labelsColumn,s=r.ignoreDenseLabels,a.shape[0]<=0&&n.error(Kn.EmptyArray("data","property")),Dn.isMatch(i,Dn.labelRegex)||n.error(Kn.CannotBeEmpty(i,"property")),!(a.shape[0]<=0)&&Dn.isMatch(i,Dn.labelRegex)){e.next=16;break}return e.abrupt("return",{});case 16:if(a.columns.includes(i)){e.next=19;break}return n.error(Kn.ValueNotExists(i,"column")),e.abrupt("return",{});case 19:if(u=a.column(i),c=a.drop({columns:i}),!((l=c.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return a.columns[t]})).filter((function(e){return!!e}))).length>0)){e.next=25;break}return n.error(Kn.DataFrameOnlyOneNonNumericalColumn("data",l)),e.abrupt("return",{});case 25:if(!((p=u.unique().values).length>30)||s){e.next=29;break}return n.error(Kn.DenseUniqueLabels(i)),e.abrupt("return",{});case 29:return d=[],c.columns.forEach((function(e){var t=[];p.forEach((function(r){var n=a.loc({rows:a[i].eq(r)}).column(e);t.push(n.values)})),d.push(t)})),f={type:"chart",outputOrder:r.outputOrder,chartType:"box-plot",title:o,labels:p,data:d,dataLabels:c.columns},e.abrupt("return",f);case 33:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Wa={id:"chart",name:"Chart Nodes Collection",description:"",nodeGroups:[{name:"Output",types:[La,Ba,Ga,za,Ha,Ua,qa]}]},Ka={id:"add-dataframe",name:"Add DataFrame",description:Wn.NodeSpecific.AddDataFrame.Description,style:{width:160},inputSlots:[{id:"input1",description:Wn.Common.DataFrame.Input1Input,type:w.DataFrame},{id:"input2",description:Wn.Common.DataFrameBinary.Input2Input,type:w.OR(w.DataFrame,w.Series,w.Number)}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"isRowAxis",description:Wn.Common.DataFrameBinary.IsRowAxisProperty,type:"boolean"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.input1)&&n.error(Kn.MissingNodeInput("input1")),ar.isEmpty(t.input2)&&n.error(Kn.MissingNodeInput("input2")),!ar.isEmpty(t.input1)&&!ar.isEmpty(t.input2)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.input1,o=t.input2,i=r.isRowAxis,(s=a.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return a.columns[t]})).filter((function(e){return!!e}))).length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input1",s)),u=[],!(o instanceof G.a)){e.next=22;break}if(o.shape===a.shape){e.next=19;break}return n.error(Kn.DataFrameMismatchShape("input1",a.shape,"input2",o.shape)),e.abrupt("return",{});case 19:u=o.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return o.columns[t]})).filter((function(e){return!!e})),e.next=30;break;case 22:if(!(o instanceof Aa.a)){e.next=30;break}if(i||o.size===a.columns.length){e.next=26;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.columns.length,"input2",o.size,"column")),e.abrupt("return",{});case 26:if(!i||o.size===a.size){e.next=29;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.size,"input2",o.size,"row")),e.abrupt("return",{});case 29:u="string"===o.dtype||"boolean"===o.dtype?["Series"]:[];case 30:if(u.length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input2",u)),!(s.length>0||u.length>0)){e.next=33;break}return e.abrupt("return",{});case 33:return e.abrupt("return",{result:a.add(o,{axis:i&&o instanceof Aa.a?0:1})});case 34:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Ya={id:"subtract-dataframe",name:"Subtract DataFrame",description:Wn.NodeSpecific.SubtractDataFrame.Description,style:{width:160},inputSlots:[{id:"input1",description:Wn.Common.DataFrame.Input1Input,type:w.DataFrame},{id:"input2",description:Wn.Common.DataFrameBinary.Input2Input,type:w.OR(w.DataFrame,w.Series,w.Number)}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"isRowAxis",description:Wn.Common.DataFrameBinary.IsRowAxisProperty,type:"boolean"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.input1)&&n.error(Kn.MissingNodeInput("input1")),ar.isEmpty(t.input2)&&n.error(Kn.MissingNodeInput("input2")),!ar.isEmpty(t.input1)&&!ar.isEmpty(t.input2)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.input1,o=t.input2,i=r.isRowAxis,(s=a.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return a.columns[t]})).filter((function(e){return!!e}))).length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input1",s)),u=[],!(o instanceof G.a)){e.next=22;break}if(o.shape===a.shape){e.next=19;break}return n.error(Kn.DataFrameMismatchShape("input1",a.shape,"input2",o.shape)),e.abrupt("return",{});case 19:u=o.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return o.columns[t]})).filter((function(e){return!!e})),e.next=30;break;case 22:if(!(o instanceof Aa.a)){e.next=30;break}if(i||o.size===a.columns.length){e.next=26;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.columns.length,"input2",o.size,"column")),e.abrupt("return",{});case 26:if(!i||o.size===a.size){e.next=29;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.size,"input2",o.size,"row")),e.abrupt("return",{});case 29:u="string"===o.dtype||"boolean"===o.dtype?["Series"]:[];case 30:if(u.length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input2",u)),!(s.length>0||u.length>0)){e.next=33;break}return e.abrupt("return",{});case 33:return e.abrupt("return",{result:a.sub(o,{axis:i&&o instanceof Aa.a?0:1})});case 34:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Ja={id:"multiply-dataframe",name:"Multiply DataFrame",description:Wn.NodeSpecific.MultiplyDataFrame.Description,style:{width:160},inputSlots:[{id:"input1",description:Wn.Common.DataFrame.Input1Input,type:w.DataFrame},{id:"input2",description:Wn.Common.DataFrameBinary.Input2Input,type:w.OR(w.DataFrame,w.Series,w.Number)}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"isRowAxis",description:Wn.Common.DataFrameBinary.IsRowAxisProperty,type:"boolean"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.input1)&&n.error(Kn.MissingNodeInput("input1")),ar.isEmpty(t.input2)&&n.error(Kn.MissingNodeInput("input2")),!ar.isEmpty(t.input1)&&!ar.isEmpty(t.input2)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.input1,o=t.input2,i=r.isRowAxis,(s=a.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return a.columns[t]})).filter((function(e){return!!e}))).length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input1",s)),u=[],!(o instanceof G.a)){e.next=22;break}if(o.shape===a.shape){e.next=19;break}return n.error(Kn.DataFrameMismatchShape("input1",a.shape,"input2",o.shape)),e.abrupt("return",{});case 19:u=o.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return o.columns[t]})).filter((function(e){return!!e})),e.next=30;break;case 22:if(!(o instanceof Aa.a)){e.next=30;break}if(i||o.size===a.columns.length){e.next=26;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.columns.length,"input2",o.size,"column")),e.abrupt("return",{});case 26:if(!i||o.size===a.size){e.next=29;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.size,"input2",o.size,"row")),e.abrupt("return",{});case 29:u="string"===o.dtype||"boolean"===o.dtype?["Series"]:[];case 30:if(u.length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input2",u)),!(s.length>0||u.length>0)){e.next=33;break}return e.abrupt("return",{});case 33:return e.abrupt("return",{result:a.mul(o,{axis:i&&o instanceof Aa.a?0:1})});case 34:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Xa={id:"divide-dataframe",name:"Divide DataFrame",description:Wn.NodeSpecific.DivideDataFrame.Description,style:{width:160},inputSlots:[{id:"input1",description:Wn.Common.DataFrame.Input1Input,type:w.DataFrame},{id:"input2",description:Wn.Common.DataFrameBinary.Input2Input,type:w.OR(w.DataFrame,w.Series,w.Number)}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"isRowAxis",description:Wn.Common.DataFrameBinary.IsRowAxisProperty,type:"boolean"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.input1)&&n.error(Kn.MissingNodeInput("input1")),ar.isEmpty(t.input2)&&n.error(Kn.MissingNodeInput("input2")),!ar.isEmpty(t.input1)&&!ar.isEmpty(t.input2)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.input1,o=t.input2,i=r.isRowAxis,"number"!==typeof o||0!==o){e.next=15;break}return n.error(Kn.NumberCannotBeZero("input2","input")),e.abrupt("return",{});case 15:if((s=a.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return a.columns[t]})).filter((function(e){return!!e}))).length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input1",s)),u=[],!(o instanceof G.a)){e.next=25;break}if(o.shape===a.shape){e.next=22;break}return n.error(Kn.DataFrameMismatchShape("input1",a.shape,"input2",o.shape)),e.abrupt("return",{});case 22:u=o.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return o.columns[t]})).filter((function(e){return!!e})),e.next=33;break;case 25:if(!(o instanceof Aa.a)){e.next=33;break}if(i||o.size===a.columns.length){e.next=29;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.columns.length,"input2",o.size,"column")),e.abrupt("return",{});case 29:if(!i||o.size===a.size){e.next=32;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.size,"input2",o.size,"row")),e.abrupt("return",{});case 32:u="string"===o.dtype||"boolean"===o.dtype?["Series"]:[];case 33:if(u.length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input2",u)),!(s.length>0||u.length>0)){e.next=36;break}return e.abrupt("return",{});case 36:return e.abrupt("return",{result:a.div(o,{axis:i&&o instanceof Aa.a?0:1})});case 37:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Za={id:"modulo-dataframe",name:"Modulo DataFrame",description:Wn.NodeSpecific.ModDataFrame.Description,style:{width:160},inputSlots:[{id:"input1",description:Wn.Common.DataFrame.Input1Input,type:w.DataFrame},{id:"input2",description:Wn.Common.DataFrameBinary.Input2Input,type:w.OR(w.DataFrame,w.Series,w.Number)}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"isRowAxis",description:Wn.Common.DataFrameBinary.IsRowAxisProperty,type:"boolean"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.input1)&&n.error(Kn.MissingNodeInput("input1")),ar.isEmpty(t.input2)&&n.error(Kn.MissingNodeInput("input2")),!ar.isEmpty(t.input1)&&!ar.isEmpty(t.input2)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.input1,o=t.input2,i=r.isRowAxis,(s=a.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return a.columns[t]})).filter((function(e){return!!e}))).length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input1",s)),u=[],!(o instanceof G.a)){e.next=22;break}if(o.shape===a.shape){e.next=19;break}return n.error(Kn.DataFrameMismatchShape("input1",a.shape,"input2",o.shape)),e.abrupt("return",{});case 19:u=o.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return o.columns[t]})).filter((function(e){return!!e})),e.next=30;break;case 22:if(!(o instanceof Aa.a)){e.next=30;break}if(i||o.size===a.columns.length){e.next=26;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.columns.length,"input2",o.size,"column")),e.abrupt("return",{});case 26:if(!i||o.size===a.size){e.next=29;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.size,"input2",o.size,"row")),e.abrupt("return",{});case 29:u="string"===o.dtype||"boolean"===o.dtype?["Series"]:[];case 30:if(u.length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input2",u)),!(s.length>0||u.length>0)){e.next=33;break}return e.abrupt("return",{});case 33:return e.abrupt("return",{result:a.mod(o,{axis:i&&o instanceof Aa.a?0:1})});case 34:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Qa={id:"power-dataframe",name:"Exponent DataFrame",description:Wn.NodeSpecific.PowerDataFrame.Description,style:{width:160},inputSlots:[{id:"input1",description:Wn.Common.DataFrame.Input1Input,type:w.DataFrame},{id:"input2",description:Wn.Common.DataFrameBinary.Input2Input,type:w.OR(w.DataFrame,w.Series,w.Number)}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"isRowAxis",description:Wn.Common.DataFrameBinary.IsRowAxisProperty,type:"boolean"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.input1)&&n.error(Kn.MissingNodeInput("input1")),ar.isEmpty(t.input2)&&n.error(Kn.MissingNodeInput("input2")),!ar.isEmpty(t.input1)&&!ar.isEmpty(t.input2)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.input1,o=t.input2,i=r.isRowAxis,(s=a.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return a.columns[t]})).filter((function(e){return!!e}))).length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input1",s)),u=[],!(o instanceof G.a)){e.next=22;break}if(o.shape===a.shape){e.next=19;break}return n.error(Kn.DataFrameMismatchShape("input1",a.shape,"input2",o.shape)),e.abrupt("return",{});case 19:u=o.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return o.columns[t]})).filter((function(e){return!!e})),e.next=30;break;case 22:if(!(o instanceof Aa.a)){e.next=30;break}if(i||o.size===a.columns.length){e.next=26;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.columns.length,"input2",o.size,"column")),e.abrupt("return",{});case 26:if(!i||o.size===a.size){e.next=29;break}return n.error(Kn.DataFrameSeriesMismatchShape("input1",a.size,"input2",o.size,"row")),e.abrupt("return",{});case 29:u="string"===o.dtype||"boolean"===o.dtype?["Series"]:[];case 30:if(u.length>0&&n.error(Kn.DataFrameNumericalColumnsOnly("input2",u)),!(s.length>0||u.length>0)){e.next=33;break}return e.abrupt("return",{});case 33:return e.abrupt("return",{result:a.pow(o,{axis:i&&o instanceof Aa.a?0:1})});case 34:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},_a={id:"absolute-dataframe",name:"Absolute DataFrame",description:Wn.NodeSpecific.AbsoluteDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrame.Input1Input,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,!((o=a.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return a.columns[t]})).filter((function(e){return!!e}))).length>0)){e.next=13;break}return n.error(Kn.DataFrameNumericalColumnsOnly("input",o)),e.abrupt("return",{});case 13:return i=a.abs(),e.abrupt("return",{output:i});case 15:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},$a={id:"round-dataframe",name:"Round DataFrame",description:Wn.NodeSpecific.RoundDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrame.Input1Input,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"numDecimal",type:"number"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.numDecimal,!((i=a.dtypes.map((function(e,t){if("string"===e||"boolean"===e)return a.columns[t]})).filter((function(e){return!!e}))).length>0)){e.next=14;break}return n.error(Kn.DataFrameNumericalColumnsOnly("input",i)),e.abrupt("return",{});case 14:return s=a.round(o),e.abrupt("return",{output:s});case 16:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},eo=[Ka,Ya,Ja,Xa,Za,Qa,_a,$a];function to(e,t,r,n){var a;try{var o,i,s,u;if(">"===r)a=e.column(t).gt(null!==(o=Number(n))&&void 0!==o?o:n);else if(">="===r)a=e.column(t).ge(null!==(i=Number(n))&&void 0!==i?i:n);else if("<"===r)a=e.column(t).lt(null!==(s=Number(n))&&void 0!==s?s:n);else if("<="===r)a=e.column(t).le(null!==(u=Number(n))&&void 0!==u?u:n);else if("=="===r){var c=e.column(t).dtype;a="int32"===c||"float32"===c?e.column(t).eq(Number(n)):e[t].eq(n)}else if("!="===r){var l=e.column(t).dtype;a="int32"===l||"float32"===l?e.column(t).ne(Number(n)):e[t].ne(n)}else"has"===r?a=e.column(t).str.includes(n):"start"===r?a=e.column(t).str.startsWith(n):"end"===r&&(a=e.column(t).str.endsWith(n))}catch(p){console.error(p),a=void 0}return a}var ro={id:"loc-dataframe",name:"DataFrame Loc",description:Wn.NodeSpecific.DataFrameLoc.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"columns",description:Wn.NodeSpecific.DataFrameLoc.ColumnsProperty,type:"string",regex:Dn.combine(Dn.labelCommaRegex,Dn.labelSliceRegex,Dn.emptyRegex)},{id:"rows",description:Wn.NodeSpecific.DataFrameLoc.RowsProperty,type:"string",regex:Dn.combine(Dn.conditionRegex,Dn.emptyRegex)},{id:"resetIndex",description:Wn.NodeSpecific.DataFrameLoc.ResetIndexProperty,type:"boolean",defaultValue:!1}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p,d,f,m;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=r.columns,o=r.rows,i=r.resetIndex,s=t.input,Dn.isMatch(a,Dn.labelCommaRegex)?u=Dn.processCommaDelimString(a,Dn.baseLabelRegex):Dn.isMatch(a,Dn.labelSliceRegex)&&(u=[a]),Dn.isMatch(o,Dn.conditionRegex)&&(l=o.split(" "),p=l[0],d=l[1],f=l.length>3?l.slice(2).join(" ").replaceAll("'",""):l[2],c=to(s,p,d,f)),m=z.loc(s,u,c),m=i?m.reset_index():m,e.abrupt("return",{output:m});case 17:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},no={id:"iloc-dataframe",name:"DataFrame iLoc",description:Wn.NodeSpecific.DataFrameiLoc.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"columns",description:Wn.NodeSpecific.DataFrameiLoc.ColumnsProperty,type:"string",regex:Dn.combine(Dn.numberCommaRegex,Dn.numberSliceRegex,Dn.emptyRegex)},{id:"rows",description:Wn.NodeSpecific.DataFrameiLoc.RowsProperty,type:"string",regex:Dn.combine(Dn.numberCommaRegex,Dn.numberSliceRegex,Dn.emptyRegex)}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=r.columns,o=r.rows,i=t.input,Dn.isMatch(a,Dn.numberCommaRegex)?s=Dn.processCommaDelimNumber(a,Dn.baseNumberRegex):Dn.isMatch(a,Dn.numberSliceRegex)&&(s=[a]),Dn.isMatch(o,Dn.numberCommaRegex)?u=Dn.processCommaDelimNumber(o,Dn.baseNumberRegex):Dn.isMatch(o,Dn.numberSliceRegex)&&(u=[o]),c=i.iloc({columns:s,rows:u}),e.abrupt("return",{output:c});case 15:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ao={id:"numerical-column-dataframe",name:"Get Numerical Columns",description:Wn.NodeSpecific.GetNumericalColumns.Description,style:{width:170},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.dtypes.map((function(e,t){if("string"!==e&&"boolean"!==e)return a.columns[t]})).filter((function(e){return!!e})),i=a.loc({columns:o}),e.abrupt("return",{output:i});case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},oo=[ro,no,ao],io={id:"describe-dataframe",name:"Describe DataFrame",description:Wn.NodeSpecific.DescribeDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.DataFrameDescriptive.DataFrameOutput,type:w.DataFrame}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=[],a.columns.forEach((function(e){var t=a.column(e);t.count()!==t.size&&o.push(e)})),!(o.length>0)){e.next=14;break}return n.error(Kn.DataFrameNullColumnsCannotDescribe(o)),e.abrupt("return",{});case 14:return i=a.describe(),e.abrupt("return",{output:i});case 16:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},so={id:"histogram",name:"Histogram",description:Wn.NodeSpecific.Histogram.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"labels",description:Wn.NodeSpecific.Histogram.LabelsOutput,type:w.Series},{id:"count",description:Wn.NodeSpecific.Histogram.CountOutput,type:w.Series}],properties:[{id:"name",description:Wn.NodeSpecific.Histogram.NameProperty,type:"string",regex:Dn.combine(Dn.labelRegex,Dn.emptyRegex)},{id:"bins",description:Wn.NodeSpecific.Histogram.BinsProperty,type:"number",defaultValue:20}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p,d,f,m;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.bins,i=r.name,!(o<=0)){e.next=14;break}return n.error(Kn.NumberCannotBeZeroOrNegative("bins","property")),e.abrupt("return",{});case 14:for(s=i,Dn.isMatch(i,Dn.labelRegex)||(s="Count"),u=a.min(),c=a.max(),l=(c-u)/o,p=[],d=[],4,f=Math.pow(10,4),m=0;m<o;m++)p.push(Math.round((l*m+u)*f)/f),d.push(0);return a.values.forEach((function(e){var t=Math.floor((e-u)/l);d[t]+=1})),e.abrupt("return",{labels:new Aa.a(p,{columns:["Labels"]}),count:new Aa.a(d,{columns:[s]})});case 28:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},uo={id:"head-dataframe",name:"DataFrame Head",description:Wn.NodeSpecific.HeadDataFrame.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.DataFrameDescriptive.DataFrameOutput,type:w.DataFrame}],properties:[{id:"rowCount",description:Wn.Common.DataFrame.RowCountProperty,type:"number",defaultValue:10}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=r.rowCount,i=a.shape[0]>=o&&o>0?a.head(o):a,e.abrupt("return",{output:i});case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},co={id:"tail-dataframe",name:"DataFrame Tail",description:Wn.NodeSpecific.TailDataFrame.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.DataFrameDescriptive.DataFrameOutput,type:w.DataFrame}],properties:[{id:"rowCount",description:Wn.Common.DataFrame.RowCountProperty,type:"number",defaultValue:10}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=r.rowCount,i=a.shape[0]>=o&&o>0?a.tail(o):a,e.abrupt("return",{output:i});case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},lo={id:"count-dataframe",name:"Count DataFrame",description:Wn.NodeSpecific.CountDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"countRows",description:Wn.NodeSpecific.CountDataFrame.CountRowsOutput,type:w.Number},{id:"countColumns",description:Wn.NodeSpecific.CountDataFrame.CountColumnsOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,e.abrupt("return",{countRows:a.shape[0],countColumns:a.shape[1]});case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},po=[io,so,uo,co,lo],bo={id:"map-dataframe",name:"Map DataFrame",description:Wn.NodeSpecific.MapDataFrame.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"column",description:Wn.NodeSpecific.MapDataFrame.ColumnProperty,type:"string",regex:Dn.combine(Dn.labelRegex,Dn.emptyRegex)},{id:"mappings",description:Wn.NodeSpecific.MapDataFrame.MappingsProperty,type:"string",regex:Dn.combine(Dn.valueMapRegex,Dn.emptyRegex)},{id:"replaceColumn",description:Wn.NodeSpecific.MapDataFrame.ReplaceColumnProperty,type:"boolean",defaultValue:!1}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p,d,f,m,h;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.column,i=r.replaceColumn,s=r.mappings,Dn.isMatch(s,Dn.valueMapRegex)&&(u=Dn.processCommaDelimString(s,Dn.baseValueMapRegex)),Dn.isMatch(o,Dn.labelRegex)||n.warning(Kn.EmptyNodePropertyNoEffect("column")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("mappings")),Dn.isMatch(o,Dn.labelRegex)&&u&&!(u.length<=0)){e.next=17;break}return e.abrupt("return",{output:a});case 17:if(!((c=a.columns.indexOf(o))<0)){e.next=21;break}return n.warning(Kn.ValueNotExists(o,"column")),e.abrupt("return",{output:a});case 21:if(l=a.dtypes[c],p={},u.forEach((function(e){var t=e.split(":"),r=t[0].replaceAll("'",""),n=t[1].replaceAll("'","");"$mean"===n&&(n=a.column(o).asType("float32").mean());"float32"===l||"int32"===l?n=Number(n):"boolean"===l&&(n="true"===n||"True"===n||"1"===n),p[r]=n})),d=a.column(o),d=z.map(d,p),f=o,!i)for(m=1;a.columns.includes(f)&&m<1e4;)f="".concat(o,"_").concat(m++);return(h=a.copy()).addColumn(f,i?d.values:d,{inplace:!0}),e.abrupt("return",{output:h});case 31:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},fo={id:"rename-columns",name:"Rename Columns",description:Wn.NodeSpecific.RenameColumns.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"mappings",description:Wn.Common.DataFrameModify.MappingsProperty,type:"string",regex:Dn.combine(Dn.valueMapRegex,Dn.emptyRegex)}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.mappings,Dn.isMatch(o,Dn.valueMapRegex)&&(i=Dn.processCommaDelimString(o,Dn.baseValueMapRegex)),(!i||i.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("mappings")),i&&!(i.length<=0)){e.next=14;break}return e.abrupt("return",{output:a});case 14:if(s={},i.forEach((function(e){var t=e.split(":"),r=t[0],o=!1;a.columns.includes(r)||(n.error(Kn.ValueNotExists(r,"column")),o=!0);var i=t[1];a.columns.includes(i)&&(n.error(Kn.ValueExists(i,"column")),o=!0),o||(s[r]=i)})),s){e.next=18;break}return e.abrupt("return",{output:a});case 18:return u=a.rename(s),e.abrupt("return",{output:u});case 20:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},mo={id:"remove-columns",name:"Remove Columns",description:Wn.NodeSpecific.RemoveColumns.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"columns",description:Wn.Common.DataFrameModify.ColumnsProperty,type:"string",regex:Dn.combine(Dn.labelCommaRegex,Dn.emptyRegex)}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.columns,Dn.isMatch(o,Dn.labelCommaRegex)||n.warning(Kn.EmptyNodePropertyNoEffect("columns")),!((i=Dn.processCommaDelimString(o,Dn.baseLabelRegex)).length<=0)){e.next=14;break}return e.abrupt("return",{output:a});case 14:if(s=!1,i.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"column")),s=!0)})),!s){e.next=18;break}return e.abrupt("return",{output:a});case 18:return u=a.drop({columns:i}),e.abrupt("return",{output:u});case 20:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ho={id:"fillna-dataframe",name:"Fill Null DataFrame",description:Wn.NodeSpecific.FillNaDataFrame.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"mappings",description:Wn.NodeSpecific.FillNaDataFrame.MappingsProperty,type:"string",regex:Dn.combine(Dn.labelValueMapRegex,Dn.emptyRegex)}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.mappings,Dn.isMatch(o,Dn.labelValueMapRegex)&&(i=Dn.processCommaDelimString(o,Dn.baseLabelValueMapRegex)),(!i||i.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("mappings")),i&&!(i.length<=0)){e.next=14;break}return e.abrupt("return",{output:a});case 14:if(s={},i.forEach((function(e){var t=e.split(":"),r=t[0],o=a.columns.indexOf(r);if(o<0)n.error(Kn.ValueNotExists(r,"column"));else{var i,u=t[1].replaceAll("'",""),c=a.dtypes[o];"float32"===c||"int32"===c?"$mean"===u?(i=a.column(r).mean(),i="int32"===c?Math.round(i):i):i=Number(u):i="boolean"===c?"true"===u.toLowerCase()||"1"===u:u,s[r]=i}})),s){e.next=18;break}return e.abrupt("return",{output:a});case 18:return u=z.fillna(a,Object.keys(s),Object.values(s)),e.abrupt("return",{output:u});case 20:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},xo={id:"sort-dataframe",name:"Sort DataFrame",description:Wn.NodeSpecific.SortDataFrame.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"sortByColumn",description:Wn.NodeSpecific.SortDataFrame.SortByColumnProperty,type:"string",regex:Dn.combine(Dn.labelRegex,Dn.emptyRegex)},{id:"isAscending",description:Wn.NodeSpecific.SortDataFrame.IsAscendingProperty,type:"boolean",defaultValue:!0}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.sortByColumn,i=r.isAscending,Dn.isMatch(o,Dn.labelRegex)){e.next=14;break}return n.warning(Kn.EmptyNodePropertyNoEffect("sortByColumn")),e.abrupt("return",{output:a});case 14:if(a.columns.includes(o)){e.next=17;break}return n.warning(Kn.ValueNotExists(o,"column")),e.abrupt("return",{output:a});case 17:return s=a.sort_values({by:o,ascending:i,inplace:!1}),e.abrupt("return",{output:s});case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},vo={id:"merge-dataframe",name:"Merge DataFrames",description:Wn.NodeSpecific.MergeDataFrames.Description,style:{width:180},inputSlots:[{id:"left",description:Wn.NodeSpecific.MergeDataFrames.LeftInput,type:w.OR(w.DataFrame,w.Series)},{id:"right",description:Wn.NodeSpecific.MergeDataFrames.RightInput,type:w.OR(w.DataFrame,w.Series)}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"onColumns",description:Wn.NodeSpecific.MergeDataFrames.OnColumnsProperty,type:"string",regex:Dn.combine(Dn.labelCommaRegex,Dn.emptyRegex)},{id:"joinType",description:Wn.NodeSpecific.MergeDataFrames.JoinTypeProperty,type:"string",regex:Dn.combine(/^(left|right|outer|inner)$/,Dn.emptyRegex)}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.left)&&n.error(Kn.MissingNodeInput("left")),ar.isEmpty(t.right)&&n.error(Kn.MissingNodeInput("right")),!ar.isEmpty(t.left)&&!ar.isEmpty(t.right)){e.next=9;break}return e.abrupt("return",{});case 9:if(a=t.left,o=t.right,i=r.onColumns,s=r.joinType,Dn.isMatch(i,Dn.labelCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseLabelRegex)),!(!u||u.length<=0||a instanceof Aa.a||o instanceof Aa.a)){e.next=17;break}return c=A.concat({dfList:[a,o],axis:1}),e.abrupt("return",{output:c});case 17:if(l=[],u.forEach((function(e){a.columns.includes(e)&&o.columns.includes(e)||(n.error("The column '".concat(e,"' must exist on both the left and right dataframes.")),l.push(e))})),!(l.length>0)){e.next=21;break}return e.abrupt("return",{result:a});case 21:return Dn.isMatch(s,/^(left|right|outer|inner)$/)||(s="inner"),p=A.merge({left:a,right:o,on:u,how:s}),e.abrupt("return",{output:p});case 24:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},yo={id:"append-dataframe",name:"Append DataFrames",description:Wn.NodeSpecific.AppendDataFrame.Description,style:{width:140},inputSlots:[{id:"input1",description:Wn.NodeSpecific.AppendDataFrame.Input1Input,type:w.OR(w.DataFrame,w.Series)},{id:"input2",description:Wn.NodeSpecific.AppendDataFrame.Input2Input,type:w.OR(w.DataFrame,w.Series)}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(ar.isEmpty(t.input1)&&n.error(Kn.MissingNodeInput("input1")),ar.isEmpty(t.input2)&&n.error(Kn.MissingNodeInput("input2")),!ar.isEmpty(t.input1)&&!ar.isEmpty(t.input2)){e.next=9;break}return e.abrupt("return",{});case 9:return a=t.input1,o=t.input2,i=A.concat({dfList:[a,o],axis:0}),e.abrupt("return",{output:i});case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},go=[bo,fo,mo,ho,xo,vo,yo],jo={id:"groupby-dataframe",name:"Group By",description:Wn.NodeSpecific.GroupByDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"keys",description:Wn.NodeSpecific.GroupByDataFrame.KeysProperty,type:"string",regex:Dn.valueCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.keys,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),Dn.isMatch(i,Dn.valueCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseValueRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("keys")),s&&u&&s.length!==u.length&&n.error(Kn.ArrayLengthsNotEqual("groupColumns","keys")),!(!s||s.length<=0||!u||u.length<=0||s&&u&&s.length!==u.length)){e.next=18;break}return e.abrupt("return",{result:a});case 18:if(c=[],s.forEach((function(e,t){var r=a.columns.indexOf(e);if(r<0)return n.error(Kn.ValueNotExists(e,"column")),void c.push(e);if(u){var o=a.dtypes[r],i=u[t];"float32"===o||"int32"===o?i=Number(i):"boolean"===o&&(i="true"===i.toLowerCase()||"1"===i),a.column(e).unique().values.includes(i)||(n.error(Kn.ValueNotExists(u[t],"key")),c.push(u[t]))}})),!(c.length>0)){e.next=22;break}return e.abrupt("return",{result:a});case 22:return l=z.groupby(a,s),p=l.getGroup(u),e.abrupt("return",{result:p});case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ko={id:"group-count-dataframe",name:"Group Count",description:Wn.NodeSpecific.GroupCountDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"isPercent",description:Wn.NodeSpecific.GroupCountDataFrame.IsPercentProperty,type:"boolean",defaultValue:!1}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.isPercent,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),s&&!(s.length<=0)){e.next=15;break}return e.abrupt("return",{result:a});case 15:if(u=[],s.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"group column")),u.push(e))})),!(u.length>0)){e.next=19;break}return e.abrupt("return",{result:a});case 19:return c=z.groupby(a,s),(l=c.col([s[0]]).count()).rename(Object(sn.a)({},"".concat(s[0],"_count"),"Count"),{inplace:!0}),i&&(p=l.column("Count"),d=p.sum(),p=p.div(d),l.addColumn("Count",p.values,{inplace:!0})),e.abrupt("return",{result:l});case 24:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},wo={id:"group-cummax-dataframe",name:"Group Cumulative Max",description:Wn.NodeSpecific.GroupCumMaxDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"targetColumns",description:Wn.Common.DataFrameGrouping.TargetColumnsProperty,type:"string",regex:Dn.labelCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.targetColumns,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),Dn.isMatch(i,Dn.labelCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseLabelRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("targetColumns")),!(!s||s.length<=0||!u||u.length<=0)){e.next=17;break}return e.abrupt("return",{result:a});case 17:if(c=[],s.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"group column")),c.push(e))})),u.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"target column")),c.push(e))})),!(c.length>0)){e.next=22;break}return e.abrupt("return",{result:a});case 22:return l=z.groupby(a,s),p=l.col(u).cumMax(),e.abrupt("return",{result:p});case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Oo={id:"group-cummin-dataframe",name:"Group Cumulative Min",description:Wn.NodeSpecific.GroupCumMinDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"targetColumns",description:Wn.Common.DataFrameGrouping.TargetColumnsProperty,type:"string",regex:Dn.labelCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.targetColumns,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),Dn.isMatch(i,Dn.labelCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseLabelRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("targetColumns")),!(!s||s.length<=0||!u||u.length<=0)){e.next=17;break}return e.abrupt("return",{result:a});case 17:if(c=[],s.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"group column")),c.push(e))})),u.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"target column")),c.push(e))})),!(c.length>0)){e.next=22;break}return e.abrupt("return",{result:a});case 22:return l=z.groupby(a,s),p=l.col(u).cumMin(),e.abrupt("return",{result:p});case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},No={id:"group-cumsum-dataframe",name:"Group Cumulative Sum",description:Wn.NodeSpecific.GroupCumSumDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"targetColumns",description:Wn.Common.DataFrameGrouping.TargetColumnsProperty,type:"string",regex:Dn.labelCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.targetColumns,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),Dn.isMatch(i,Dn.labelCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseLabelRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("targetColumns")),!(!s||s.length<=0||!u||u.length<=0)){e.next=17;break}return e.abrupt("return",{result:a});case 17:if(c=[],s.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"group column")),c.push(e))})),u.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"target column")),c.push(e))})),!(c.length>0)){e.next=22;break}return e.abrupt("return",{result:a});case 22:return l=z.groupby(a,s),p=l.col(u).cumSum(),e.abrupt("return",{result:p});case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Co={id:"group-cumprod-dataframe",name:"Group Cumulative Product",description:Wn.NodeSpecific.GroupCumProdDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"targetColumns",description:Wn.Common.DataFrameGrouping.TargetColumnsProperty,type:"string",regex:Dn.labelCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.targetColumns,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),Dn.isMatch(i,Dn.labelCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseLabelRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("targetColumns")),!(!s||s.length<=0||!u||u.length<=0)){e.next=17;break}return e.abrupt("return",{result:a});case 17:if(c=[],s.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"group column")),c.push(e))})),u.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"target column")),c.push(e))})),!(c.length>0)){e.next=22;break}return e.abrupt("return",{result:a});case 22:return l=z.groupby(a,s),p=l.col(u).cumProd(),e.abrupt("return",{result:p});case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},So={id:"group-sum-dataframe",name:"Group Sum",description:Wn.NodeSpecific.GroupSumDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"targetColumns",description:Wn.Common.DataFrameGrouping.TargetColumnsProperty,type:"string",regex:Dn.labelCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.targetColumns,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),Dn.isMatch(i,Dn.labelCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseLabelRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("targetColumns")),!(!s||s.length<=0||!u||u.length<=0)){e.next=17;break}return e.abrupt("return",{result:a});case 17:if(c=[],s.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"group column")),c.push(e))})),u.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"target column")),c.push(e))})),!(c.length>0)){e.next=22;break}return e.abrupt("return",{result:a});case 22:return l=z.groupby(a,s),p=l.col(u).sum(),e.abrupt("return",{result:p});case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Do={id:"group-mean-dataframe",name:"Group Mean",description:Wn.NodeSpecific.GroupMeanDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"targetColumns",description:Wn.Common.DataFrameGrouping.TargetColumnsProperty,type:"string",regex:Dn.labelCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.targetColumns,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),Dn.isMatch(i,Dn.labelCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseLabelRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("targetColumns")),!(!s||s.length<=0||!u||u.length<=0)){e.next=17;break}return e.abrupt("return",{result:a});case 17:if(c=[],s.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"group column")),c.push(e))})),u.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"target column")),c.push(e))})),!(c.length>0)){e.next=22;break}return e.abrupt("return",{result:a});case 22:return l=z.groupby(a,s),p=l.col(u).mean(),e.abrupt("return",{result:p});case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Io={id:"group-max-dataframe",name:"Group Max",description:Wn.NodeSpecific.GroupMaxDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"targetColumns",description:Wn.Common.DataFrameGrouping.TargetColumnsProperty,type:"string",regex:Dn.labelCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.targetColumns,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),Dn.isMatch(i,Dn.labelCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseLabelRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("targetColumns")),!(!s||s.length<=0||!u||u.length<=0)){e.next=17;break}return e.abrupt("return",{result:a});case 17:if(c=[],s.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"group column")),c.push(e))})),u.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"target column")),c.push(e))})),!(c.length>0)){e.next=22;break}return e.abrupt("return",{result:a});case 22:return l=z.groupby(a,s),p=l.col(u).max(),e.abrupt("return",{result:p});case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Mo={id:"group-min-dataframe",name:"Group Min",description:Wn.NodeSpecific.GroupMinDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"targetColumns",description:Wn.Common.DataFrameGrouping.TargetColumnsProperty,type:"string",regex:Dn.labelCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.targetColumns,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),Dn.isMatch(i,Dn.labelCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseLabelRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("targetColumns")),!(!s||s.length<=0||!u||u.length<=0)){e.next=17;break}return e.abrupt("return",{result:a});case 17:if(c=[],s.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"group column")),c.push(e))})),u.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"target column")),c.push(e))})),!(c.length>0)){e.next=22;break}return e.abrupt("return",{result:a});case 22:return l=z.groupby(a,s),p=l.col(u).min(),e.abrupt("return",{result:p});case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Ro={id:"group-std-dataframe",name:"Group Standard Deviation",description:Wn.NodeSpecific.GroupStdDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"targetColumns",description:Wn.Common.DataFrameGrouping.TargetColumnsProperty,type:"string",regex:Dn.labelCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.targetColumns,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),Dn.isMatch(i,Dn.labelCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseLabelRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("targetColumns")),!(!s||s.length<=0||!u||u.length<=0)){e.next=17;break}return e.abrupt("return",{result:a});case 17:if(c=[],s.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"group column")),c.push(e))})),u.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"target column")),c.push(e))})),!(c.length>0)){e.next=22;break}return e.abrupt("return",{result:a});case 22:return l=z.groupby(a,s),p=l.col(u).std(),e.abrupt("return",{result:p});case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Fo={id:"group-var-dataframe",name:"Group Variance",description:Wn.NodeSpecific.GroupVarDataFrame.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"result",description:Wn.Common.ResultOutput,type:w.DataFrame}],properties:[{id:"groupColumns",description:Wn.Common.DataFrameGrouping.GroupColumnsProperty,type:"string",regex:Dn.labelCommaRegex},{id:"targetColumns",description:Wn.Common.DataFrameGrouping.TargetColumnsProperty,type:"string",regex:Dn.labelCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.groupColumns,i=r.targetColumns,Dn.isMatch(o,Dn.labelCommaRegex)&&(s=Dn.processCommaDelimString(o,Dn.baseLabelRegex)),Dn.isMatch(i,Dn.labelCommaRegex)&&(u=Dn.processCommaDelimString(i,Dn.baseLabelRegex)),(!s||s.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("groupColumns")),(!u||u.length<=0)&&n.warning(Kn.EmptyNodePropertyNoEffect("targetColumns")),!(!s||s.length<=0||!u||u.length<=0)){e.next=17;break}return e.abrupt("return",{result:a});case 17:if(c=[],s.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"group column")),c.push(e))})),u.forEach((function(e){a.columns.includes(e)||(n.error(Kn.ValueNotExists(e,"target column")),c.push(e))})),!(c.length>0)){e.next=22;break}return e.abrupt("return",{result:a});case 22:return l=z.groupby(a,s),p=l.col(u).var(),e.abrupt("return",{result:p});case 25:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Eo=[jo,ko,wo,Oo,No,Co,Io,Mo,Do,So,Ro,Fo],Po={id:"dataframe-output",name:"DataFrame Output",description:Wn.NodeSpecific.DataFrameOutput.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.NodeSpecific.DataFrameOutput.Input,type:w.OR(w.DataFrame,w.Series)}],properties:[{id:"outputOrder",description:Wn.Common.OutputOrderProperty,type:"number"},{id:"rowCount",description:Wn.NodeSpecific.DataFrameOutput.RowCountProperty,type:"number",defaultValue:10}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=r.rowCount,o=t.input,i=o.shape[0]>=a&&a>0?o.head(a):o,s=i.columns.length>1?i.values.map((function(e){return e.map((function(e){return"".concat("number"===typeof e?Yn.toDecimal(e,4):e)}))})):i.values.map((function(e){return["".concat(e)]})),u={type:"dataframe",outputOrder:r.outputOrder,columns:i.columns,indexes:i.index,values:s},e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},To=[Po],Vo=r(451),Ao={id:"random-labels-column",name:"Random Labels",description:Wn.NodeSpecific.RandomLabels.Description,style:{width:130},inputSlots:[{id:"seed",description:Wn.Common.DataFrameDataGen.SeedInput,type:w.String,defaultValue:"SomeSeed"}],outputSlots:[{id:"labels",description:Wn.NodeSpecific.RandomLabels.LabelsOutput,type:w.Series}],properties:[{id:"columnName",description:Wn.Common.DataFrameDataGen.ColumnNameProperty,type:"string",regex:Dn.combine(Dn.labelRegex,Dn.emptyRegex)},{id:"rowCount",description:Wn.Common.DataFrame.RowCountProperty,type:"number",defaultValue:1},{id:"labels",description:Wn.NodeSpecific.RandomLabels.LabelsProperty,type:"string",regex:Dn.labelCommaRegex}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p,d,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.seed)){e.next=8;break}return n.error(Kn.MissingNodeInput("seed")),e.abrupt("return",{});case 8:if(a=t.seed,o=r.columnName,i=r.rowCount,s=r.labels,i<=0&&n.error(Kn.NumberCannotBeZeroOrNegative("rowCount","property")),Dn.isMatch(s,Dn.labelCommaRegex)||n.error(Kn.CannotBeEmpty("labels","property")),!(i<=0)&&Dn.isMatch(s,Dn.labelCommaRegex)){e.next=16;break}return e.abrupt("return",{});case 16:for(u=Vo.create(""!==a?a:void 0),c=o,Dn.isMatch(o,Dn.labelRegex)||(c="Labels"),l=Dn.processCommaDelimString(s,Dn.baseLabelRegex),p=[],d=0;d<i;d++)f=u(l.length),p.push(l[f]);return e.abrupt("return",{labels:new Aa.a(p,{columns:[c]})});case 23:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Lo={id:"random-data-dataframe",name:"Random Data",description:Wn.NodeSpecific.RandomData.Description,style:{width:120},inputSlots:[{id:"seed",description:Wn.Common.DataFrameDataGen.SeedInput,type:w.String,defaultValue:"SomeSeed"}],outputSlots:[{id:"data",description:Wn.NodeSpecific.RandomData.DataOutput,type:w.DataFrame}],properties:[{id:"columnNames",description:Wn.NodeSpecific.RandomData.ColumnNamesProperty,type:"string",regex:Dn.combine(Dn.labelCommaRegex,Dn.emptyRegex)},{id:"rowCount",description:Wn.Common.DataFrame.RowCountProperty,type:"number",defaultValue:1},{id:"minMax",description:Wn.NodeSpecific.RandomData.MinMaxProperty,type:"string",regex:Dn.combine(Dn.numberMapRegex,Dn.emptyRegex)},{id:"isIntegers",description:Wn.NodeSpecific.RandomData.IsIntegersProperty,type:"boolean"}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p,d,f,m,h,x,v,y,g,j,k;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.seed)){e.next=8;break}return n.error(Kn.MissingNodeInput("seed")),e.abrupt("return",{});case 8:if(a=t.seed,o=r.columnNames,i=r.rowCount,s=r.minMax,u=r.isIntegers,!(i<=0)){e.next=16;break}return n.error(Kn.NumberCannotBeZeroOrNegative("rowCount","property")),e.abrupt("return",{});case 16:if(c=Vo.create(""!==a?a:void 0),l=[],p=[],""!==o||""!==s){e.next=24;break}l=["Data"],p=["0:1"],e.next=47;break;case 24:if(""!==o||""===s){e.next=32;break}if(Dn.isMatch(s,Dn.numberMapRegex)){e.next=28;break}return n.error(Kn.DoesNotMatchPattern("minMax",s,"property")),e.abrupt("return",{});case 28:(p=Dn.processCommaDelimString(s,Dn.baseNumberMapRegex)).forEach((function(e,t){l.push("Data_".concat(t+1))})),e.next=47;break;case 32:if(""===o||""!==s){e.next=40;break}if(Dn.isMatch(o,Dn.labelCommaRegex)){e.next=36;break}return n.error(Kn.DoesNotMatchPattern("columnNames",o,"property")),e.abrupt("return",{});case 36:(l=Dn.processCommaDelimString(o,Dn.baseLabelRegex)).forEach((function(){p.push("0:1")})),e.next=47;break;case 40:if(d=!1,Dn.isMatch(s,Dn.numberMapRegex)||(n.error(Kn.DoesNotMatchPattern("minMax",s,"property")),d=!0),Dn.isMatch(o,Dn.labelCommaRegex)||(n.error(Kn.DoesNotMatchPattern("columnNames",o,"property")),d=!0),!d){e.next=45;break}return e.abrupt("return",{});case 45:p=Dn.processCommaDelimString(s,Dn.baseNumberMapRegex),l=Dn.processCommaDelimString(o,Dn.baseLabelRegex);case 47:if(p.length===l.length){e.next=50;break}return n.error(Kn.ArrayLengthsNotEqual("columnNames","minMax")),e.abrupt("return",{});case 50:f={},m=0;case 52:if(!(m<l.length)){e.next=65;break}if(h=p[m].split(":").map((function(e){return Number(e)})),x=h[0],v=h[1],!(x>v)){e.next=59;break}return n.error(Kn.MinCannotBeGreaterThanMax(p[m])),e.abrupt("return",{});case 59:for(y=l[m],f[y]||(f[y]=[]),g=0;g<i;g++)j=.5*c.random()+.5*c.random(),k=j*(v-x)+x,u&&(k=Math.round(k)),f[y].push(k);case 62:m++,e.next=52;break;case 65:return e.abrupt("return",{data:new G.a(f)});case 66:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Bo={id:"arange-dataframe",name:"Array of Integers",description:Wn.NodeSpecific.ARange.Description,style:{width:120},outputSlots:[{id:"arange",description:Wn.NodeSpecific.ARange.ARangeOutput,type:w.Series}],properties:[{id:"columnName",description:Wn.Common.DataFrameDataGen.ColumnNameProperty,type:"string",regex:Dn.combine(Dn.labelRegex,Dn.emptyRegex)},{id:"start",description:Wn.NodeSpecific.ARange.StartProperty,type:"number",defaultValue:0},{id:"stop",description:Wn.NodeSpecific.ARange.StopProperty,type:"number",defaultValue:10},{id:"step",description:Wn.NodeSpecific.ARange.StepProperty,type:"number",defaultValue:1}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i,s,u,c,l,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(a=r.columnName,o=r.start,i=r.stop,0!==(s=r.step)){e.next=12;break}return n.error(Kn.NumberCannotBeZero("step","property")),e.abrupt("return",{});case 12:if(u=!1,o<i?s<0&&(n.error(Kn.InvalidStartStopStepConfig(o,i,s)),u=!0):s>0&&(n.error(Kn.InvalidStartStopStepConfig(o,i,s)),u=!0),!u){e.next=16;break}return e.abrupt("return",{});case 16:for(c=a,Dn.isMatch(a,Dn.labelRegex)||(c="Array"),l=[],p=o;o<i?p<i:p>i;p+=s)l.push(p);return e.abrupt("return",{arange:new Aa.a(l,{columns:[c]})});case 21:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Go={id:"dataframe",name:"DataFrame Nodes Collection",description:"",nodeGroups:[{name:"BinaryOps",types:eo},{name:"Descriptive",types:po},{name:"Modify",types:go},{name:"Query",types:oo},{name:"Grouping",types:Eo},{name:"DataGen",types:[Ao,Lo,Bo]},{name:"Output",types:To}]},zo={id:"count-column-dataframe",name:"Count Series",description:Wn.NodeSpecific.CountSeries.Description,style:{width:130},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"count",description:Wn.Common.ResultOutput,type:w.Number}],properties:[{id:"skipNull",description:Wn.NodeSpecific.CountSeries.SkipNullProperty,type:"boolean",defaultValue:!1}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=r.skipNull,i=o?a.count():a.size,e.abrupt("return",{count:i});case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Ho={id:"cumulative-max-column-dataframe",name:"Cumulative Max Series",description:Wn.NodeSpecific.CumMaxSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"cumMax",description:Wn.Common.ResultOutput,type:w.Series}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.cumMax(),e.abrupt("return",{cumMax:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Uo={id:"cumulative-min-column-dataframe",name:"Cumulative Min Series",description:Wn.NodeSpecific.CumMinSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"cumMin",description:Wn.Common.ResultOutput,type:w.Series}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.cumMin(),e.abrupt("return",{cumMin:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},qo={id:"cumulative-sum-column-dataframe",name:"Cumulative Sum Series",description:Wn.NodeSpecific.CumSumSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"cumSum",description:Wn.Common.ResultOutput,type:w.Series}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.cumSum(),e.abrupt("return",{cumSum:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Wo={id:"cumulative-prod-column-dataframe",name:"Cumulative Prod Series",description:Wn.NodeSpecific.CumProdSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"cumProd",description:Wn.Common.ResultOutput,type:w.Series}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.cumProd(),e.abrupt("return",{cumProd:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Ko={id:"max-column-dataframe",name:"Max Series",description:Wn.NodeSpecific.MaxSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"max",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.max(),e.abrupt("return",{max:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Yo={id:"min-column-dataframe",name:"Min Series",description:Wn.NodeSpecific.MinSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"min",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.min(),e.abrupt("return",{min:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Jo={id:"mean-column-dataframe",name:"Mean Series",description:Wn.NodeSpecific.MeanSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"mean",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.mean(),e.abrupt("return",{mean:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Xo={id:"median-column-dataframe",name:"Median Series",description:Wn.NodeSpecific.MedianSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"median",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.median(),e.abrupt("return",{median:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Zo={id:"mode-column-dataframe",name:"Mode Series",description:Wn.NodeSpecific.ModeSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"mode",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.mode(),e.abrupt("return",{mode:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},Qo={id:"sum-column-dataframe",name:"Sum Series",description:Wn.NodeSpecific.SumSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"sum",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.sum(),e.abrupt("return",{sum:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},_o={id:"std-column-dataframe",name:"Standard Deviation Series",description:Wn.NodeSpecific.StdSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"std",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.std(),e.abrupt("return",{std:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},$o={id:"var-column-dataframe",name:"Variance Series",description:Wn.NodeSpecific.VarSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"var",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.var(),e.abrupt("return",{var:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ei={id:"nunique-column-dataframe",name:"Num Unique Series",description:Wn.NodeSpecific.NUniqueSeries.Description,style:{width:160},inputSlots:[{id:"input",description:Wn.Common.SeriesInput,type:w.Series}],outputSlots:[{id:"nunique",description:Wn.Common.ResultOutput,type:w.Number}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=a.nUnique(),e.abrupt("return",{nunique:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ti={id:"series",name:"Series Nodes Collection",description:"",nodeGroups:[{name:"Descriptive",types:[zo,Ho,Uo,qo,Wo,Ko,Yo,Jo,Xo,Zo,Qo,_o,$o,ei]}]},ri=r(115),ni=r(689),ai={id:"dataframe-to-series",name:"DataFrame To Series",description:Wn.NodeSpecific.DataFrameToSeries.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.DataFrame}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.Series}],properties:[{id:"column",description:Wn.NodeSpecific.DataFrameToSeries.ColumnProperty,type:"string",regex:Dn.combine(Dn.labelRegex,Dn.emptyRegex)}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:if(a=t.input,o=r.column,a.columns.includes(o)){e.next=13;break}return n.error(Kn.ValueNotExists(o,"column")),e.abrupt("return",{output:a});case 13:return i=a.column(o),e.abrupt("return",{output:i});case 15:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},oi={id:"series-to-dataframe",name:"Series To DataFrame",description:Wn.NodeSpecific.SeriesToDataFrame.Description,style:{width:140},inputSlots:[{id:"input",description:Wn.Common.DataFrameInput,type:w.Series}],outputSlots:[{id:"output",description:Wn.Common.ResultOutput,type:w.DataFrame}],nodeFunction:function(){var e=Object(f.a)(b.a.mark((function e(t,r,n){var a,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",{});case 2:if(r){e.next=5;break}return n.error(Kn.MissingNodeProperties),e.abrupt("return",{});case 5:if(!ar.isEmpty(t.input)){e.next=8;break}return n.error(Kn.MissingNodeInput("input")),e.abrupt("return",{});case 8:return a=t.input,o=new G.a(Object(sn.a)({},a.columns[0],a.values)),e.abrupt("return",{output:o});case 11:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},ii={id:"converter",name:"Converter Nodes Collection",description:"",nodeGroups:[{name:"",types:[ai,oi]}]};cr.addNodeCollections(ka,Ta,Wa,Go,ti,ii),ri.Chart.register.apply(ri.Chart,Object(n.a)(ri.registerables).concat([ni.ViolinController])),s.a.render(Object(vr.jsx)(o.a.StrictMode,{children:Object(vr.jsx)(l.b,{children:Object(vr.jsx)(_t.a,{store:Kt,children:Object(vr.jsx)(qn,{})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/node-books",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/node-books","/service-worker.js");u?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):c(t,e)}))}}()},594:function(e,t){},704:function(e,t,r){},705:function(e,t,r){},706:function(e,t,r){},707:function(e,t,r){},708:function(e,t,r){},745:function(e,t){},746:function(e,t){},754:function(e,t){},756:function(e,t){},757:function(e,t){},758:function(e,t){},772:function(e,t){},774:function(e,t){},783:function(e,t){},785:function(e,t){},810:function(e,t){},812:function(e,t){},813:function(e,t){},818:function(e,t){},820:function(e,t){},826:function(e,t){},828:function(e,t){},847:function(e,t){},859:function(e,t){},862:function(e,t){},888:function(e,t){},991:function(e,t){},992:function(e,t){}},[[1080,1,2]]]);
//# sourceMappingURL=main.5ee8fb21.chunk.js.map